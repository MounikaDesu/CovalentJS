!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(c){o=!0,r=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{KxEj:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("8Y7J"),r=i("l0rg"),a=i("Dxy4"),c=i("ZFy/"),l=i("Tj54"),h=["*"],u=function(){var t=function(){function t(){o(this,t),this.docked=!1,this.dockToggled=new n.n,this.closed=new n.n,this.toolbarHeight=56}return s(t,[{key:"toggleDockedState",value:function(){this.dockToggled.emit(this.docked)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["td-window-dialog"]],inputs:{toolbarColor:"toolbarColor",docked:"docked",title:"title",toggleDockedStateLabel:"toggleDockedStateLabel",closeLabel:"closeLabel"},outputs:{dockToggled:"dockToggled",closed:"closed"},ngContentSelectors:h,decls:9,vars:11,consts:[[1,"td-window-dialog-toolbar",3,"color"],["layout","row","layout-align","start center","flex",""],["flex","",1,"mat-title","td-window-dialog-title","truncate"],["mat-icon-button","",1,"td-window-dialog-close",3,"matTooltip","click"]],template:function(t,e){1&t&&(n.lc(),n.Ub(0,"mat-toolbar",0),n.Ub(1,"mat-toolbar-row"),n.Ub(2,"div",1),n.Ub(3,"span",2),n.Oc(4),n.Tb(),n.Ub(5,"button",3),n.cc("click",function(){return e.closed.emit()}),n.Ub(6,"mat-icon"),n.Oc(7,"close"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.kc(8)),2&t&&(n.Jc("min-height",e.toolbarHeight,"px")("cursor",e.docked?"inherit":"move"),n.mc("color",e.toolbarColor),n.Cb(1),n.Jc("height",e.toolbarHeight,"px"),n.Cb(3),n.Qc(" ",e.title," "),n.Cb(1),n.mc("matTooltip",e.closeLabel),n.Db("data-test","close-button"),n.Cb(1),n.Db("aria-label",e.closeLabel))},directives:[r.a,r.c,a.b,c.a,l.a],styles:["[_nghost-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-window-dialog-toolbar[_ngcontent-%COMP%]{background:none}.td-window-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.td-window-dialog-close[_ngcontent-%COMP%]{margin-right:-8px}  .td-window-dialog .mat-dialog-container{padding:0}"],changeDetection:0}),t}()},PWEM:function(i,n,r){"use strict";r.d(n,"a",function(){return Ut}),r.d(n,"c",function(){return Mt}),r.d(n,"b",function(){return Wt});var a=r("SVse"),c=r("s7LF"),l=r("iELJ"),h=r("e6WT"),u=r("Dxy4"),d=r("8Y7J");function g(t,e){1&t&&(d.Ub(0,"h3",4),d.kc(1),d.Tb())}function p(t,e){1&t&&(d.Ub(0,"div",5),d.kc(1,1),d.Tb())}function _(t,e){1&t&&(d.Ub(0,"div",6),d.Pb(1,"span",7),d.kc(2,2),d.Tb())}var f,v,m,b,y=[[["td-dialog-title"]],[["td-dialog-content"]],[["td-dialog-actions"]]],w=["td-dialog-title","td-dialog-content","td-dialog-actions"],D=((b=function t(){o(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275dir=d.Jb({type:b,selectors:[["td-dialog-title"]]}),b),P=((m=function t(){o(this,t)}).\u0275fac=function(t){return new(t||m)},m.\u0275dir=d.Jb({type:m,selectors:[["td-dialog-content"]]}),m),S=((v=function t(){o(this,t)}).\u0275fac=function(t){return new(t||v)},v.\u0275dir=d.Jb({type:v,selectors:[["td-dialog-actions"]]}),v),x=((f=function(){function t(){o(this,t)}return s(t,[{key:"ngAfterContentInit",value:function(){if(this.dialogTitle.length>1)throw new Error("Duplicate td-dialog-title component at in td-dialog.");if(this.dialogContent.length>1)throw new Error("Duplicate td-dialog-content component at in td-dialog.");if(this.dialogActions.length>1)throw new Error("Duplicate td-dialog-actions component at in td-dialog.")}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275cmp=d.Ib({type:f,selectors:[["td-dialog"]],contentQueries:function(t,e,i){var n;1&t&&(d.Hb(i,D,!0),d.Hb(i,P,!0),d.Hb(i,S,!0)),2&t&&(d.zc(n=d.dc())&&(e.dialogTitle=n),d.zc(n=d.dc())&&(e.dialogContent=n),d.zc(n=d.dc())&&(e.dialogActions=n))},ngContentSelectors:w,decls:4,vars:3,consts:[[1,"td-dialog-wrapper"],["class","td-dialog-title",4,"ngIf"],["class","td-dialog-content",4,"ngIf"],["class","td-dialog-actions",4,"ngIf"],[1,"td-dialog-title"],[1,"td-dialog-content"],[1,"td-dialog-actions"],[1,"td-dialog-spacer"]],template:function(t,e){1&t&&(d.lc(y),d.Ub(0,"div",0),d.Mc(1,g,2,0,"h3",1),d.Mc(2,p,2,0,"div",2),d.Mc(3,_,3,0,"div",3),d.Tb()),2&t&&(d.Cb(1),d.mc("ngIf",e.dialogTitle.length>0),d.Cb(1),d.mc("ngIf",e.dialogContent.length>0),d.Cb(1),d.mc("ngIf",e.dialogActions.length>0))},directives:[a.n],styles:[".td-dialog-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px}.td-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}.td-dialog-actions[_ngcontent-%COMP%]{position:relative;top:16px;left:16px}  [dir=rtl] .td-dialog-actions{right:16px;left:auto}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .td-dialog-actions[_ngcontent-%COMP%]{-ms-flex-direction:row;flex-direction:row;box-sizing:border-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .td-dialog-actions[_ngcontent-%COMP%]   .td-dialog-spacer[_ngcontent-%COMP%]{-ms-flex:1;flex:1}[_nghost-%COMP%]   .td-dialog-actions[_ngcontent-%COMP%]     button{text-transform:uppercase;margin-left:8px;padding-left:8px;padding-right:8px;min-width:64px}[dir=rtl]   [_nghost-%COMP%]   .td-dialog-actions[_ngcontent-%COMP%]     button{margin-right:8px;margin-left:inherit}"]}),f);function k(t,e){if(1&t&&(d.Ub(0,"td-dialog-title"),d.Oc(1),d.Tb()),2&t){var i=d.gc();d.Cb(1),d.Qc(" ",i.title," ")}}var C,E=((C=function(){function t(e){o(this,t),this._dialogRef=e,this.closeButton="CLOSE"}return s(t,[{key:"close",value:function(){this._dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||C)(d.Ob(l.f))},C.\u0275cmp=d.Ib({type:C,selectors:[["td-alert-dialog"]],decls:8,vars:3,consts:[[4,"ngIf"],[1,"td-dialog-message"],["mat-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(d.Ub(0,"td-dialog"),d.Mc(1,k,2,1,"td-dialog-title",0),d.Ub(2,"td-dialog-content"),d.Ub(3,"span",1),d.Oc(4),d.Tb(),d.Tb(),d.Ub(5,"td-dialog-actions"),d.Ub(6,"button",2),d.cc("click",function(){return e.close()}),d.Oc(7),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Cb(1),d.mc("ngIf",e.title),d.Cb(3),d.Pc(e.message),d.Cb(3),d.Pc(e.closeButton))},directives:[x,a.n,P,S,u.b,D],styles:[".td-dialog-message[_ngcontent-%COMP%]{word-break:break-word}"]}),C);function R(t,e){if(1&t&&(d.Ub(0,"td-dialog-title"),d.Oc(1),d.Tb()),2&t){var i=d.gc();d.Cb(1),d.Qc(" ",i.title," ")}}var T,O=((T=function(){function t(e){o(this,t),this._dialogRef=e,this.cancelButton="CANCEL",this.acceptButton="ACCEPT",this.isDestructive=!1}return s(t,[{key:"cancel",value:function(){this._dialogRef.close(!1)}},{key:"accept",value:function(){this._dialogRef.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||T)(d.Ob(l.f))},T.\u0275cmp=d.Ib({type:T,selectors:[["td-confirm-dialog"]],decls:12,vars:5,consts:[[4,"ngIf"],[1,"td-dialog-message"],["mat-button","",3,"keydown.arrowright","click"],["closeBtn",""],["mat-button","",3,"color","keydown.arrowleft","click"],["acceptBtn",""]],template:function(t,e){if(1&t){var i=d.Vb();d.Ub(0,"td-dialog"),d.Mc(1,R,2,1,"td-dialog-title",0),d.Ub(2,"td-dialog-content"),d.Ub(3,"span",1),d.Oc(4),d.Tb(),d.Tb(),d.Ub(5,"td-dialog-actions"),d.Ub(6,"button",2,3),d.cc("keydown.arrowright",function(){return d.Dc(i),d.Ac(10).focus()})("click",function(){return e.cancel()}),d.Oc(8),d.Tb(),d.Ub(9,"button",4,5),d.cc("keydown.arrowleft",function(){return d.Dc(i),d.Ac(7).focus()})("click",function(){return e.accept()}),d.Oc(11),d.Tb(),d.Tb(),d.Tb()}2&t&&(d.Cb(1),d.mc("ngIf",e.title),d.Cb(3),d.Pc(e.message),d.Cb(4),d.Pc(e.cancelButton),d.Cb(1),d.mc("color",e.isDestructive?"warn":"accent"),d.Cb(2),d.Qc(" ",e.acceptButton," "))},directives:[x,a.n,P,S,u.b,D],styles:[".td-dialog-message[_ngcontent-%COMP%]{word-break:break-word}"]}),T),I=r("Q2Ze"),M=["input"];function L(t,e){if(1&t&&(d.Ub(0,"td-dialog-title"),d.Oc(1),d.Tb()),2&t){var i=d.gc();d.Cb(1),d.Qc(" ",i.title," ")}}var A,B=((A=function(){function t(e){o(this,t),this._dialogRef=e,this.cancelButton="CANCEL",this.acceptButton="ACCEPT"}return s(t,[{key:"ngAfterViewInit",value:function(){var t=this;Promise.resolve().then(function(){t._input.nativeElement.focus()})}},{key:"handleInputFocus",value:function(){this._input.nativeElement.select()}},{key:"cancel",value:function(){this._dialogRef.close()}},{key:"accept",value:function(){this._dialogRef.close(this.value)}}]),t}()).\u0275fac=function(t){return new(t||A)(d.Ob(l.f))},A.\u0275cmp=d.Ib({type:A,selectors:[["td-prompt-dialog"]],viewQuery:function(t,e){var i;1&t&&d.Ic(M,!0),2&t&&d.zc(i=d.dc())&&(e._input=i.first)},decls:18,vars:6,consts:[[4,"ngIf"],[1,"td-dialog-message"],["novalidate",""],["form","ngForm"],[1,"td-dialog-input-wrapper"],[1,"td-dialog-input"],["matInput","","name","value","required","",3,"ngModel","focus","keydown.enter","ngModelChange"],["input",""],["mat-button","",3,"keydown.arrowright","click"],["closeBtn",""],["mat-button","","color","accent",3,"disabled","keydown.arrowleft","click"],["acceptBtn",""]],template:function(t,e){if(1&t){var i=d.Vb();d.Ub(0,"td-dialog"),d.Mc(1,L,2,1,"td-dialog-title",0),d.Ub(2,"td-dialog-content"),d.Ub(3,"span",1),d.Oc(4),d.Tb(),d.Ub(5,"form",2,3),d.Ub(7,"div",4),d.Ub(8,"mat-form-field",5),d.Ub(9,"input",6,7),d.cc("focus",function(){return e.handleInputFocus()})("keydown.enter",function(t){d.Dc(i);var n=d.Ac(6);return t.preventDefault(),n.valid&&e.accept()})("ngModelChange",function(t){return e.value=t}),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(11,"td-dialog-actions"),d.Ub(12,"button",8,9),d.cc("keydown.arrowright",function(){return d.Dc(i),d.Ac(16).focus()})("click",function(){return e.cancel()}),d.Oc(14),d.Tb(),d.Ub(15,"button",10,11),d.cc("keydown.arrowleft",function(){return d.Dc(i),d.Ac(13).focus()})("click",function(){return e.accept()}),d.Oc(17),d.Tb(),d.Tb(),d.Tb()}if(2&t){var n=d.Ac(6);d.Cb(1),d.mc("ngIf",e.title),d.Cb(3),d.Pc(e.message),d.Cb(5),d.mc("ngModel",e.value),d.Cb(5),d.Pc(e.cancelButton),d.Cb(1),d.mc("disabled",!n.valid),d.Cb(2),d.Qc(" ",e.acceptButton," ")}},directives:[x,a.n,P,c.t,c.n,c.o,I.c,h.b,c.c,c.r,c.m,c.p,S,u.b,D],styles:[".td-dialog-input-wrapper[_ngcontent-%COMP%]{-ms-flex-direction:row;flex-direction:row;box-sizing:border-box;display:-ms-flexbox;display:flex}.td-dialog-input-wrapper[_ngcontent-%COMP%]   .td-dialog-input[_ngcontent-%COMP%]{-ms-flex:1;flex:1;box-sizing:border-box}.td-dialog-message[_ngcontent-%COMP%]{word-break:break-word}"]}),A),z=r("XNiG"),U=r("7KAL"),j=r("SCoL"),V=r("8LU1"),H=r("quSY"),Y=r("HDdC"),F=r("D0XW"),N=r("Y7HM");function Z(t){var e=t.subscriber,i=t.counter,n=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var W=r("eNwd"),G=r("VRyK"),q=r("1G5W");function J(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function K(t,e){var i=e?"":"none";J(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function Q(t,e){var i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function X(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function $(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}function tt(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function et(t,e,i){var n=t.top,o=t.bottom,r=t.left,s=t.right;return i>=n&&i<=o&&e>=r&&e<=s}function it(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function nt(t,e,i,n){var o=t.top,r=t.right,s=t.bottom,a=t.left,c=t.width*e,l=t.height*e;return n>o-l&&n<s+l&&i>a-c&&i<r+c}r("JX91"),r("lJxs"),r("IzEk"),r("vkgz"),r("eIep"),r("9gLZ");var ot=function(){function t(e,i){o(this,t),this._document=e,this._viewportRuler=i,this.positions=new Map}return s(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:tt(t)})})}},{key:"handleScroll",value:function(t){var e=t.target,i=this.positions.get(e);if(!i)return null;var n,o,r=e===this._document?e.documentElement:e,s=i.scrollPosition;if(e===this._document){var a=this._viewportRuler.getViewportScrollPosition();n=a.top,o=a.left}else n=e.scrollTop,o=e.scrollLeft;var c=s.top-n,l=s.left-o;return this.positions.forEach(function(t,i){t.clientRect&&e!==i&&r.contains(i)&&it(t.clientRect,c,l)}),s.top=n,s.left=o,{top:c,left:l}}}]),t}();function rt(t){var e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(var o=0;o<i.length;o++)i[o].removeAttribute("id");return"canvas"===n?lt(t,e):"input"!==n&&"select"!==n&&"textarea"!==n||ct(t,e),st("canvas",t,e,lt),st("input, textarea, select",t,e,ct),e}function st(t,e,i,n){var o=e.querySelectorAll(t);if(o.length)for(var r=i.querySelectorAll(t),s=0;s<o.length;s++)n(o[s],r[s])}var at=0;function ct(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(at++))}function lt(t,e){var i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(n){}}var ht=Object(j.f)({passive:!0}),ut=Object(j.f)({passive:!1}),dt=function(){function t(e,i,n,r,s,a){var c=this;o(this,t),this._config=i,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new z.a,this._pointerMoveSubscription=H.a.EMPTY,this._pointerUpSubscription=H.a.EMPTY,this._scrollSubscription=H.a.EMPTY,this._resizeSubscription=H.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new z.a,this.started=new z.a,this.released=new z.a,this.ended=new z.a,this.entered=new z.a,this.exited=new z.a,this.dropped=new z.a,this.moved=this._moveEvents,this._pointerDown=function(t){if(c.beforeStarted.next(),c._handles.length){var e=c._handles.find(function(e){var i=t.target;return!!i&&(i===e||e.contains(i))});!e||c._disabledHandles.has(e)||c.disabled||c._initializeDragSequence(e,t)}else c.disabled||c._initializeDragSequence(c._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=c._getPointerPositionOnPage(t);if(c._hasStartedDragging){c._boundaryElement&&(c._previewRect&&(c._previewRect.width||c._previewRect.height)||(c._previewRect=(c._preview||c._rootElement).getBoundingClientRect()));var i=c._getConstrainedPointerPosition(e);if(c._hasMoved=!0,c._lastKnownPointerPosition=e,c._updatePointerDirectionDelta(i),c._dropContainer)c._updateActiveDropContainer(i,e);else{var n=c._activeTransform;n.x=i.x-c._pickupPositionOnPage.x+c._passiveTransform.x,n.y=i.y-c._pickupPositionOnPage.y+c._passiveTransform.y,c._applyRootElementTransform(n.x,n.y),"undefined"!=typeof SVGElement&&c._rootElement instanceof SVGElement&&c._rootElement.setAttribute("transform","translate(".concat(n.x," ").concat(n.y,")"))}c._moveEvents.observers.length&&c._ngZone.run(function(){c._moveEvents.next({source:c,pointerPosition:i,event:t,distance:c._getDragDistance(i),delta:c._pointerDirectionDelta})})}else if(Math.abs(e.x-c._pickupPositionOnPage.x)+Math.abs(e.y-c._pickupPositionOnPage.y)>=c._config.dragStartThreshold){var o=Date.now()>=c._dragStartTime+c._getDragStartDelay(t),r=c._dropContainer;if(!o)return void c._endDragSequence(t);r&&(r.isDragging()||r.isReceiving())||(c._hasStartedDragging=!0,c._ngZone.run(function(){return c._startDragSequence(t)}))}},this._pointerUp=function(t){c._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new ot(n,s),a.registerDragItem(this)}return s(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(t){return Object(V.d)(t)}),this._handles.forEach(function(t){return K(t,e.disabled)}),this._toggleNativeDragInteractions();var i=new Set;return this._disabledHandles.forEach(function(t){e._handles.indexOf(t)>-1&&i.add(t)}),this._disabledHandles=i,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,i=Object(V.d)(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){i.addEventListener("mousedown",e._pointerDown,ut),i.addEventListener("touchstart",e._pointerDown,ht)}),this._initialTransform=void 0,this._rootElement=i),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Object(V.d)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&_t(this._rootElement),_t(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),K(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),K(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&_t(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&_t(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){ft(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var i=this._rootElement,n=i.parentNode,o=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();n.insertBefore(s,i),Q(i,!1),this._document.body.appendChild(n.replaceChild(r,i)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,a).appendChild(o),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var i=this;e.stopPropagation();var n=this.isDragging(),o=ft(e),r=!o&&0!==e.button,s=this._rootElement,a=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||r||a)){this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){i._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=tt(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;Q(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var i=e._dropContainer,n=i.getItemIndex(e),o=e._getPointerPositionOnPage(t),r=e._getDragDistance(e._getPointerPositionOnPage(t)),s=i._isOverContainer(o.x,o.y);e.ended.next({source:e,distance:r}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialIndex,container:i,previousContainer:e._initialContainer,isPointerOverContainer:s,distance:r}),i.drop(e,n,e._initialIndex,e._initialContainer,s,r),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var i=this,n=t.x,o=t.y,r=e.x,s=e.y,a=this._initialContainer._getSiblingContainerFromPosition(this,n,o);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,o)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(function(){i.exited.next({item:i,container:i._dropContainer}),i._dropContainer.exit(i),i._dropContainer=a,i._dropContainer.enter(i,n,o,a===i._initialContainer&&a.sortingDisabled?i._initialIndex:void 0),i.entered.next({item:i,container:a,currentIndex:a.getItemIndex(i)})}),this._dropContainer._startScrollingIfNecessary(r,s),this._dropContainer._sortItem(this,n,o,this._pointerDirectionDelta),this._preview.style.transform=gt(n-this._pickupPositionInElement.x,o-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,i=this.previewClass,n=e?e.template:null;if(n&&e){var o=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(n,e.context);r.detectChanges(),t=vt(r,this._document),this._previewRef=r,e.matchSize?mt(t,o):t.style.transform=gt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var s=this._rootElement;mt(t=rt(s),s.getBoundingClientRect())}return J(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),K(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(function(e){return t.classList.add(e)}):t.classList.add(i)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=gt(e.left,e.top);var i=function(t){var e=getComputedStyle(t),i=$(e,"transition-property"),n=i.find(function(t){return"transform"===t||"all"===t});if(!n)return 0;var o=i.indexOf(n),r=$(e,"transition-duration"),s=$(e,"transition-delay");return X(r[o])+X(s[o])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var n=function i(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(o))},o=setTimeout(n,1.5*i);t._preview.addEventListener("transitionend",n)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=vt(this._placeholderRef,this._document)):t=rt(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():i,r=ft(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:o.left-i.left+(r.pageX-o.left-s.left),y:o.top-i.top+(r.pageY-o.top-s.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),i=ft(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){var r=this._ownerSVGElement.getScreenCTM();if(r){var s=this._ownerSVGElement.createSVGPoint();return s.x=n,s.y=o,s.matrixTransform(r.inverse())}}return{x:n,y:o}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,i=this.constrainPosition?this.constrainPosition(t,this):t,n=i.x,o=i.y;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,s=r.x,a=r.y,c=this._boundaryRect,l=this._previewRect,h=c.top+a,u=c.bottom-(l.height-a);n=pt(n,c.left+s,c.right-(l.width-s)),o=pt(o,h,u)}return{x:n,y:o}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-o.x),s=Math.abs(i-o.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,K(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,ut),t.removeEventListener("touchstart",this._pointerDown,ht)}},{key:"_applyRootElementTransform",value:function(t,e){var i=gt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===o.width&&0===o.height)){var r=n.left-o.left,s=o.right-n.right,a=n.top-o.top,c=o.bottom-n.bottom;n.width>o.width?(r>0&&(e+=r),s>0&&(e-=s)):e=0,n.height>o.height?(a>0&&(i+=a),c>0&&(i-=c)):i=0,e===this._passiveTransform.x&&i===this._passiveTransform.y||this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:ft(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&it(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(j.c)(this._rootElement)),this._cachedShadowRoot}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(V.b)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(t){return K(t,e)}))}}]),t}();function gt(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function pt(t,e,i){return Math.max(e,Math.min(i,t))}function _t(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ft(t){return"t"===t.type[0]}function vt(t,e){var i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];var n=e.createElement("div");return i.forEach(function(t){return n.appendChild(t)}),n}function mt(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=gt(e.left,e.top)}function bt(t,e){return Math.max(0,Math.min(e,t))}var yt=function(){function i(t,e,n,r,s){var a=this;o(this,i),this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new z.a,this.entered=new z.a,this.exited=new z.a,this.dropped=new z.a,this.sorted=new z.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=H.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new z.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.a;return(!Object(N.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=F.a),new Y.a(function(i){return i.add(e.schedule(Z,t,{subscriber:i,counter:0,period:t})),i})}(0,W.a).pipe(Object(q.a)(a._stopScrollTimers)).subscribe(function(){var t=a._scrollNode;1===a._verticalScrollDirection?Dt(t,-2):2===a._verticalScrollDirection&&Dt(t,2),1===a._horizontalScrollDirection?Pt(t,-2):2===a._horizontalScrollDirection&&Pt(t,2)})},this.element=Object(V.d)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new ot(n,s)}return s(i,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Object(V.d)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(function(e){return e._startReceiving(t)}),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,i,n){var o;this.start(),null==n?-1===(o=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(o=this._getItemIndexFromPointerPosition(t,e,i)):o=n;var r=this._activeDraggables,s=r.indexOf(t),a=t.getPlaceholderElement(),c=r[o];if(c===t&&(c=r[o+1]),s>-1&&r.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(a,l),r.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){var h=r[0].getRootElement();h.parentNode.insertBefore(a,h),r.unshift(t)}else Object(V.d)(this.element).appendChild(a),r.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,o,r){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:o,distance:r})}},{key:"withItems",value:function(t){var e=this,i=this._draggables;return this._draggables=t,t.forEach(function(t){return t._withDropContainer(e)}),this.isDragging()&&(i.filter(function(t){return t.isDragging()}).every(function(e){return-1===t.indexOf(e)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var i=Object(V.d)(this.element);return this._scrollableElements=-1===t.indexOf(i)?[i].concat(e(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?wt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&nt(this._clientRect,.05,e,i)){var o=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,i,n);if(!(-1===r&&o.length>0)){var s="horizontal"===this._orientation,a=wt(o,function(e){return e.drag===t}),c=o[r],l=c.clientRect,h=a>r?1:-1,u=this._getItemOffsetPx(o[a].clientRect,l,h),d=this._getSiblingOffsetPx(a,o,h),g=o.slice();!function(t,e,i){var n=bt(e,t.length-1),o=bt(i,t.length-1);if(n!==o){for(var r=t[n],s=o<n?-1:1,a=n;a!==o;a+=s)t[a]=t[a+s];t[o]=r}}(o,a,r),this.sorted.next({previousIndex:a,currentIndex:r,container:this,item:t}),o.forEach(function(e,i){if(g[i]!==e){var n=e.drag===t,o=n?u:d,r=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,s?(r.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),it(e.clientRect,0,o)):(r.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),it(e.clientRect,o,0))}}),this._previousSwap.overlaps=et(l,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?n.x:n.y}}}},{key:"_startScrollingIfNecessary",value:function(e,i){var n=this;if(!this.autoScrollDisabled){var o,r=0,s=0;if(this._parentPositions.positions.forEach(function(a,c){var l;c!==n._document&&a.clientRect&&!o&&nt(a.clientRect,.05,e,i)&&(l=t(function(t,e,i,n){var o=St(e,n),r=xt(e,i),s=0,a=0;if(o){var c=t.scrollTop;1===o?c>0&&(s=1):t.scrollHeight-c>t.clientHeight&&(s=2)}if(r){var l=t.scrollLeft;1===r?l>0&&(a=1):t.scrollWidth-l>t.clientWidth&&(a=2)}return[s,a]}(c,a.clientRect,e,i),2),r=l[0],s=l[1],(r||s)&&(o=c))}),!r&&!s){var a=this._viewportRuler.getViewportSize(),c=a.width,l=a.height,h={width:c,height:l,top:0,right:c,bottom:l,left:0};r=St(h,i),s=xt(h,e),o=window}!o||r===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&o===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=o,(r||s)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=Object(V.d)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:tt(e)}}).sort(function(e,i){return t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top})}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Object(V.d)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(t){var e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,o=e[t].clientRect,r=e[t+-1*i],s=o[n?"width":"height"]*i;if(r){var a=n?"left":"top",c=n?"right":"bottom";-1===i?s-=r.clientRect[a]-o[c]:s+=o[a]-r.clientRect[c]}return s}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,o=n?e.left-t.left:e.top-t.top;return-1===i&&(o+=n?e.width-t.width:e.height-t.height),o}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){var o=i[i.length-1].clientRect;return n?t>=o.right:e>=o.bottom}var r=i[0].clientRect;return n?t<=r.left:e<=r.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var o=this,r="horizontal"===this._orientation,s=wt(this._itemPositions,function(s,a,c){var l=s.drag,h=s.clientRect;if(l===t)return c.length<2;if(n){var u=r?n.x:n.y;if(l===o._previousSwap.drag&&o._previousSwap.overlaps&&u===o._previousSwap.delta)return!1}return r?e>=Math.floor(h.left)&&e<Math.floor(h.right):i>=Math.floor(h.top)&&i<Math.floor(h.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return et(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find(function(n){return n._canReceive(t,e,i)})}},{key:"_canReceive",value:function(t,e,i){if(!et(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var o=Object(V.d)(this.element);return n===o||o.contains(n)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){if(t.isDragging()){var i=t._parentPositions.handleScroll(e);i&&(t._itemPositions.forEach(function(t){it(t.clientRect,i.top,i.left)}),t._itemPositions.forEach(function(e){var i=e.drag;t._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=Object(j.c)(Object(V.d)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),i}();function wt(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function Dt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Pt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function St(t,e){var i=t.top,n=t.bottom,o=.05*t.height;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}function xt(t,e){var i=t.left,n=t.right,o=.05*t.width;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}var kt,Ct,Et,Rt=Object(j.f)({passive:!1,capture:!0}),Tt=((kt=function(){function t(e,i){var n=this;o(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new z.a,this.pointerUp=new z.a,this.scroll=new z.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=function(t){n._activeDragInstances.size&&(t.preventDefault(),n.pointerMove.next(t))},this._document=i}return s(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,Rt)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Rt)}},{key:"startDragging",value:function(t,e){var i=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var n=e.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:function(t){return i.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return i.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Rt}),n||this._globalListeners.set("mousemove",{handler:function(t){return i.pointerMove.next(t)},options:Rt}),this._ngZone.runOutsideAngular(function(){i._globalListeners.forEach(function(t,e){i._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,i){t._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||kt)(d.Yb(d.A),d.Yb(a.d))},kt.\u0275prov=Object(d.Kb)({factory:function(){return new kt(Object(d.Yb)(d.A),Object(d.Yb)(a.d))},token:kt,providedIn:"root"}),kt),Ot={dragStartThreshold:5,pointerDirectionChangeThreshold:5},It=((Et=function(){function t(e,i,n,r){o(this,t),this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=r}return s(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot;return new dt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new yt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||Et)(d.Yb(a.d),d.Yb(d.A),d.Yb(U.h),d.Yb(Tt))},Et.\u0275prov=Object(d.Kb)({factory:function(){return new Et(Object(d.Yb)(a.d),Object(d.Yb)(d.A),Object(d.Yb)(U.h),Object(d.Yb)(Tt))},token:Et,providedIn:"root"}),Et),Mt=((Ct=function(){function t(e,i,n,r){o(this,t),this._document=e,this._dialogService=i,this._dragDrop=n,this.rendererFactory=r,this._renderer2=r.createRenderer(void 0,void 0)}return s(t,[{key:"open",value:function(t,e){return this._dialogService.open(t,e)}},{key:"closeAll",value:function(){this._dialogService.closeAll()}},{key:"openAlert",value:function(t){var e=this._createConfig(t),i=this._dialogService.open(E,e),n=i.componentInstance;return n.title=t.title,n.message=t.message,t.closeButton&&(n.closeButton=t.closeButton),i}},{key:"openConfirm",value:function(t){var e=this._createConfig(t),i=this._dialogService.open(O,e),n=i.componentInstance;return n.title=t.title,n.message=t.message,t.acceptButton&&(n.acceptButton=t.acceptButton),t.isDestructive&&(n.isDestructive=t.isDestructive),t.cancelButton&&(n.cancelButton=t.cancelButton),i}},{key:"openPrompt",value:function(t){var e=this._createConfig(t),i=this._dialogService.open(B,e),n=i.componentInstance;return n.title=t.title,n.message=t.message,n.value=t.value,t.acceptButton&&(n.acceptButton=t.acceptButton),t.cancelButton&&(n.cancelButton=t.cancelButton),i}},{key:"openDraggable",value:function(t){var i=this,n=t.component,o=t.config,r=t.dragHandleSelectors,s=t.draggableClass,a=this._dialogService.open(n,o),c=new z.a;return a.afterOpened().subscribe(function(){var t=i._document.getElementById(a.id),n=i._dragDrop.createDrag(t);if(s&&i._renderer2.addClass(t.firstElementChild,s),r&&r.length){var o=r.reduce(function(i,n){return[].concat(e(i),e(Array.from(t.querySelectorAll(n))))},[]);o.length>0&&n.withHandles(o)}var l=t.closest(".cdk-overlay-pane");l&&n.withRootElement(l);var h=t.closest(".cdk-overlay-container");h&&n.withBoundaryElement(h),c.next(n)}),{matDialogRef:a,dragRefSubject:c}}},{key:"_createConfig",value:function(t){var e=new l.d;return e.width="400px",Object.assign(e,t),e}}]),t}()).\u0275fac=function(t){return new(t||Ct)(d.Yb(a.d),d.Yb(l.c),d.Yb(It),d.Yb(d.G))},Ct.\u0275prov=d.Kb({token:Ct,factory:Ct.\u0275fac}),Ct);r("KxEj");var Lt,At=r("l0rg"),Bt=r("ZFy/"),zt=r("Tj54"),Ut=((Lt=function t(){o(this,t)}).\u0275mod=d.Mb({type:Lt}),Lt.\u0275inj=d.Lb({factory:function(t){return new(t||Lt)},providers:[Mt],imports:[[c.i,a.c,l.e,h.c,u.c,At.b,Bt.b,zt.b]]}),Lt),jt=r("xgIS"),Vt=function(t){return t.topRight="topRight",t.bottomRight="bottomRight",t.bottomLeft="bottomLeft",t.topLeft="topLeft",t}({}),Ht=function(t){return t.nesw="nesw-resize",t.nwse="nwse-resize",t}({}),Yt=function(t){return t.top="top",t.bottom="bottom",t}({}),Ft=function(t){return t.right="right",t.left="left",t}({});function Nt(t){return parseFloat((t||"").replace("px",""))}function Zt(t,e,i){return Math.min(Math.max(e,t),i)}var Wt=function(){function t(e,i,n,r){o(this,t),this._document=e,this._renderer2=i,this._dialogRef=n,this._dragRef=r,this.cornerElements=[],this.pointerDownSubs=[],this._initialPositionReset(),this._attachCorners()}return s(t,[{key:"attach",value:function(){this.detach(),this._attachCorners()}},{key:"detach",value:function(){var t=this;this.pointerDownSubs.forEach(function(t){return t.unsubscribe()}),this.pointerDownSubs=[],this.cornerElements.forEach(function(e){return t._renderer2.removeChild(t._getDialogWrapper(),e)}),this.cornerElements=[]}},{key:"_getDialogWrapper",value:function(){return(this._document.getElementById(this._dialogRef.id)||{}).parentElement}},{key:"_getViewportDimensions",value:function(){return this._getDialogWrapper().parentElement.getBoundingClientRect()}},{key:"_getDialogWrapperDimensions",value:function(){var t=getComputedStyle(this._getDialogWrapper());return{width:Nt(t.width),height:Nt(t.height)}}},{key:"_initialPositionReset",value:function(){var t,e,i=this._getViewportDimensions(),n=i.right,o=i.bottom,r=this._getDialogWrapperDimensions(),s=r.width,a=r.height,c=this._getDialogWrapper().style,l=c.marginRight,h=c.marginLeft,u=c.marginBottom,d=c.marginTop;t=h?Nt(h):l?n-Nt(l)-s:(n-s)/2,e=d?Nt(d):u?o-Nt(u)-a:(o-a)/2,this._dialogRef.updatePosition({top:"0px",right:"0px",bottom:"0px",left:"0px"}),this._dragRef.setFreeDragPosition({x:t,y:e})}},{key:"_attachCorners",value:function(){var t=this;Object.values(Vt).forEach(function(i){var n,o,r,s=t._renderer2.createElement("div");if(t.cornerElements=[].concat(e(t.cornerElements),[s]),t._renderer2.setStyle(s,"position","absolute"),t._renderer2.setStyle(s,"width","16px"),t._renderer2.setStyle(s,"height","16px"),t._renderer2.appendChild(t._getDialogWrapper(),s),i===Vt.topRight)n=Ht.nesw,o=Yt.top,r=Ft.right;else if(i===Vt.bottomRight){n=Ht.nwse,o=Yt.bottom,r=Ft.right;var a=t._renderer2.createElement("i");t._renderer2.addClass(a,"material-icons"),t._renderer2.appendChild(a,t._renderer2.createText("filter_list")),t._renderer2.appendChild(s,a),t._renderer2.setStyle(a,"transform","rotate(315deg) translate(0px, 0px)"),t._renderer2.setStyle(a,"font-size","16px")}else i===Vt.bottomLeft?(n=Ht.nesw,o=Yt.bottom,r=Ft.left):i===Vt.topLeft&&(n=Ht.nwse,o=Yt.top,r=Ft.left);t._renderer2.setStyle(s,o,"0px"),t._renderer2.setStyle(s,r,"0px"),t._renderer2.setStyle(s,"cursor",n);var c=Object(jt.a)(s,"pointerdown").subscribe(function(e){t._handleMouseDown(e,i)});t.pointerDownSubs=[].concat(e(t.pointerDownSubs),[c])})}},{key:"_handleMouseDown",value:function(t,e){var i=this;this._renderer2.setStyle(this._document.body,"user-select","none");var n=this._getDialogWrapperDimensions(),o=n.width,r=n.height,s=t.pageX,a=t.pageY,c=this._dragRef.getFreeDragPosition(),l=c.x,h=c.y,u=this._getDialogWrapper().getBoundingClientRect(),d=u.bottom,g=u.right,p=this._getViewportDimensions(),_=p.right,f=p.bottom,v=Object(jt.a)(window,"pointermove").subscribe(function(t){t.preventDefault();var n,c,u=Zt(0,t.pageY,f)-a,p=Zt(0,t.pageX,_)-s,v=0,m=0;e===Vt.topRight?(n=Zt(200,r-u,f),c=Zt(200,o+p,_),v=Zt(0,h+u,d-n),m=l):e===Vt.bottomRight?(n=Zt(200,r+u,f),c=Zt(200,o+p,_),v=h,m=l):e===Vt.bottomLeft?(n=Zt(200,r+u,f),c=Zt(200,o-p,_),v=h,m=Zt(0,l+p,g-c)):e===Vt.topLeft&&(n=Zt(200,r-u,f),c=Zt(200,o-p,_),m=Zt(0,l+p,g-c),v=Zt(0,h+u,d-n)),i._dialogRef.updateSize(c+"px",n+"px"),i._dragRef.setFreeDragPosition({x:m,y:v})}),m=Object(G.a)(Object(jt.a)(window,"pointerup"),Object(jt.a)(window,"pointercancel")).subscribe(function(){i._renderer2.removeStyle(i._document.body,"user-select"),v.unsubscribe(),m.unsubscribe()})}}]),t}()}}])}();