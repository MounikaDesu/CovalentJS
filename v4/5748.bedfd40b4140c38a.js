(self.webpackChunkdocs_app=self.webpackChunkdocs_app||[]).push([[5748],{2104:(ot,He,me)=>{"use strict";me.d(He,{B:()=>_});var U=me(5e3),z=me(93075),B=me(29756);let F={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const N=/[&<>"']/,K=/[&<>"']/g,ne=/[<>"']|&(?!#?\w+;)/,J=/[<>"']|&(?!#?\w+;)/g,Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fe=D=>Z[D];function ae(D,a){if(a){if(N.test(D))return D.replace(K,fe)}else if(ne.test(D))return D.replace(J,fe);return D}const he=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function we(D){return D.replace(he,(a,l)=>"colon"===(l=l.toLowerCase())?":":"#"===l.charAt(0)?"x"===l.charAt(1)?String.fromCharCode(parseInt(l.substring(2),16)):String.fromCharCode(+l.substring(1)):"")}const xe=/(^|[^\[])\^/g;function P(D,a){D=D.source||D,a=a||"";const l={replace:(u,d)=>(d=(d=d.source||d).replace(xe,"$1"),D=D.replace(u,d),l),getRegex:()=>new RegExp(D,a)};return l}const j=/[^\w:]/g,V=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Y(D,a,l){if(D){let u;try{u=decodeURIComponent(we(l)).replace(j,"").toLowerCase()}catch(d){return null}if(0===u.indexOf("javascript:")||0===u.indexOf("vbscript:")||0===u.indexOf("data:"))return null}a&&!V.test(l)&&(l=function Ne(D,a){ce[" "+D]||(ce[" "+D]=le.test(D)?D+"/":We(D,"/",!0));const l=-1===(D=ce[" "+D]).indexOf(":");return"//"===a.substring(0,2)?l?a:D.replace(X,"$1")+a:"/"===a.charAt(0)?l?a:D.replace(Ce,"$1")+a:D+a}(a,l));try{l=encodeURI(l).replace(/%25/g,"%")}catch(u){return null}return l}const ce={},le=/^[^:]+:\/*[^/]*$/,X=/^([^:]+:)[\s\S]*$/,Ce=/^([^:]+:\/*[^/]*)[\s\S]*$/,se={exec:function(){}};function Q(D){let l,u,a=1;for(;a<arguments.length;a++)for(u in l=arguments[a],l)Object.prototype.hasOwnProperty.call(l,u)&&(D[u]=l[u]);return D}function Fe(D,a){const u=D.replace(/\|/g,(b,k,q)=>{let c=!1,v=k;for(;--v>=0&&"\\"===q[v];)c=!c;return c?"|":" |"}).split(/ \|/);let d=0;if(u[0].trim()||u.shift(),u.length>0&&!u[u.length-1].trim()&&u.pop(),u.length>a)u.splice(a);else for(;u.length<a;)u.push("");for(;d<u.length;d++)u[d]=u[d].trim().replace(/\\\|/g,"|");return u}function We(D,a,l){const u=D.length;if(0===u)return"";let d=0;for(;d<u;){const b=D.charAt(u-d-1);if(b!==a||l){if(b===a||!l)break;d++}else d++}return D.substr(0,u-d)}function oe(D){D&&D.sanitize&&!D.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function te(D,a){if(a<1)return"";let l="";for(;a>1;)1&a&&(l+=D),a>>=1,D+=D;return l+D}function Ee(D,a,l,u){const d=a.href,b=a.title?ae(a.title):null,k=D[1].replace(/\\([\[\]])/g,"$1");if("!"!==D[0].charAt(0)){u.state.inLink=!0;const q={type:"link",raw:l,href:d,title:b,text:k,tokens:u.inlineTokens(k,[])};return u.state.inLink=!1,q}return{type:"image",raw:l,href:d,title:b,text:ae(k)}}class at{constructor(a){this.options=a||F}space(a){const l=this.rules.block.newline.exec(a);if(l&&l[0].length>0)return{type:"space",raw:l[0]}}code(a){const l=this.rules.block.code.exec(a);if(l){const u=l[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:l[0],codeBlockStyle:"indented",text:this.options.pedantic?u:We(u,"\n")}}}fences(a){const l=this.rules.block.fences.exec(a);if(l){const u=l[0],d=function Ye(D,a){const l=D.match(/^(\s+)(?:```)/);if(null===l)return a;const u=l[1];return a.split("\n").map(d=>{const b=d.match(/^\s+/);if(null===b)return d;const[k]=b;return k.length>=u.length?d.slice(u.length):d}).join("\n")}(u,l[3]||"");return{type:"code",raw:u,lang:l[2]?l[2].trim():l[2],text:d}}}heading(a){const l=this.rules.block.heading.exec(a);if(l){let u=l[2].trim();if(/#$/.test(u)){const b=We(u,"#");(this.options.pedantic||!b||/ $/.test(b))&&(u=b.trim())}const d={type:"heading",raw:l[0],depth:l[1].length,text:u,tokens:[]};return this.lexer.inline(d.text,d.tokens),d}}hr(a){const l=this.rules.block.hr.exec(a);if(l)return{type:"hr",raw:l[0]}}blockquote(a){const l=this.rules.block.blockquote.exec(a);if(l){const u=l[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:l[0],tokens:this.lexer.blockTokens(u,[]),text:u}}}list(a){let l=this.rules.block.list.exec(a);if(l){let u,d,b,k,q,c,v,x,E,S,w,T,L=l[1].trim();const I=L.length>1,ee={type:"list",raw:"",ordered:I,start:I?+L.slice(0,-1):"",loose:!1,items:[]};L=I?`\\d{1,9}\\${L.slice(-1)}`:`\\${L}`,this.options.pedantic&&(L=I?L:"[*+-]");const ie=new RegExp(`^( {0,3}${L})((?: [^\\n]*)?(?:\\n|$))`);for(;a&&(T=!1,(l=ie.exec(a))&&!this.rules.block.hr.test(a));){if(u=l[0],a=a.substring(u.length),x=l[2].split("\n",1)[0],E=a.split("\n",1)[0],this.options.pedantic?(k=2,w=x.trimLeft()):(k=l[2].search(/[^ ]/),k=k>4?1:k,w=x.slice(k),k+=l[1].length),c=!1,!x&&/^ *$/.test(E)&&(u+=E+"\n",a=a.substring(E.length+1),T=!0),!T){const Be=new RegExp(`^ {0,${Math.min(3,k-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;a&&(S=a.split("\n",1)[0],x=S,this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Be.test(x));){if(x.search(/[^ ]/)>=k||!x.trim())w+="\n"+x.slice(k);else{if(c)break;w+="\n"+x}!c&&!x.trim()&&(c=!0),u+=S+"\n",a=a.substring(S.length+1)}}ee.loose||(v?ee.loose=!0:/\n *\n *$/.test(u)&&(v=!0)),this.options.gfm&&(d=/^\[[ xX]\] /.exec(w),d&&(b="[ ] "!==d[0],w=w.replace(/^\[[ xX]\] +/,""))),ee.items.push({type:"list_item",raw:u,task:!!d,checked:b,loose:!1,text:w}),ee.raw+=u}ee.items[ee.items.length-1].raw=u.trimRight(),ee.items[ee.items.length-1].text=w.trimRight(),ee.raw=ee.raw.trimRight();const Oe=ee.items.length;for(q=0;q<Oe;q++){this.lexer.state.top=!1,ee.items[q].tokens=this.lexer.blockTokens(ee.items[q].text,[]);const Be=ee.items[q].tokens.filter(Ie=>"space"===Ie.type),ye=Be.every(Ie=>{const Re=Ie.raw.split("");let qe=0;for(const je of Re)if("\n"===je&&(qe+=1),qe>1)return!0;return!1});!ee.loose&&Be.length&&ye&&(ee.loose=!0,ee.items[q].loose=!0)}return ee}}html(a){const l=this.rules.block.html.exec(a);if(l){const u={type:"html",raw:l[0],pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:l[0]};return this.options.sanitize&&(u.type="paragraph",u.text=this.options.sanitizer?this.options.sanitizer(l[0]):ae(l[0]),u.tokens=[],this.lexer.inline(u.text,u.tokens)),u}}def(a){const l=this.rules.block.def.exec(a);if(l)return l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),{type:"def",tag:l[1].toLowerCase().replace(/\s+/g," "),raw:l[0],href:l[2],title:l[3]}}table(a){const l=this.rules.block.table.exec(a);if(l){const u={type:"table",header:Fe(l[1]).map(d=>({text:d})),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:l[3]&&l[3].trim()?l[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(u.header.length===u.align.length){u.raw=l[0];let b,k,q,c,d=u.align.length;for(b=0;b<d;b++)u.align[b]=/^ *-+: *$/.test(u.align[b])?"right":/^ *:-+: *$/.test(u.align[b])?"center":/^ *:-+ *$/.test(u.align[b])?"left":null;for(d=u.rows.length,b=0;b<d;b++)u.rows[b]=Fe(u.rows[b],u.header.length).map(v=>({text:v}));for(d=u.header.length,k=0;k<d;k++)u.header[k].tokens=[],this.lexer.inlineTokens(u.header[k].text,u.header[k].tokens);for(d=u.rows.length,k=0;k<d;k++)for(c=u.rows[k],q=0;q<c.length;q++)c[q].tokens=[],this.lexer.inlineTokens(c[q].text,c[q].tokens);return u}}}lheading(a){const l=this.rules.block.lheading.exec(a);if(l){const u={type:"heading",raw:l[0],depth:"="===l[2].charAt(0)?1:2,text:l[1],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}}paragraph(a){const l=this.rules.block.paragraph.exec(a);if(l){const u={type:"paragraph",raw:l[0],text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}}text(a){const l=this.rules.block.text.exec(a);if(l){const u={type:"text",raw:l[0],text:l[0],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}}escape(a){const l=this.rules.inline.escape.exec(a);if(l)return{type:"escape",raw:l[0],text:ae(l[1])}}tag(a){const l=this.rules.inline.tag.exec(a);if(l)return!this.lexer.state.inLink&&/^<a /i.test(l[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(l[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:l[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):ae(l[0]):l[0]}}link(a){const l=this.rules.inline.link.exec(a);if(l){const u=l[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;const k=We(u.slice(0,-1),"\\");if((u.length-k.length)%2==0)return}else{const k=function W(D,a){if(-1===D.indexOf(a[1]))return-1;const l=D.length;let u=0,d=0;for(;d<l;d++)if("\\"===D[d])d++;else if(D[d]===a[0])u++;else if(D[d]===a[1]&&(u--,u<0))return d;return-1}(l[2],"()");if(k>-1){const c=(0===l[0].indexOf("!")?5:4)+l[1].length+k;l[2]=l[2].substring(0,k),l[0]=l[0].substring(0,c).trim(),l[3]=""}}let d=l[2],b="";if(this.options.pedantic){const k=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(d);k&&(d=k[1],b=k[3])}else b=l[3]?l[3].slice(1,-1):"";return d=d.trim(),/^</.test(d)&&(d=this.options.pedantic&&!/>$/.test(u)?d.slice(1):d.slice(1,-1)),Ee(l,{href:d&&d.replace(this.rules.inline._escapes,"$1"),title:b&&b.replace(this.rules.inline._escapes,"$1")},l[0],this.lexer)}}reflink(a,l){let u;if((u=this.rules.inline.reflink.exec(a))||(u=this.rules.inline.nolink.exec(a))){let d=(u[2]||u[1]).replace(/\s+/g," ");if(d=l[d.toLowerCase()],!d||!d.href){const b=u[0].charAt(0);return{type:"text",raw:b,text:b}}return Ee(u,d,u[0],this.lexer)}}emStrong(a,l,u=""){let d=this.rules.inline.emStrong.lDelim.exec(a);if(!d||d[3]&&u.match(/[\p{L}\p{N}]/u))return;const b=d[1]||d[2]||"";if(!b||b&&(""===u||this.rules.inline.punctuation.exec(u))){const k=d[0].length-1;let q,c,v=k,x=0;const E="*"===d[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(E.lastIndex=0,l=l.slice(-1*a.length+k);null!=(d=E.exec(l));){if(q=d[1]||d[2]||d[3]||d[4]||d[5]||d[6],!q)continue;if(c=q.length,d[3]||d[4]){v+=c;continue}if((d[5]||d[6])&&k%3&&!((k+c)%3)){x+=c;continue}if(v-=c,v>0)continue;if(c=Math.min(c,c+v+x),Math.min(k,c)%2){const w=a.slice(1,k+d.index+c);return{type:"em",raw:a.slice(0,k+d.index+c+1),text:w,tokens:this.lexer.inlineTokens(w,[])}}const S=a.slice(2,k+d.index+c-1);return{type:"strong",raw:a.slice(0,k+d.index+c+1),text:S,tokens:this.lexer.inlineTokens(S,[])}}}}codespan(a){const l=this.rules.inline.code.exec(a);if(l){let u=l[2].replace(/\n/g," ");const d=/[^ ]/.test(u),b=/^ /.test(u)&&/ $/.test(u);return d&&b&&(u=u.substring(1,u.length-1)),u=ae(u,!0),{type:"codespan",raw:l[0],text:u}}}br(a){const l=this.rules.inline.br.exec(a);if(l)return{type:"br",raw:l[0]}}del(a){const l=this.rules.inline.del.exec(a);if(l)return{type:"del",raw:l[0],text:l[2],tokens:this.lexer.inlineTokens(l[2],[])}}autolink(a,l){const u=this.rules.inline.autolink.exec(a);if(u){let d,b;return"@"===u[2]?(d=ae(this.options.mangle?l(u[1]):u[1]),b="mailto:"+d):(d=ae(u[1]),b=d),{type:"link",raw:u[0],text:d,href:b,tokens:[{type:"text",raw:d,text:d}]}}}url(a,l){let u;if(u=this.rules.inline.url.exec(a)){let d,b;if("@"===u[2])d=ae(this.options.mangle?l(u[0]):u[0]),b="mailto:"+d;else{let k;do{k=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0]}while(k!==u[0]);d=ae(u[0]),b="www."===u[1]?"http://"+d:d}return{type:"link",raw:u[0],text:d,href:b,tokens:[{type:"text",raw:d,text:d}]}}}inlineText(a,l){const u=this.rules.inline.text.exec(a);if(u){let d;return d=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):ae(u[0]):u[0]:ae(this.options.smartypants?l(u[0]):u[0]),{type:"text",raw:u[0],text:d}}}}const ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:se,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ke.def=P(ke.def).replace("label",ke._label).replace("title",ke._title).getRegex(),ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,ke.listItemStart=P(/^( *)(bull) */).replace("bull",ke.bullet).getRegex(),ke.list=P(ke.list).replace(/bull/g,ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ke.def.source+")").getRegex(),ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ke.html=P(ke.html,"i").replace("comment",ke._comment).replace("tag",ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ke.paragraph=P(ke._paragraph).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.blockquote=P(ke.blockquote).replace("paragraph",ke.paragraph).getRegex(),ke.normal=Q({},ke),ke.gfm=Q({},ke.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ke.gfm.table=P(ke.gfm.table).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.gfm.paragraph=P(ke._paragraph).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ke.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.pedantic=Q({},ke.normal,{html:P("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:se,paragraph:P(ke.normal._paragraph).replace("hr",ke.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const m={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:se,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:se,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function g(D){return D.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ge(D){let l,u,a="";const d=D.length;for(l=0;l<d;l++)u=D.charCodeAt(l),Math.random()>.5&&(u="x"+u.toString(16)),a+="&#"+u+";";return a}m._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",m.punctuation=P(m.punctuation).replace(/punctuation/g,m._punctuation).getRegex(),m.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,m.escapedEmSt=/\\\*|\\_/g,m._comment=P(ke._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),m.emStrong.lDelim=P(m.emStrong.lDelim).replace(/punct/g,m._punctuation).getRegex(),m.emStrong.rDelimAst=P(m.emStrong.rDelimAst,"g").replace(/punct/g,m._punctuation).getRegex(),m.emStrong.rDelimUnd=P(m.emStrong.rDelimUnd,"g").replace(/punct/g,m._punctuation).getRegex(),m._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,m._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,m._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,m.autolink=P(m.autolink).replace("scheme",m._scheme).replace("email",m._email).getRegex(),m._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,m.tag=P(m.tag).replace("comment",m._comment).replace("attribute",m._attribute).getRegex(),m._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,m._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,m._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,m.link=P(m.link).replace("label",m._label).replace("href",m._href).replace("title",m._title).getRegex(),m.reflink=P(m.reflink).replace("label",m._label).replace("ref",ke._label).getRegex(),m.nolink=P(m.nolink).replace("ref",ke._label).getRegex(),m.reflinkSearch=P(m.reflinkSearch,"g").replace("reflink",m.reflink).replace("nolink",m.nolink).getRegex(),m.normal=Q({},m),m.pedantic=Q({},m.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",m._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",m._label).getRegex()}),m.gfm=Q({},m.normal,{escape:P(m.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),m.gfm.url=P(m.gfm.url,"i").replace("email",m.gfm._extended_email).getRegex(),m.breaks=Q({},m.gfm,{br:P(m.br).replace("{2,}","*").getRegex(),text:P(m.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ue{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||F,this.options.tokenizer=this.options.tokenizer||new at,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const l={block:ke.normal,inline:m.normal};this.options.pedantic?(l.block=ke.pedantic,l.inline=m.pedantic):this.options.gfm&&(l.block=ke.gfm,l.inline=this.options.breaks?m.breaks:m.gfm),this.tokenizer.rules=l}static get rules(){return{block:ke,inline:m}}static lex(a,l){return new Ue(l).lex(a)}static lexInline(a,l){return new Ue(l).inlineTokens(a)}lex(a){let l;for(a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(a,this.tokens);l=this.inlineQueue.shift();)this.inlineTokens(l.src,l.tokens);return this.tokens}blockTokens(a,l=[]){let u,d,b,k;for(this.options.pedantic&&(a=a.replace(/^ +$/gm,""));a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(q=>!!(u=q.call({lexer:this},a,l))&&(a=a.substring(u.raw.length),l.push(u),!0)))){if(u=this.tokenizer.space(a)){a=a.substring(u.raw.length),1===u.raw.length&&l.length>0?l[l.length-1].raw+="\n":l.push(u);continue}if(u=this.tokenizer.code(a)){a=a.substring(u.raw.length),d=l[l.length-1],!d||"paragraph"!==d.type&&"text"!==d.type?l.push(u):(d.raw+="\n"+u.raw,d.text+="\n"+u.text,this.inlineQueue[this.inlineQueue.length-1].src=d.text);continue}if(u=this.tokenizer.fences(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.heading(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.hr(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.blockquote(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.list(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.html(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.def(a)){a=a.substring(u.raw.length),d=l[l.length-1],!d||"paragraph"!==d.type&&"text"!==d.type?this.tokens.links[u.tag]||(this.tokens.links[u.tag]={href:u.href,title:u.title}):(d.raw+="\n"+u.raw,d.text+="\n"+u.raw,this.inlineQueue[this.inlineQueue.length-1].src=d.text);continue}if(u=this.tokenizer.table(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.lheading(a)){a=a.substring(u.raw.length),l.push(u);continue}if(b=a,this.options.extensions&&this.options.extensions.startBlock){let q=1/0;const c=a.slice(1);let v;this.options.extensions.startBlock.forEach(function(x){v=x.call({lexer:this},c),"number"==typeof v&&v>=0&&(q=Math.min(q,v))}),q<1/0&&q>=0&&(b=a.substring(0,q+1))}if(this.state.top&&(u=this.tokenizer.paragraph(b))){d=l[l.length-1],k&&"paragraph"===d.type?(d.raw+="\n"+u.raw,d.text+="\n"+u.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=d.text):l.push(u),k=b.length!==a.length,a=a.substring(u.raw.length);continue}if(u=this.tokenizer.text(a)){a=a.substring(u.raw.length),d=l[l.length-1],d&&"text"===d.type?(d.raw+="\n"+u.raw,d.text+="\n"+u.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=d.text):l.push(u);continue}if(a){const q="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(q);break}throw new Error(q)}}return this.state.top=!0,l}inline(a,l){this.inlineQueue.push({src:a,tokens:l})}inlineTokens(a,l=[]){let u,d,b,q,c,v,k=a;if(this.tokens.links){const x=Object.keys(this.tokens.links);if(x.length>0)for(;null!=(q=this.tokenizer.rules.inline.reflinkSearch.exec(k));)x.includes(q[0].slice(q[0].lastIndexOf("[")+1,-1))&&(k=k.slice(0,q.index)+"["+te("a",q[0].length-2)+"]"+k.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(q=this.tokenizer.rules.inline.blockSkip.exec(k));)k=k.slice(0,q.index)+"["+te("a",q[0].length-2)+"]"+k.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(q=this.tokenizer.rules.inline.escapedEmSt.exec(k));)k=k.slice(0,q.index)+"++"+k.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(c||(v=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(x=>!!(u=x.call({lexer:this},a,l))&&(a=a.substring(u.raw.length),l.push(u),!0)))){if(u=this.tokenizer.escape(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.tag(a)){a=a.substring(u.raw.length),d=l[l.length-1],d&&"text"===u.type&&"text"===d.type?(d.raw+=u.raw,d.text+=u.text):l.push(u);continue}if(u=this.tokenizer.link(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(u.raw.length),d=l[l.length-1],d&&"text"===u.type&&"text"===d.type?(d.raw+=u.raw,d.text+=u.text):l.push(u);continue}if(u=this.tokenizer.emStrong(a,k,v)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.codespan(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.br(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.del(a)){a=a.substring(u.raw.length),l.push(u);continue}if(u=this.tokenizer.autolink(a,ge)){a=a.substring(u.raw.length),l.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(a,ge))){a=a.substring(u.raw.length),l.push(u);continue}if(b=a,this.options.extensions&&this.options.extensions.startInline){let x=1/0;const E=a.slice(1);let S;this.options.extensions.startInline.forEach(function(w){S=w.call({lexer:this},E),"number"==typeof S&&S>=0&&(x=Math.min(x,S))}),x<1/0&&x>=0&&(b=a.substring(0,x+1))}if(u=this.tokenizer.inlineText(b,g)){a=a.substring(u.raw.length),"_"!==u.raw.slice(-1)&&(v=u.raw.slice(-1)),c=!0,d=l[l.length-1],d&&"text"===d.type?(d.raw+=u.raw,d.text+=u.text):l.push(u);continue}if(a){const x="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(x);break}throw new Error(x)}}return l}}class Te{constructor(a){this.options=a||F}code(a,l,u){const d=(l||"").match(/\S*/)[0];if(this.options.highlight){const b=this.options.highlight(a,d);null!=b&&b!==a&&(u=!0,a=b)}return a=a.replace(/\n$/,"")+"\n",d?'<pre><code class="'+this.options.langPrefix+ae(d,!0)+'">'+(u?a:ae(a,!0))+"</code></pre>\n":"<pre><code>"+(u?a:ae(a,!0))+"</code></pre>\n"}blockquote(a){return"<blockquote>\n"+a+"</blockquote>\n"}html(a){return a}heading(a,l,u,d){return this.options.headerIds?"<h"+l+' id="'+this.options.headerPrefix+d.slug(u)+'">'+a+"</h"+l+">\n":"<h"+l+">"+a+"</h"+l+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(a,l,u){const d=l?"ol":"ul";return"<"+d+(l&&1!==u?' start="'+u+'"':"")+">\n"+a+"</"+d+">\n"}listitem(a){return"<li>"+a+"</li>\n"}checkbox(a){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(a){return"<p>"+a+"</p>\n"}table(a,l){return l&&(l="<tbody>"+l+"</tbody>"),"<table>\n<thead>\n"+a+"</thead>\n"+l+"</table>\n"}tablerow(a){return"<tr>\n"+a+"</tr>\n"}tablecell(a,l){const u=l.header?"th":"td";return(l.align?"<"+u+' align="'+l.align+'">':"<"+u+">")+a+"</"+u+">\n"}strong(a){return"<strong>"+a+"</strong>"}em(a){return"<em>"+a+"</em>"}codespan(a){return"<code>"+a+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(a){return"<del>"+a+"</del>"}link(a,l,u){if(null===(a=Y(this.options.sanitize,this.options.baseUrl,a)))return u;let d='<a href="'+ae(a)+'"';return l&&(d+=' title="'+l+'"'),d+=">"+u+"</a>",d}image(a,l,u){if(null===(a=Y(this.options.sanitize,this.options.baseUrl,a)))return u;let d='<img src="'+a+'" alt="'+u+'"';return l&&(d+=' title="'+l+'"'),d+=this.options.xhtml?"/>":">",d}text(a){return a}}class Ke{strong(a){return a}em(a){return a}codespan(a){return a}del(a){return a}html(a){return a}text(a){return a}link(a,l,u){return""+u}image(a,l,u){return""+u}br(){return""}}class st{constructor(){this.seen={}}serialize(a){return a.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(a,l){let u=a,d=0;if(this.seen.hasOwnProperty(u)){d=this.seen[a];do{d++,u=a+"-"+d}while(this.seen.hasOwnProperty(u))}return l||(this.seen[a]=d,this.seen[u]=0),u}slug(a,l={}){const u=this.serialize(a);return this.getNextSafeSlug(u,l.dryrun)}}class $e{constructor(a){this.options=a||F,this.options.renderer=this.options.renderer||new Te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ke,this.slugger=new st}static parse(a,l){return new $e(l).parse(a)}static parseInline(a,l){return new $e(l).parseInline(a)}parse(a,l=!0){let d,b,k,q,c,v,x,E,S,w,T,L,I,ee,ie,Oe,Be,ye,Ie,u="";const Re=a.length;for(d=0;d<Re;d++)if(w=a[d],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[w.type]&&(Ie=this.options.extensions.renderers[w.type].call({parser:this},w),!1!==Ie||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(w.type)))u+=Ie||"";else switch(w.type){case"space":continue;case"hr":u+=this.renderer.hr();continue;case"heading":u+=this.renderer.heading(this.parseInline(w.tokens),w.depth,we(this.parseInline(w.tokens,this.textRenderer)),this.slugger);continue;case"code":u+=this.renderer.code(w.text,w.lang,w.escaped);continue;case"table":for(E="",x="",q=w.header.length,b=0;b<q;b++)x+=this.renderer.tablecell(this.parseInline(w.header[b].tokens),{header:!0,align:w.align[b]});for(E+=this.renderer.tablerow(x),S="",q=w.rows.length,b=0;b<q;b++){for(v=w.rows[b],x="",c=v.length,k=0;k<c;k++)x+=this.renderer.tablecell(this.parseInline(v[k].tokens),{header:!1,align:w.align[k]});S+=this.renderer.tablerow(x)}u+=this.renderer.table(E,S);continue;case"blockquote":S=this.parse(w.tokens),u+=this.renderer.blockquote(S);continue;case"list":for(T=w.ordered,L=w.start,I=w.loose,q=w.items.length,S="",b=0;b<q;b++)ie=w.items[b],Oe=ie.checked,Be=ie.task,ee="",ie.task&&(ye=this.renderer.checkbox(Oe),I?ie.tokens.length>0&&"paragraph"===ie.tokens[0].type?(ie.tokens[0].text=ye+" "+ie.tokens[0].text,ie.tokens[0].tokens&&ie.tokens[0].tokens.length>0&&"text"===ie.tokens[0].tokens[0].type&&(ie.tokens[0].tokens[0].text=ye+" "+ie.tokens[0].tokens[0].text)):ie.tokens.unshift({type:"text",text:ye}):ee+=ye),ee+=this.parse(ie.tokens,I),S+=this.renderer.listitem(ee,Be,Oe);u+=this.renderer.list(S,T,L);continue;case"html":u+=this.renderer.html(w.text);continue;case"paragraph":u+=this.renderer.paragraph(this.parseInline(w.tokens));continue;case"text":for(S=w.tokens?this.parseInline(w.tokens):w.text;d+1<Re&&"text"===a[d+1].type;)w=a[++d],S+="\n"+(w.tokens?this.parseInline(w.tokens):w.text);u+=l?this.renderer.paragraph(S):S;continue;default:{const qe='Token with "'+w.type+'" type was not found.';if(this.options.silent)return void console.error(qe);throw new Error(qe)}}return u}parseInline(a,l){l=l||this.renderer;let d,b,k,u="";const q=a.length;for(d=0;d<q;d++)if(b=a[d],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(k=this.options.extensions.renderers[b.type].call({parser:this},b),!1!==k||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(b.type)))u+=k||"";else switch(b.type){case"escape":case"text":u+=l.text(b.text);break;case"html":u+=l.html(b.text);break;case"link":u+=l.link(b.href,b.title,this.parseInline(b.tokens,l));break;case"image":u+=l.image(b.href,b.title,b.text);break;case"strong":u+=l.strong(this.parseInline(b.tokens,l));break;case"em":u+=l.em(this.parseInline(b.tokens,l));break;case"codespan":u+=l.codespan(b.text);break;case"br":u+=l.br();break;case"del":u+=l.del(this.parseInline(b.tokens,l));break;default:{const c='Token with "'+b.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return u}}function be(D,a,l){if(null==D)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof D)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(D)+", string expected");if("function"==typeof a&&(l=a,a=null),oe(a=Q({},be.defaults,a||{})),l){const u=a.highlight;let d;try{d=Ue.lex(D,a)}catch(q){return l(q)}const b=function(q){let c;if(!q)try{a.walkTokens&&be.walkTokens(d,a.walkTokens),c=$e.parse(d,a)}catch(v){q=v}return a.highlight=u,q?l(q):l(null,c)};if(!u||u.length<3||(delete a.highlight,!d.length))return b();let k=0;return be.walkTokens(d,function(q){"code"===q.type&&(k++,setTimeout(()=>{u(q.text,q.lang,function(c,v){if(c)return b(c);null!=v&&v!==q.text&&(q.text=v,q.escaped=!0),k--,0===k&&b()})},0))}),void(0===k&&b())}try{const u=Ue.lex(D,a);return a.walkTokens&&be.walkTokens(u,a.walkTokens),$e.parse(u,a)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",a.silent)return"<p>An error occurred:</p><pre>"+ae(u.message+"",!0)+"</pre>";throw u}}be.options=be.setOptions=function(D){return Q(be.defaults,D),function A(D){F=D}(be.defaults),be},be.getDefaults=function H(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},be.defaults=F,be.use=function(...D){const a=Q({},...D),l=be.defaults.extensions||{renderers:{},childTokens:{}};let u;D.forEach(d=>{if(d.extensions&&(u=!0,d.extensions.forEach(b=>{if(!b.name)throw new Error("extension name required");if(b.renderer){const k=l.renderers?l.renderers[b.name]:null;l.renderers[b.name]=k?function(...q){let c=b.renderer.apply(this,q);return!1===c&&(c=k.apply(this,q)),c}:b.renderer}if(b.tokenizer){if(!b.level||"block"!==b.level&&"inline"!==b.level)throw new Error("extension level must be 'block' or 'inline'");l[b.level]?l[b.level].unshift(b.tokenizer):l[b.level]=[b.tokenizer],b.start&&("block"===b.level?l.startBlock?l.startBlock.push(b.start):l.startBlock=[b.start]:"inline"===b.level&&(l.startInline?l.startInline.push(b.start):l.startInline=[b.start]))}b.childTokens&&(l.childTokens[b.name]=b.childTokens)})),d.renderer){const b=be.defaults.renderer||new Te;for(const k in d.renderer){const q=b[k];b[k]=(...c)=>{let v=d.renderer[k].apply(b,c);return!1===v&&(v=q.apply(b,c)),v}}a.renderer=b}if(d.tokenizer){const b=be.defaults.tokenizer||new at;for(const k in d.tokenizer){const q=b[k];b[k]=(...c)=>{let v=d.tokenizer[k].apply(b,c);return!1===v&&(v=q.apply(b,c)),v}}a.tokenizer=b}if(d.walkTokens){const b=be.defaults.walkTokens;a.walkTokens=function(k){d.walkTokens.call(this,k),b&&b.call(this,k)}}u&&(a.extensions=l),be.setOptions(a)})},be.walkTokens=function(D,a){for(const l of D)switch(a.call(be,l),l.type){case"table":for(const u of l.header)be.walkTokens(u.tokens,a);for(const u of l.rows)for(const d of u)be.walkTokens(d.tokens,a);break;case"list":be.walkTokens(l.items,a);break;default:be.defaults.extensions&&be.defaults.extensions.childTokens&&be.defaults.extensions.childTokens[l.type]?be.defaults.extensions.childTokens[l.type].forEach(function(u){be.walkTokens(l[u],a)}):l.tokens&&be.walkTokens(l.tokens,a)}},be.parseInline=function(D,a){if(null==D)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof D)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(D)+", string expected");oe(a=Q({},be.defaults,a||{}));try{const l=Ue.lexInline(D,a);return a.walkTokens&&be.walkTokens(l,a.walkTokens),$e.parseInline(l,a)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",a.silent)return"<p>An error occurred:</p><pre>"+ae(l.message+"",!0)+"</pre>";throw l}},be.Parser=$e,be.parser=$e.parse,be.Renderer=Te,be.TextRenderer=Ke,be.Lexer=Ue,be.lexer=Ue.lex,be.Tokenizer=at,be.Slugger=st,be.parse=be;const ut=["easymde"],R=()=>{};let _=(()=>{class D{constructor(l){this._zone=l,this._value="",this._fromEditor=!1,this.options={},this.propagateChange=u=>R,this.onTouched=()=>R,this._onChange=()=>{var u;this._fromEditor=!0,this.writeValue(null===(u=this._easyMDE)||void 0===u?void 0:u.value())}}set value(l){this._value=l,this._easyMDE&&(this._fromEditor||this._easyMDE.value(l),this.propagateChange(this._value),this._fromEditor=!1,this._zone.run(()=>this._value=l))}get value(){return this._value}get easyMDE(){return this._easyMDE}writeValue(l){this.value=l||""}registerOnChange(l){this.propagateChange=l}registerOnTouched(l){this.onTouched=l}ngAfterViewInit(){this.options.element=this.textarea.nativeElement,be.setOptions({sanitize:!0}),this._easyMDE=new B(this.options),this._easyMDE.value(this.value),this._easyMDE.codemirror.on("change",this._onChange)}ngOnDestroy(){var l;null===(l=this._easyMDE)||void 0===l||l.codemirror.off("change",this._onChange)}isPreviewActive(){return this._easyMDE.isPreviewActive()}isSideBySideActive(){return this._easyMDE.isSideBySideActive()}isFullscreenActive(){return this._easyMDE.isFullscreenActive()}clearAutosavedValue(){this._easyMDE.clearAutosavedValue()}toTextArea(){this._easyMDE.toTextArea()}toggleBold(){B.toggleBold(this._easyMDE)}toggleItalic(){B.toggleItalic(this._easyMDE)}toggleStrikethrough(){B.toggleStrikethrough(this._easyMDE)}toggleHeadingSmaller(){B.toggleHeadingSmaller(this._easyMDE)}toggleHeadingBigger(){B.toggleHeadingBigger(this._easyMDE)}toggleHeading1(){B.toggleHeading1(this._easyMDE)}toggleHeading2(){B.toggleHeading2(this._easyMDE)}toggleHeading3(){B.toggleHeading3(this._easyMDE)}toggleCodeBlock(){B.toggleCodeBlock(this._easyMDE)}toggleBlockquote(){B.toggleBlockquote(this._easyMDE)}toggleUnorderedList(){B.toggleUnorderedList(this._easyMDE)}toggleOrderedList(){B.toggleOrderedList(this._easyMDE)}cleanBlock(){B.cleanBlock(this._easyMDE)}drawLink(){B.drawLink(this._easyMDE)}drawImage(){B.drawImage(this._easyMDE)}drawTable(){B.drawTable(this._easyMDE)}drawHorizontalRule(){B.drawHorizontalRule(this._easyMDE)}togglePreview(){B.togglePreview(this._easyMDE)}toggleSideBySide(){B.toggleSideBySide(this._easyMDE)}toggleFullScreen(){B.toggleFullScreen(this._easyMDE)}}return D.\u0275fac=function(l){return new(l||D)(U.Y36(U.R0b))},D.\u0275cmp=U.Xpm({type:D,selectors:[["td-text-editor"]],viewQuery:function(l,u){if(1&l&&U.Gf(ut,7),2&l){let d;U.iGM(d=U.CRH())&&(u.textarea=d.first)}},inputs:{options:"options",value:"value"},features:[U._Bn([{provide:z.JU,useExisting:(0,U.Gpc)(()=>D),multi:!0}])],decls:3,vars:0,consts:[["easymde",""]],template:function(l,u){1&l&&(U.TgZ(0,"div"),U._UZ(1,"textarea",null,0),U.qZA())},styles:['@charset "UTF-8";[_nghost-%COMP%]     .CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}[_nghost-%COMP%]     .CodeMirror-lines{padding:4px 0}[_nghost-%COMP%]     .CodeMirror pre.CodeMirror-line, [_nghost-%COMP%]     .CodeMirror pre.CodeMirror-line-like{padding:0 4px}[_nghost-%COMP%]     .CodeMirror-gutter-filler, [_nghost-%COMP%]     .CodeMirror-scrollbar-filler{background-color:#fff}[_nghost-%COMP%]     .CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}[_nghost-%COMP%]     .CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}[_nghost-%COMP%]     .CodeMirror-guttermarker{color:#000}[_nghost-%COMP%]     .CodeMirror-guttermarker-subtle{color:#999}[_nghost-%COMP%]     .CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}[_nghost-%COMP%]     .CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}[_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}[_nghost-%COMP%]     .cm-fat-cursor div.CodeMirror-cursors{z-index:1}[_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line::selection, [_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line>span::selection, [_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line>span>span::selection{background:0 0}[_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line::-moz-selection, [_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line>span::-moz-selection, [_nghost-%COMP%]     .cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:0 0}[_nghost-%COMP%]     .cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}[_nghost-%COMP%]     .cm-tab{display:inline-block;text-decoration:inherit}[_nghost-%COMP%]     .CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}[_nghost-%COMP%]     .CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}[_nghost-%COMP%]     .cm-s-default .cm-header{color:#00f}[_nghost-%COMP%]     .cm-s-default .cm-quote{color:#090}[_nghost-%COMP%]     .cm-negative{color:#d44}[_nghost-%COMP%]     .cm-positive{color:#292}[_nghost-%COMP%]     .cm-header, [_nghost-%COMP%]     .cm-strong{font-weight:700}[_nghost-%COMP%]     .cm-em{font-style:italic}[_nghost-%COMP%]     .cm-link{text-decoration:underline}[_nghost-%COMP%]     .cm-strikethrough{text-decoration:line-through}[_nghost-%COMP%]     .cm-s-default .cm-keyword{color:#708}[_nghost-%COMP%]     .cm-s-default .cm-atom{color:#219}[_nghost-%COMP%]     .cm-s-default .cm-number{color:#164}[_nghost-%COMP%]     .cm-s-default .cm-def{color:#00f}[_nghost-%COMP%]     .cm-s-default .cm-variable-2{color:#05a}[_nghost-%COMP%]     .cm-s-default .cm-type, [_nghost-%COMP%]     .cm-s-default .cm-variable-3{color:#085}[_nghost-%COMP%]     .cm-s-default .cm-comment{color:#a50}[_nghost-%COMP%]     .cm-s-default .cm-string{color:#a11}[_nghost-%COMP%]     .cm-s-default .cm-string-2{color:#f50}[_nghost-%COMP%]     .cm-s-default .cm-meta{color:#555}[_nghost-%COMP%]     .cm-s-default .cm-qualifier{color:#555}[_nghost-%COMP%]     .cm-s-default .cm-builtin{color:#30a}[_nghost-%COMP%]     .cm-s-default .cm-bracket{color:#997}[_nghost-%COMP%]     .cm-s-default .cm-tag{color:#170}[_nghost-%COMP%]     .cm-s-default .cm-attribute{color:#00c}[_nghost-%COMP%]     .cm-s-default .cm-hr{color:#999}[_nghost-%COMP%]     .cm-s-default .cm-link{color:#00c}[_nghost-%COMP%]     .cm-s-default .cm-error{color:red}[_nghost-%COMP%]     .cm-invalidchar{color:red}[_nghost-%COMP%]     .CodeMirror-composing{border-bottom:2px solid}[_nghost-%COMP%]     div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}[_nghost-%COMP%]     div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}[_nghost-%COMP%]     .CodeMirror-matchingtag{background:rgba(255,150,0,.3)}[_nghost-%COMP%]     .CodeMirror-activeline-background{background:#e8f2ff}[_nghost-%COMP%]     .CodeMirror{position:relative;overflow:hidden;background:#fff}[_nghost-%COMP%]     .CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:0;position:relative}[_nghost-%COMP%]     .CodeMirror-sizer{position:relative;border-right:50px solid transparent}[_nghost-%COMP%]     .CodeMirror-gutter-filler, [_nghost-%COMP%]     .CodeMirror-hscrollbar, [_nghost-%COMP%]     .CodeMirror-scrollbar-filler, [_nghost-%COMP%]     .CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:0}[_nghost-%COMP%]     .CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}[_nghost-%COMP%]     .CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}[_nghost-%COMP%]     .CodeMirror-scrollbar-filler{right:0;bottom:0}[_nghost-%COMP%]     .CodeMirror-gutter-filler{left:0;bottom:0}[_nghost-%COMP%]     .CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}[_nghost-%COMP%]     .CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}[_nghost-%COMP%]     .CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}[_nghost-%COMP%]     .CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper ::selection{background-color:transparent}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}[_nghost-%COMP%]     .CodeMirror-lines{cursor:text;min-height:1px}[_nghost-%COMP%]     .CodeMirror pre.CodeMirror-line, [_nghost-%COMP%]     .CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-feature-settings:"calt";font-variant-ligatures:contextual}[_nghost-%COMP%]     .CodeMirror-wrap pre.CodeMirror-line, [_nghost-%COMP%]     .CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}[_nghost-%COMP%]     .CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}[_nghost-%COMP%]     .CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}[_nghost-%COMP%]     .CodeMirror-code{outline:0}[_nghost-%COMP%]     .CodeMirror-gutter, [_nghost-%COMP%]     .CodeMirror-gutters, [_nghost-%COMP%]     .CodeMirror-linenumber, [_nghost-%COMP%]     .CodeMirror-scroll, [_nghost-%COMP%]     .CodeMirror-sizer{box-sizing:content-box}[_nghost-%COMP%]     .CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}[_nghost-%COMP%]     .CodeMirror-cursor{position:absolute;pointer-events:none}[_nghost-%COMP%]     .CodeMirror-measure pre{position:static}[_nghost-%COMP%]     div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}[_nghost-%COMP%]     div.CodeMirror-dragcursors{visibility:visible}[_nghost-%COMP%]     .CodeMirror-focused div.CodeMirror-cursors{visibility:visible}[_nghost-%COMP%]     .CodeMirror-selected{background:#d9d9d9}[_nghost-%COMP%]     .CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}[_nghost-%COMP%]     .CodeMirror-crosshair{cursor:crosshair}[_nghost-%COMP%]     .CodeMirror-line::selection, [_nghost-%COMP%]     .CodeMirror-line>span::selection, [_nghost-%COMP%]     .CodeMirror-line>span>span::selection{background:#d7d4f0}[_nghost-%COMP%]     .CodeMirror-line::-moz-selection, [_nghost-%COMP%]     .CodeMirror-line>span::-moz-selection, [_nghost-%COMP%]     .CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}[_nghost-%COMP%]     .cm-searching{background-color:#ffa;background-color:#ff06}[_nghost-%COMP%]     .cm-force-border{padding-right:.1px}@media print{[_nghost-%COMP%]     .CodeMirror div.CodeMirror-cursors{visibility:hidden}}[_nghost-%COMP%]     .cm-tab-wrap-hack:after{content:""}[_nghost-%COMP%]     span.CodeMirror-selectedtext{background:0 0}[_nghost-%COMP%]     .EasyMDEContainer{display:block}[_nghost-%COMP%]     .CodeMirror-rtl pre{direction:rtl}[_nghost-%COMP%]     .EasyMDEContainer.sided--no-fullscreen{display:flex;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror{box-sizing:border-box;height:auto;border:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding:10px;font:inherit;z-index:0;word-wrap:break-word}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror-scroll{cursor:text}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror-fullscreen{background:#fff;position:fixed!important;top:50px;left:0;right:0;bottom:0;height:auto;z-index:8;border-right:none!important;border-bottom-right-radius:0!important}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror-sided{width:50%!important}[_nghost-%COMP%]     .EasyMDEContainer.sided--no-fullscreen .CodeMirror-sided{border-right:none!important;border-bottom-right-radius:0;position:relative;flex:1 1 auto}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror-placeholder{opacity:.5}[_nghost-%COMP%]     .EasyMDEContainer .CodeMirror-focused .CodeMirror-selected{background:#d9d9d9}[_nghost-%COMP%]     .editor-toolbar{position:relative;-webkit-user-select:none;-o-user-select:none;user-select:none;padding:9px 10px;border-top:1px solid #bbb;border-left:1px solid #bbb;border-right:1px solid #bbb;border-top-left-radius:4px;border-top-right-radius:4px}[_nghost-%COMP%]     .editor-toolbar.fullscreen{width:100%;height:50px;padding-top:10px;padding-bottom:10px;box-sizing:border-box;background:#fff;border:0;position:fixed;top:0;left:0;opacity:1;z-index:9}[_nghost-%COMP%]     .editor-toolbar.fullscreen:before{width:20px;height:50px;background:linear-gradient(to right,#fff 0,rgba(255,255,255,0) 100%);position:fixed;top:0;left:0;margin:0;padding:0}[_nghost-%COMP%]     .editor-toolbar.fullscreen:after{width:20px;height:50px;background:linear-gradient(to right,rgba(255,255,255,0) 0,#fff 100%);position:fixed;top:0;right:0;margin:0;padding:0}[_nghost-%COMP%]     .EasyMDEContainer.sided--no-fullscreen .editor-toolbar{width:100%}[_nghost-%COMP%]     .editor-toolbar .easymde-dropdown, [_nghost-%COMP%]     .editor-toolbar button{background:0 0;display:inline-block;text-align:center;text-decoration:none!important;height:30px;margin:0;padding:0;border:1px solid transparent;border-radius:3px;cursor:pointer}[_nghost-%COMP%]     .editor-toolbar button{width:30px}[_nghost-%COMP%]     .editor-toolbar button.active, [_nghost-%COMP%]     .editor-toolbar button:hover{background:#fcfcfc;border-color:#95a5a6}[_nghost-%COMP%]     .editor-toolbar i.separator{display:inline-block;width:0;border-left:1px solid #d9d9d9;border-right:1px solid #fff;color:transparent;text-indent:-10px;margin:0 6px}[_nghost-%COMP%]     .editor-toolbar button:after{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:65%;vertical-align:text-bottom;position:relative;top:2px}[_nghost-%COMP%]     .editor-toolbar button.heading-1:after{content:"1"}[_nghost-%COMP%]     .editor-toolbar button.heading-2:after{content:"2"}[_nghost-%COMP%]     .editor-toolbar button.heading-3:after{content:"3"}[_nghost-%COMP%]     .editor-toolbar button.heading-bigger:after{content:"\\25b2"}[_nghost-%COMP%]     .editor-toolbar button.heading-smaller:after{content:"\\25bc"}[_nghost-%COMP%]     .editor-toolbar.disabled-for-preview button:not(.no-disable){opacity:.6;pointer-events:none}@media only screen and (max-width: 700px){[_nghost-%COMP%]     .editor-toolbar i.no-mobile{display:none}}[_nghost-%COMP%]     .editor-statusbar{padding:8px 10px;font-size:12px;color:#959694;text-align:right}[_nghost-%COMP%]     .EasyMDEContainer.sided--no-fullscreen .editor-statusbar{width:100%}[_nghost-%COMP%]     .editor-statusbar span{display:inline-block;min-width:4em;margin-left:1em}[_nghost-%COMP%]     .editor-statusbar .lines:before{content:"lines: "}[_nghost-%COMP%]     .editor-statusbar .words:before{content:"words: "}[_nghost-%COMP%]     .editor-statusbar .characters:before{content:"characters: "}[_nghost-%COMP%]     .editor-preview-full{position:absolute;width:100%;height:100%;top:0;left:0;z-index:7;overflow:auto;display:none;box-sizing:border-box}[_nghost-%COMP%]     .editor-preview-side{position:fixed;bottom:0;width:50%;top:50px;right:0;z-index:9;overflow:auto;display:none;box-sizing:border-box;border:1px solid #ddd;word-wrap:break-word}[_nghost-%COMP%]     .editor-preview-active-side{display:block}[_nghost-%COMP%]     .EasyMDEContainer.sided--no-fullscreen .editor-preview-active-side{flex:1 1 auto;height:auto;position:static}[_nghost-%COMP%]     .editor-preview-active{display:block}[_nghost-%COMP%]     .editor-preview{padding:10px;background:#fafafa}[_nghost-%COMP%]     .editor-preview>p{margin-top:0}[_nghost-%COMP%]     .editor-preview pre{background:#eee;margin-bottom:10px}[_nghost-%COMP%]     .editor-preview table td, [_nghost-%COMP%]     .editor-preview table th{border:1px solid #ddd;padding:5px}[_nghost-%COMP%]     .cm-s-easymde .cm-tag{color:#63a35c}[_nghost-%COMP%]     .cm-s-easymde .cm-attribute{color:#795da3}[_nghost-%COMP%]     .cm-s-easymde .cm-string{color:#183691}[_nghost-%COMP%]     .cm-s-easymde .cm-header-1{font-size:200%;line-height:200%}[_nghost-%COMP%]     .cm-s-easymde .cm-header-2{font-size:160%;line-height:160%}[_nghost-%COMP%]     .cm-s-easymde .cm-header-3{font-size:125%;line-height:125%}[_nghost-%COMP%]     .cm-s-easymde .cm-header-4{font-size:110%;line-height:110%}[_nghost-%COMP%]     .cm-s-easymde .cm-comment{background:rgba(0,0,0,.05);border-radius:2px}[_nghost-%COMP%]     .cm-s-easymde .cm-link{color:#7f8c8d}[_nghost-%COMP%]     .cm-s-easymde .cm-url{color:#aab2b3}[_nghost-%COMP%]     .cm-s-easymde .cm-quote{color:#7f8c8d;font-style:italic}[_nghost-%COMP%]     .editor-toolbar .easymde-dropdown{position:relative;background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%);border-radius:0;border:1px solid #fff}[_nghost-%COMP%]     .editor-toolbar .easymde-dropdown:hover{background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%)}[_nghost-%COMP%]     .easymde-dropdown-content{display:block;visibility:hidden;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px #0003;padding:8px;z-index:2;top:30px}[_nghost-%COMP%]     .easymde-dropdown:active .easymde-dropdown-content, [_nghost-%COMP%]     .easymde-dropdown:focus .easymde-dropdown-content, [_nghost-%COMP%]     .easymde-dropdown:focus-within .easymde-dropdown-content{visibility:visible}[_nghost-%COMP%]     span[data-img-src]:after{content:"";background-image:var(--bg-image);display:block;max-height:100%;max-width:100%;background-size:contain;height:0;padding-top:var(--height);width:var(--width);background-repeat:no-repeat}[_nghost-%COMP%]     .CodeMirror .cm-spell-error:not(.cm-url):not(.cm-comment):not(.cm-tag):not(.cm-word){background:rgba(255,0,0,.15)}']}),D})()},65748:(ot,He,me)=>{"use strict";me.d(He,{N:()=>H});var U=me(2104),z=me(69808),B=me(5e3);let H=(()=>{class F{}return F.\u0275fac=function(N){return new(N||F)},F.\u0275mod=B.oAB({type:F,bootstrap:[U.B]}),F.\u0275inj=B.cJS({imports:[[z.ez]]}),F})()},26165:(ot,He,me)=>{"use strict";var U=me(93293);function z(B){"function"==typeof(B=B||{}).codeMirrorInstance&&"function"==typeof B.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),B.codeMirrorInstance.defineMode("spell-checker",function(H){if(!z.aff_loading){z.aff_loading=!0;var F=new XMLHttpRequest;F.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),F.onload=function(){4===F.readyState&&200===F.status&&(z.aff_data=F.responseText,2==++z.num_loaded&&(z.typo=new U("en_US",z.aff_data,z.dic_data,{platform:"any"})))},F.send(null)}if(!z.dic_loading){z.dic_loading=!0;var A=new XMLHttpRequest;A.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),A.onload=function(){4===A.readyState&&200===A.status&&(z.dic_data=A.responseText,2==++z.num_loaded&&(z.typo=new U("en_US",z.aff_data,z.dic_data,{platform:"any"})))},A.send(null)}var N='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',K={token:function(J){var Z=J.peek(),fe="";if(N.includes(Z))return J.next(),null;for(;null!=(Z=J.peek())&&!N.includes(Z);)fe+=Z,J.next();return z.typo&&!z.typo.check(fe)?"spell-error":null}},ne=B.codeMirrorInstance.getMode(H,H.backdrop||"text/plain");return B.codeMirrorInstance.overlayMode(ne,K,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}z.num_loaded=0,z.aff_loading=!1,z.dic_loading=!1,z.aff_data="",z.dic_data="",ot.exports=z},79284:(ot,He,me)=>{!function(U){"use strict";function B(H,F){clearTimeout(F.timeout),U.off(window,"mouseup",F.hurry),U.off(window,"keyup",F.hurry)}U.defineOption("autoRefresh",!1,function(H,F){H.state.autoRefresh&&(B(0,H.state.autoRefresh),H.state.autoRefresh=null),F&&0==H.display.wrapper.offsetHeight&&function z(H,F){function A(){H.display.wrapper.offsetHeight?(B(0,F),H.display.lastWrapHeight!=H.display.wrapper.clientHeight&&H.refresh()):F.timeout=setTimeout(A,F.delay)}F.timeout=setTimeout(A,F.delay),F.hurry=function(){clearTimeout(F.timeout),F.timeout=setTimeout(A,50)},U.on(window,"mouseup",F.hurry),U.on(window,"keyup",F.hurry)}(H,H.state.autoRefresh={delay:F.delay||250})})}(me(68266))},31366:(ot,He,me)=>{!function(U){"use strict";U.defineOption("fullScreen",!1,function(H,F,A){A==U.Init&&(A=!1),!A!=!F&&(F?function z(H){var F=H.getWrapperElement();H.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:F.style.width,height:F.style.height},F.style.width="",F.style.height="auto",F.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",H.refresh()}(H):function B(H){var F=H.getWrapperElement();F.className=F.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var A=H.state.fullScreenRestore;F.style.width=A.width,F.style.height=A.height,window.scrollTo(A.scrollLeft,A.scrollTop),H.refresh()}(H))})}(me(68266))},41831:(ot,He,me)=>{!function(U){function z(K){K.state.placeholder&&(K.state.placeholder.parentNode.removeChild(K.state.placeholder),K.state.placeholder=null)}function B(K){z(K);var ne=K.state.placeholder=document.createElement("pre");ne.style.cssText="height: 0; overflow: visible",ne.style.direction=K.getOption("direction"),ne.className="CodeMirror-placeholder CodeMirror-line-like";var J=K.getOption("placeholder");"string"==typeof J&&(J=document.createTextNode(J)),ne.appendChild(J),K.display.lineSpace.insertBefore(ne,K.display.lineSpace.firstChild)}function F(K){N(K)&&B(K)}function A(K){var ne=K.getWrapperElement(),J=N(K);ne.className=ne.className.replace(" CodeMirror-empty","")+(J?" CodeMirror-empty":""),J?B(K):z(K)}function N(K){return 1===K.lineCount()&&""===K.getLine(0)}U.defineOption("placeholder","",function(K,ne,J){var Z=J&&J!=U.Init;if(ne&&!Z)K.on("blur",F),K.on("change",A),K.on("swapDoc",A),U.on(K.getInputField(),"compositionupdate",K.state.placeholderCompose=function(){!function H(K){setTimeout(function(){var ne=!1;if(1==K.lineCount()){var J=K.getInputField();ne="TEXTAREA"==J.nodeName?!K.getLine(0).length:!/[^\u200b]/.test(J.querySelector(".CodeMirror-line").textContent)}ne?B(K):z(K)},20)}(K)}),A(K);else if(!ne&&Z){K.off("blur",F),K.off("change",A),K.off("swapDoc",A),U.off(K.getInputField(),"compositionupdate",K.state.placeholderCompose),z(K);var fe=K.getWrapperElement();fe.className=fe.className.replace(" CodeMirror-empty","")}ne&&!K.hasFocus()&&F(K)})}(me(68266))},91914:(ot,He,me)=>{!function(U){"use strict";var z=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,B=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,H=/[*+-]\s/;function F(A,N){var K=N.line,ne=0,J=0,Z=z.exec(A.getLine(K)),fe=Z[1];do{var ae=K+(ne+=1),he=A.getLine(ae),we=z.exec(he);if(we){var xe=we[1],P=parseInt(Z[3],10)+ne-J,j=parseInt(we[3],10),V=j;if(fe!==xe||isNaN(j)){if(fe.length>xe.length||fe.length<xe.length&&1===ne)return;J+=1}else P===j&&(V=j+1),P>j&&(V=P+1),A.replaceRange(he.replace(z,xe+V+we[4]+we[5]),{line:ae,ch:0},{line:ae,ch:he.length})}}while(we)}U.commands.newlineAndIndentContinueMarkdownList=function(A){if(A.getOption("disableInput"))return U.Pass;for(var N=A.listSelections(),K=[],ne=0;ne<N.length;ne++){var J=N[ne].head,Z=A.getStateAfter(J.line),fe=U.innerMode(A.getMode(),Z);if("markdown"!==fe.mode.name)return void A.execCommand("newlineAndIndent");var ae=!1!==(Z=fe.state).list,he=0!==Z.quote,we=A.getLine(J.line),xe=z.exec(we),P=/^\s*$/.test(we.slice(0,J.ch));if(!N[ne].empty()||!ae&&!he||!xe||P)return void A.execCommand("newlineAndIndent");if(B.test(we)){var j=he&&/>\s*$/.test(we),V=!/>\s*$/.test(we);(j||V)&&A.replaceRange("",{line:J.line,ch:0},{line:J.line,ch:J.ch+1}),K[ne]="\n"}else{var Y=xe[1],ce=xe[5],le=!(H.test(xe[2])||xe[2].indexOf(">")>=0),X=le?parseInt(xe[3],10)+1+xe[4]:xe[2].replace("x"," ");K[ne]="\n"+Y+X+ce,le&&F(A,J)}}A.replaceSelections(K)}}(me(68266))},76128:(ot,He,me)=>{!function(U){"use strict";U.overlayMode=function(z,B,H){return{startState:function(){return{base:U.startState(z),overlay:U.startState(B),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(F){return{base:U.copyState(z,F.base),overlay:U.copyState(B,F.overlay),basePos:F.basePos,baseCur:null,overlayPos:F.overlayPos,overlayCur:null}},token:function(F,A){return(F!=A.streamSeen||Math.min(A.basePos,A.overlayPos)<F.start)&&(A.streamSeen=F,A.basePos=A.overlayPos=F.start),F.start==A.basePos&&(A.baseCur=z.token(F,A.base),A.basePos=F.pos),F.start==A.overlayPos&&(F.pos=F.start,A.overlayCur=B.token(F,A.overlay),A.overlayPos=F.pos),F.pos=Math.min(A.basePos,A.overlayPos),null==A.overlayCur?A.baseCur:null!=A.baseCur&&A.overlay.combineTokens||H&&null==A.overlay.combineTokens?A.baseCur+" "+A.overlayCur:A.overlayCur},indent:z.indent&&function(F,A,N){return z.indent(F.base,A,N)},electricChars:z.electricChars,innerMode:function(F){return{state:F.base,mode:z}},blankLine:function(F){var A,N;return z.blankLine&&(A=z.blankLine(F.base)),B.blankLine&&(N=B.blankLine(F.overlay)),null==N?A:H&&null!=A?A+" "+N:N}}}}(me(68266))},36653:(ot,He,me)=>{!function(U){"use strict";var Z,fe,z=U.Pos;function H(P,j){for(var V=function B(P){var j=P.flags;return null!=j?j:(P.ignoreCase?"i":"")+(P.global?"g":"")+(P.multiline?"m":"")}(P),Y=V,ce=0;ce<j.length;ce++)-1==Y.indexOf(j.charAt(ce))&&(Y+=j.charAt(ce));return V==Y?P:new RegExp(P.source,Y)}function F(P){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(P.source)}function A(P,j,V){j=H(j,"g");for(var Y=V.line,ce=V.ch,le=P.lastLine();Y<=le;Y++,ce=0){j.lastIndex=ce;var X=P.getLine(Y),Ce=j.exec(X);if(Ce)return{from:z(Y,Ce.index),to:z(Y,Ce.index+Ce[0].length),match:Ce}}}function N(P,j,V){if(!F(j))return A(P,j,V);j=H(j,"gm");for(var Y,ce=1,le=V.line,X=P.lastLine();le<=X;){for(var Ce=0;Ce<ce&&!(le>X);Ce++){var Ne=P.getLine(le++);Y=null==Y?Ne:Y+"\n"+Ne}ce*=2,j.lastIndex=V.ch;var se=j.exec(Y);if(se){var Q=Y.slice(0,se.index).split("\n"),Fe=se[0].split("\n"),We=V.line+Q.length-1,W=Q[Q.length-1].length;return{from:z(We,W),to:z(We+Fe.length-1,1==Fe.length?W+Fe[0].length:Fe[Fe.length-1].length),match:se}}}}function K(P,j,V){for(var Y,ce=0;ce<=P.length;){j.lastIndex=ce;var le=j.exec(P);if(!le)break;var X=le.index+le[0].length;if(X>P.length-V)break;(!Y||X>Y.index+Y[0].length)&&(Y=le),ce=le.index+1}return Y}function ne(P,j,V){j=H(j,"g");for(var Y=V.line,ce=V.ch,le=P.firstLine();Y>=le;Y--,ce=-1){var X=P.getLine(Y),Ce=K(X,j,ce<0?0:X.length-ce);if(Ce)return{from:z(Y,Ce.index),to:z(Y,Ce.index+Ce[0].length),match:Ce}}}function J(P,j,V){if(!F(j))return ne(P,j,V);j=H(j,"gm");for(var Y,ce=1,le=P.getLine(V.line).length-V.ch,X=V.line,Ce=P.firstLine();X>=Ce;){for(var Ne=0;Ne<ce&&X>=Ce;Ne++){var se=P.getLine(X--);Y=null==Y?se:se+"\n"+Y}ce*=2;var Q=K(Y,j,le);if(Q){var Fe=Y.slice(0,Q.index).split("\n"),We=Q[0].split("\n"),W=X+Fe.length,oe=Fe[Fe.length-1].length;return{from:z(W,oe),to:z(W+We.length-1,1==We.length?oe+We[0].length:We[We.length-1].length),match:Q}}}}function ae(P,j,V,Y){if(P.length==j.length)return V;for(var ce=0,le=V+Math.max(0,P.length-j.length);;){if(ce==le)return ce;var X=ce+le>>1,Ce=Y(P.slice(0,X)).length;if(Ce==V)return X;Ce>V?le=X:ce=X+1}}function he(P,j,V,Y){if(!j.length)return null;var ce=Y?Z:fe,le=ce(j).split(/\r|\n\r?/);e:for(var X=V.line,Ce=V.ch,Ne=P.lastLine()+1-le.length;X<=Ne;X++,Ce=0){var se=P.getLine(X).slice(Ce),Q=ce(se);if(1==le.length){var Fe=Q.indexOf(le[0]);if(-1==Fe)continue e;return V=ae(se,Q,Fe,ce)+Ce,{from:z(X,ae(se,Q,Fe,ce)+Ce),to:z(X,ae(se,Q,Fe+le[0].length,ce)+Ce)}}var We=Q.length-le[0].length;if(Q.slice(We)==le[0]){for(var W=1;W<le.length-1;W++)if(ce(P.getLine(X+W))!=le[W])continue e;var oe=P.getLine(X+le.length-1),te=ce(oe),Ee=le[le.length-1];if(te.slice(0,Ee.length)==Ee)return{from:z(X,ae(se,Q,We,ce)+Ce),to:z(X+le.length-1,ae(oe,te,Ee.length,ce))}}}}function we(P,j,V,Y){if(!j.length)return null;var ce=Y?Z:fe,le=ce(j).split(/\r|\n\r?/);e:for(var X=V.line,Ce=V.ch,Ne=P.firstLine()-1+le.length;X>=Ne;X--,Ce=-1){var se=P.getLine(X);Ce>-1&&(se=se.slice(0,Ce));var Q=ce(se);if(1==le.length){var Fe=Q.lastIndexOf(le[0]);if(-1==Fe)continue e;return{from:z(X,ae(se,Q,Fe,ce)),to:z(X,ae(se,Q,Fe+le[0].length,ce))}}var We=le[le.length-1];if(Q.slice(0,We.length)==We){var W=1;for(V=X-le.length+1;W<le.length-1;W++)if(ce(P.getLine(V+W))!=le[W])continue e;var oe=P.getLine(X+1-le.length),te=ce(oe);if(te.slice(te.length-le[0].length)==le[0])return{from:z(X+1-le.length,ae(oe,te,oe.length-le[0].length,ce)),to:z(X,ae(se,Q,We.length,ce))}}}}function xe(P,j,V,Y){var ce;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=P,V=V?P.clipPos(V):z(0,0),this.pos={from:V,to:V},"object"==typeof Y?ce=Y.caseFold:(ce=Y,Y=null),"string"==typeof j?(null==ce&&(ce=!1),this.matches=function(le,X){return(le?we:he)(P,j,X,ce)}):(j=H(j,"gm"),this.matches=Y&&!1===Y.multiline?function(le,X){return(le?ne:A)(P,j,X)}:function(le,X){return(le?J:N)(P,j,X)})}String.prototype.normalize?(Z=function(P){return P.normalize("NFD").toLowerCase()},fe=function(P){return P.normalize("NFD")}):(Z=function(P){return P.toLowerCase()},fe=function(P){return P}),xe.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(P){var j=this.doc.clipPos(P?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(j=z(j.line,j.ch),P?(j.ch--,j.ch<0&&(j.line--,j.ch=(this.doc.getLine(j.line)||"").length)):(j.ch++,j.ch>(this.doc.getLine(j.line)||"").length&&(j.ch=0,j.line++)),0!=U.cmpPos(j,this.doc.clipPos(j))))return this.atOccurrence=!1;var V=this.matches(P,j);if(this.afterEmptyMatch=V&&0==U.cmpPos(V.from,V.to),V)return this.pos=V,this.atOccurrence=!0,this.pos.match||!0;var Y=z(P?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:Y,to:Y},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(P,j){if(this.atOccurrence){var V=U.splitLines(P);this.doc.replaceRange(V,this.pos.from,this.pos.to,j),this.pos.to=z(this.pos.from.line+V.length-1,V[V.length-1].length+(1==V.length?this.pos.from.ch:0))}}},U.defineExtension("getSearchCursor",function(P,j,V){return new xe(this.doc,P,j,V)}),U.defineDocExtension("getSearchCursor",function(P,j,V){return new xe(this,P,j,V)}),U.defineExtension("selectMatches",function(P,j){for(var V=[],Y=this.getSearchCursor(P,this.getCursor("from"),j);Y.findNext()&&!(U.cmpPos(Y.to(),this.getCursor("to"))>0);)V.push({anchor:Y.from(),head:Y.to()});V.length&&this.setSelections(V,0)})}(me(68266))},53347:(ot,He,me)=>{!function(U){"use strict";function z(Z){Z.state.markedSelection&&Z.operation(function(){!function J(Z){if(!Z.somethingSelected())return K(Z);if(Z.listSelections().length>1)return ne(Z);var fe=Z.getCursor("start"),ae=Z.getCursor("end"),he=Z.state.markedSelection;if(!he.length)return N(Z,fe,ae);var we=he[0].find(),xe=he[he.length-1].find();if(!we||!xe||ae.line-fe.line<=8||A(fe,xe.to)>=0||A(ae,we.from)<=0)return ne(Z);for(;A(fe,we.from)>0;)he.shift().clear(),we=he[0].find();for(A(fe,we.from)<0&&(we.to.line-fe.line<8?(he.shift().clear(),N(Z,fe,we.to,0)):N(Z,fe,we.from,0));A(ae,xe.to)<0;)he.pop().clear(),xe=he[he.length-1].find();A(ae,xe.to)>0&&(ae.line-xe.from.line<8?(he.pop().clear(),N(Z,xe.from,ae)):N(Z,xe.to,ae))}(Z)})}function B(Z){Z.state.markedSelection&&Z.state.markedSelection.length&&Z.operation(function(){K(Z)})}U.defineOption("styleSelectedText",!1,function(Z,fe,ae){var he=ae&&ae!=U.Init;fe&&!he?(Z.state.markedSelection=[],Z.state.markedSelectionStyle="string"==typeof fe?fe:"CodeMirror-selectedtext",ne(Z),Z.on("cursorActivity",z),Z.on("change",B)):!fe&&he&&(Z.off("cursorActivity",z),Z.off("change",B),K(Z),Z.state.markedSelection=Z.state.markedSelectionStyle=null)});var F=U.Pos,A=U.cmpPos;function N(Z,fe,ae,he){if(0!=A(fe,ae))for(var we=Z.state.markedSelection,xe=Z.state.markedSelectionStyle,P=fe.line;;){var j=P==fe.line?fe:F(P,0),V=P+8,Y=V>=ae.line,ce=Y?ae:F(V,0),le=Z.markText(j,ce,{className:xe});if(null==he?we.push(le):we.splice(he++,0,le),Y)break;P=V}}function K(Z){for(var fe=Z.state.markedSelection,ae=0;ae<fe.length;++ae)fe[ae].clear();fe.length=0}function ne(Z){K(Z);for(var fe=Z.listSelections(),ae=0;ae<fe.length;ae++)N(Z,fe[ae].from(),fe[ae].to())}}(me(68266))},68266:function(ot){ot.exports=function(){"use strict";var He=navigator.userAgent,me=navigator.platform,U=/gecko\/\d/i.test(He),z=/MSIE \d/.test(He),B=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(He),H=/Edge\/(\d+)/.exec(He),F=z||B||H,A=F&&(z?document.documentMode||6:+(H||B)[1]),N=!H&&/WebKit\//.test(He),K=N&&/Qt\/\d+\.\d+/.test(He),ne=!H&&/Chrome\//.test(He),J=/Opera\//.test(He),Z=/Apple Computer/.test(navigator.vendor),fe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(He),ae=/PhantomJS/.test(He),he=Z&&(/Mobile\/\w+/.test(He)||navigator.maxTouchPoints>2),we=/Android/.test(He),xe=he||we||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(He),P=he||/Mac/.test(me),j=/\bCrOS\b/.test(He),V=/win/i.test(me),Y=J&&He.match(/Version\/(\d*\.\d*)/);Y&&(Y=Number(Y[1])),Y&&Y>=15&&(J=!1,N=!0);var ce=P&&(K||J&&(null==Y||Y<12.11)),le=U||F&&A>=9;function X(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var We,Ce=function(e,t){var r=e.className,n=X(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function Ne(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function se(e,t){return Ne(e).appendChild(t)}function Q(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Fe(e,t,r,n){var i=Q(e,t,r,n);return i.setAttribute("role","presentation"),i}function W(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function oe(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function te(e,t){var r=e.className;X(t).test(r)||(e.className+=(r?" ":"")+t)}function Ee(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!X(r[n]).test(t)&&(t+=" "+r[n]);return t}We=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Ye=function(e){e.select()};function at(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ke(e,t,r){for(var n in t||(t={}),e)e.hasOwnProperty(n)&&(!1!==r||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}function m(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=i||0;;){var f=e.indexOf("\t",o);if(f<0||f>=t)return s+(t-o);s+=f-o,s+=r-s%r,o=f+1}}he?Ye=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:F&&(Ye=function(e){try{e.select()}catch(t){}});var g=function(){this.id=null,this.f=null,this.time=0,this.handler=at(this.onTimeout,this)};function ge(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}g.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},g.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var Te={toString:function(){return"CodeMirror.Pass"}},Ke={scroll:!1},st={origin:"*mouse"},$e={origin:"+move"};function be(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||i+s>=t)return n+Math.min(s,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Se=[""];function Ze(e){for(;Se.length<=e;)Se.push(_e(Se)+" ");return Se[e]}function _e(e){return e[e.length-1]}function wt(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Rt(){}function kt(e,t){var r;return Object.create?r=Object.create(e):(Rt.prototype=e,r=new Rt),t&&ke(t,r),r}var Pt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ut(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Pt.test(e))}function R(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ut(e))||t.test(e):ut(e)}function _(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var D=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function a(e){return e.charCodeAt(0)>=768&&D.test(e)}function l(e,t,r){for(;(r<0?t>0:t<e.length)&&a(e.charAt(t));)t+=r;return t}function u(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}var b=null;function k(e,t,r){var n;b=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:b=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:b=i)}return null!=n?n:b}var q=function(){function r(p){return p<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(p):1424<=p&&p<=1524?"R":1536<=p&&p<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(p-1536):1774<=p&&p<=2220?"r":8192<=p&&p<=8203?"w":8204==p?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,f=/[1n]/;function h(p,y,C){this.level=p,this.from=y,this.to=C}return function(p,y){var C="ltr"==y?"L":"R";if(0==p.length||"ltr"==y&&!n.test(p))return!1;for(var O=p.length,M=[],G=0;G<O;++G)M.push(r(p.charCodeAt(G)));for(var $=0,ue=C;$<O;++$){var de=M[$];"m"==de?M[$]=ue:ue=de}for(var ve=0,pe=C;ve<O;++ve){var De=M[ve];"1"==De&&"r"==pe?M[ve]="n":o.test(De)&&(pe=De,"r"==De&&(M[ve]="R"))}for(var Le=1,Me=M[0];Le<O-1;++Le){var Ge=M[Le];"+"==Ge&&"1"==Me&&"1"==M[Le+1]?M[Le]="1":","==Ge&&Me==M[Le+1]&&("1"==Me||"n"==Me)&&(M[Le]=Me),Me=Ge}for(var Ve=0;Ve<O;++Ve){var xt=M[Ve];if(","==xt)M[Ve]="N";else if("%"==xt){var tt=void 0;for(tt=Ve+1;tt<O&&"%"==M[tt];++tt);for(var Nt=Ve&&"!"==M[Ve-1]||tt<O&&"1"==M[tt]?"1":"N",_t=Ve;_t<tt;++_t)M[_t]=Nt;Ve=tt-1}}for(var ct=0,Bt=C;ct<O;++ct){var yt=M[ct];"L"==Bt&&"1"==yt?M[ct]="L":o.test(yt)&&(Bt=yt)}for(var dt=0;dt<O;++dt)if(i.test(M[dt])){var ht=void 0;for(ht=dt+1;ht<O&&i.test(M[ht]);++ht);for(var it="L"==(dt?M[dt-1]:C),Xn=it==("L"==(ht<O?M[ht]:C))?it?"L":"R":C,mn=dt;mn<ht;++mn)M[mn]=Xn;dt=ht-1}for(var Vt,Ct=[],bt=0;bt<O;)if(s.test(M[bt])){var no=bt;for(++bt;bt<O&&s.test(M[bt]);++bt);Ct.push(new h(0,no,bt))}else{var sn=bt,Fn=Ct.length,Mn="rtl"==y?1:0;for(++bt;bt<O&&"L"!=M[bt];++bt);for(var Et=sn;Et<bt;)if(f.test(M[Et])){sn<Et&&(Ct.splice(Fn,0,new h(1,sn,Et)),Fn+=Mn);var Yn=Et;for(++Et;Et<bt&&f.test(M[Et]);++Et);Ct.splice(Fn,0,new h(2,Yn,Et)),Fn+=Mn,sn=Et}else++Et;sn<bt&&Ct.splice(Fn,0,new h(1,sn,bt))}return"ltr"==y&&(1==Ct[0].level&&(Vt=p.match(/^\s+/))&&(Ct[0].from=Vt[0].length,Ct.unshift(new h(0,0,Vt[0].length))),1==_e(Ct).level&&(Vt=p.match(/\s+$/))&&(_e(Ct).to-=Vt[0].length,Ct.push(new h(0,O-Vt[0].length,O)))),"rtl"==y?Ct.reverse():Ct}}();function c(e,t){var r=e.order;return null==r&&(r=e.order=q(e.text,t)),r}var v=[],x=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||v).concat(r)}};function E(e,t){return e._handlers&&e._handlers[t]||v}function S(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=ge(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function w(e,t){var r=E(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function T(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),w(e,r||t.type,e,t),Be(t)||t.codemirrorIgnore}function L(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==ge(r,t[n])&&r.push(t[n])}function I(e,t){return E(e,t).length>0}function ee(e){e.prototype.on=function(t,r){x(this,t,r)},e.prototype.off=function(t,r){S(this,t,r)}}function ie(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Oe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Be(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ye(e){ie(e),Oe(e)}function Ie(e){return e.target||e.srcElement}function Re(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),P&&e.ctrlKey&&1==t&&(t=3),t}var je,nt,qe=function(){if(F&&A<9)return!1;var e=Q("div");return"draggable"in e||"dragDrop"in e}();function pt(e){if(null==je){var t=Q("span","\u200b");se(e,Q("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(je=t.offsetWidth<=1&&t.offsetHeight>2&&!(F&&A<8))}var r=je?Q("span","\u200b"):Q("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ft(e){if(null!=nt)return nt;var t=se(e,document.createTextNode("A\u062eA")),r=We(t,0,1).getBoundingClientRect(),n=We(t,1,2).getBoundingClientRect();return Ne(e),!(!r||r.left==r.right)&&(nt=n.right-r.right<3)}var e,en=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(r.push(o.slice(0,s)),t+=s+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Zt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Tn="oncopy"in(e=Q("div"))||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy),Ln=null;var Qn={},Kt={};function ai(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Qn[e]=t}function ft(e){if("string"==typeof e&&Kt.hasOwnProperty(e))e=Kt[e];else if(e&&"string"==typeof e.name&&Kt.hasOwnProperty(e.name)){var t=Kt[e.name];"string"==typeof t&&(t={name:t}),(e=kt(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ft("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ft("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function $t(e,t){t=ft(t);var r=Qn[t.name];if(!r)return $t(e,"text/plain");var n=r(e,t);if(St.hasOwnProperty(t.name)){var i=St[t.name];for(var o in i)!i.hasOwnProperty(o)||(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var St={};function Ht(e,t){ke(t,St.hasOwnProperty(e)?St[e]:St[e]={})}function Mt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function tn(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Jn(e,t,r){return!e.startState||e.startState(t,r)}var rt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function xn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(o){var s=o.text;i==r.line&&(s=s.slice(0,r.ch)),i==t.line&&(s=s.slice(t.ch)),n.push(s),++i}),n}function si(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}function Xt(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Qe(e){if(null==e.parent)return null;for(var t=e.parent,r=ge(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function bn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var s=0;s<e.lines.length;++s){var h=e.lines[s].height;if(t<h)break;t-=h}return r+s}function Vn(e,t){return t>=e.first&&t<e.first+e.size}function ui(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function re(e,t,r){if(void 0===r&&(r=null),!(this instanceof re))return new re(e,t,r);this.line=e,this.ch=t,this.sticky=r}function Pe(e,t){return e.line-t.line||e.ch-t.ch}function fi(e,t){return e.sticky==t.sticky&&0==Pe(e,t)}function ci(e){return re(e.line,e.ch)}function Fr(e,t){return Pe(e,t)<0?t:e}function Mr(e,t){return Pe(e,t)<0?e:t}function io(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ze(e,t){if(t.line<e.first)return re(e.first,0);var r=e.first+e.size-1;return t.line>r?re(r,Ae(e,r).text.length):function ol(e,t){var r=e.ch;return null==r||r>t?re(e.line,t):r<0?re(e.line,0):e}(t,Ae(e,t.line).text.length)}function oo(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ze(e,t[n]);return r}rt.prototype.eol=function(){return this.pos>=this.string.length},rt.prototype.sol=function(){return this.pos==this.lineStart},rt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},rt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},rt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},rt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},rt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},rt.prototype.skipToEnd=function(){this.pos=this.string.length},rt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},rt.prototype.backUp=function(e){this.pos-=e},rt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=m(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?m(this.string,this.lineStart,this.tabSize):0)},rt.prototype.indentation=function(){return m(this.string,null,this.tabSize)-(this.lineStart?m(this.string,this.lineStart,this.tabSize):0)},rt.prototype.match=function(e,t,r){if("string"!=typeof e){var o=this.string.slice(this.pos).match(e);return o&&o.index>0?null:(o&&!1!==t&&(this.pos+=o[0].length),o)}var n=function(s){return r?s.toLowerCase():s};if(n(this.string.substr(this.pos,e.length))==n(e))return!1!==t&&(this.pos+=e.length),!0},rt.prototype.current=function(){return this.string.slice(this.start,this.pos)},rt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},rt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},rt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Tr=function(e,t){this.state=e,this.lookAhead=t},Yt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ao(e,t,r,n){var i=[e.state.modeGen],o={};ho(e,t.text,e.doc.mode,r,function(p,y){return i.push(p,y)},o,n);for(var s=r.state,f=function(p){r.baseTokens=i;var y=e.state.overlays[p],C=1,O=0;r.state=!0,ho(e,t.text,y.mode,r,function(M,G){for(var $=C;O<M;){var ue=i[C];ue>M&&i.splice(C,1,M,i[C+1],ue),C+=2,O=Math.min(M,ue)}if(G)if(y.opaque)i.splice($,C-$,M,"overlay "+G),C=$+2;else for(;$<C;$+=2){var de=i[$+1];i[$+1]=(de?de+" ":"")+"overlay "+G}},o),r.state=s,r.baseTokens=null,r.baseTokenPos=1},h=0;h<e.state.overlays.length;++h)f(h);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function lo(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=er(e,Qe(t)),i=t.text.length>e.options.maxHighlightLength&&Mt(e.doc.mode,n.state),o=ao(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function er(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new Yt(n,!0,t);var o=function al(e,t,r){for(var n,i,o=e.doc,s=r?-1:t-(e.doc.mode.innerMode?1e3:100),f=t;f>s;--f){if(f<=o.first)return o.first;var h=Ae(o,f-1),p=h.stateAfter;if(p&&(!r||f+(p instanceof Tr?p.lookAhead:0)<=o.modeFrontier))return f;var y=m(h.text,null,e.options.tabSize);(null==i||n>y)&&(i=f-1,n=y)}return i}(e,t,r),s=o>n.first&&Ae(n,o-1).stateAfter,f=s?Yt.fromSaved(n,s,o):new Yt(n,Jn(n.mode),o);return n.iter(o,t,function(h){hi(e,h.text,f);var p=f.line;h.stateAfter=p==t-1||p%5==0||p>=i.viewFrom&&p<i.viewTo?f.save():null,f.nextLine()}),r&&(n.modeFrontier=f.line),f}function hi(e,t,r,n){var i=e.doc.mode,o=new rt(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&so(i,r.state);!o.eol();)di(i,o,r.state),o.start=o.pos}function so(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=tn(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}function di(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=tn(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Yt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Yt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Yt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Yt.fromSaved=function(e,t,r){return t instanceof Tr?new Yt(e,Mt(e.mode,t.state),r,t.lookAhead):new Yt(e,Mt(e.mode,t),r)},Yt.prototype.save=function(e){var t=!1!==e?Mt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Tr(t,this.maxLookAhead):t};var uo=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function fo(e,t,r,n){var s,y,i=e.doc,o=i.mode,f=Ae(i,(t=ze(i,t)).line),h=er(e,t.line,r),p=new rt(f.text,e.options.tabSize,h);for(n&&(y=[]);(n||p.pos<t.ch)&&!p.eol();)p.start=p.pos,s=di(o,p,h.state),n&&y.push(new uo(p,s,Mt(i.mode,h.state)));return n?y:new uo(p,s,h.state)}function co(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function ho(e,t,r,n,i,o,s){var f=r.flattenSpans;null==f&&(f=e.options.flattenSpans);var C,h=0,p=null,y=new rt(t,e.options.tabSize,n),O=e.options.addModeClass&&[null];for(""==t&&co(so(r,n.state),o);!y.eol();){if(y.pos>e.options.maxHighlightLength?(f=!1,s&&hi(e,t,n,y.pos),y.pos=t.length,C=null):C=co(di(r,y,n.state,O),o),O){var M=O[0].name;M&&(C="m-"+(C?M+" "+C:M))}if(!f||p!=C){for(;h<y.start;)i(h=Math.min(y.start,h+5e3),p);p=C}y.start=y.pos}for(;h<y.pos;){var G=Math.min(y.pos,h+5e3);i(G,p),h=G}}var po=!1,nn=!1;function Lr(e,t,r){this.marker=e,this.from=t,this.to=r}function tr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function fl(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function pi(e,t){if(t.full)return null;var r=Vn(e,t.from.line)&&Ae(e,t.from.line).markedSpans,n=Vn(e,t.to.line)&&Ae(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,s=0==Pe(t.from,t.to),f=function hl(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;null!=o.from&&!(s.inclusiveLeft?o.from<=t:o.from<t)&&(o.from!=t||"bookmark"!=s.type||r&&o.marker.insertLeft)||(n||(n=[])).push(new Lr(s,o.from,null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)?null:o.to))}return n}(r,i,s),h=function dl(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!r||o.marker.insertLeft))&&(n||(n=[])).push(new Lr(s,null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)?null:o.from-t,null==o.to?null:o.to-t))}return n}(n,o,s),p=1==t.text.length,y=_e(t.text).length+(p?i:0);if(f)for(var C=0;C<f.length;++C){var O=f[C];if(null==O.to){var M=tr(h,O.marker);M?p&&(O.to=null==M.to?null:M.to+y):O.to=i}}if(h)for(var G=0;G<h.length;++G){var $=h[G];null!=$.to&&($.to+=y),null==$.from?tr(f,$.marker)||($.from=y,p&&(f||(f=[])).push($)):($.from+=y,p&&(f||(f=[])).push($))}f&&(f=go(f)),h&&h!=f&&(h=go(h));var de=[f];if(!p){var pe,ve=t.text.length-2;if(ve>0&&f)for(var De=0;De<f.length;++De)null==f[De].to&&(pe||(pe=[])).push(new Lr(f[De].marker,null,null));for(var Le=0;Le<ve;++Le)de.push(pe);de.push(h)}return de}function go(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function vo(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function mo(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function _r(e){return e.inclusiveLeft?-1:0}function Br(e){return e.inclusiveRight?1:0}function gi(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Pe(n.from,i.from)||_r(e)-_r(t);return o?-o:Pe(n.to,i.to)||Br(e)-Br(t)||t.id-e.id}function xo(e,t){var n,r=nn&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||gi(n,i.marker)<0)&&(n=i.marker);return n}function bo(e){return xo(e,!0)}function Or(e){return xo(e,!1)}function gl(e,t){var n,r=nn&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||gi(n,o.marker)<0)&&(n=o.marker)}return n}function yo(e,t,r,n,i){var o=Ae(e,t),s=nn&&o.markedSpans;if(s)for(var f=0;f<s.length;++f){var h=s[f];if(h.marker.collapsed){var p=h.marker.find(0),y=Pe(p.from,r)||_r(h.marker)-_r(i),C=Pe(p.to,n)||Br(h.marker)-Br(i);if(!(y>=0&&C<=0||y<=0&&C>=0)&&(y<=0&&(h.marker.inclusiveRight&&i.inclusiveLeft?Pe(p.to,r)>=0:Pe(p.to,r)>0)||y>=0&&(h.marker.inclusiveRight&&i.inclusiveLeft?Pe(p.from,n)<=0:Pe(p.from,n)<0)))return!0}}}function Wt(e){for(var t;t=bo(e);)e=t.find(-1,!0).line;return e}function vi(e,t){var r=Ae(e,t),n=Wt(r);return r==n?t:Qe(n)}function ko(e,t){if(t>e.lastLine())return t;var n,r=Ae(e,t);if(!un(e,r))return t;for(;n=Or(r);)r=n.find(1,!0).line;return Qe(r)+1}function un(e,t){var r=nn&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&mi(e,t,n))return!0}}function mi(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return mi(e,n.line,tr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&mi(e,t,i))return!0}function rn(e){for(var t=0,r=(e=Wt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var s=0;s<o.children.length;++s){var f=o.children[s];if(f==r)break;t+=f.height}return t}function Pr(e){if(0==e.height)return 0;for(var r,t=e.text.length,n=e;r=bo(n);){var i=r.find(0,!0);n=i.from.line,t+=i.from.ch-i.to.ch}for(n=e;r=Or(n);){var o=r.find(0,!0);t-=n.text.length-o.from.ch,t+=(n=o.to.line).text.length-o.to.ch}return t}function xi(e){var t=e.display,r=e.doc;t.maxLine=Ae(r,r.first),t.maxLineLength=Pr(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=Pr(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}var _n=function(e,t,r){this.text=e,mo(this,t),this.height=r?r(this):1};function bl(e){e.parent=null,vo(e)}_n.prototype.lineNo=function(){return Qe(this)},ee(_n);var yl={},kl={};function Do(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?kl:yl;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Co(e,t){var r=Fe("span",null,null,N?"padding-right: .1px":null),n={pre:Fe("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;n.pos=0,n.addToken=Cl,Ft(e.display.measure)&&(s=c(o,e.doc.direction))&&(n.addToken=Sl(n.addToken,s)),n.map=[],Al(o,n,lo(e,o,t!=e.display.externalMeasured&&Qe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=Ee(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=Ee(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(pt(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(N){var h=n.content.lastChild;(/\bcm-tab\b/.test(h.className)||h.querySelector&&h.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return w(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Ee(n.pre.className,n.textClass||"")),n}function Dl(e){var t=Q("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Cl(e,t,r,n,i,o,s){if(t){var y,f=e.splitSpaces?function wl(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "==o&&r&&(i==e.length-1||32==e.charCodeAt(i+1))&&(o="\xa0"),n+=o,r=" "==o}return n}(t,e.trailingSpace):t,h=e.cm.state.specialChars,p=!1;if(h.test(t)){y=document.createDocumentFragment();for(var C=0;;){h.lastIndex=C;var O=h.exec(t),M=O?O.index-C:t.length-C;if(M){var G=document.createTextNode(f.slice(C,C+M));y.appendChild(F&&A<9?Q("span",[G]):G),e.map.push(e.pos,e.pos+M,G),e.col+=M,e.pos+=M}if(!O)break;C+=M+1;var $=void 0;if("\t"==O[0]){var ue=e.cm.options.tabSize,de=ue-e.col%ue;($=y.appendChild(Q("span",Ze(de),"cm-tab"))).setAttribute("role","presentation"),$.setAttribute("cm-text","\t"),e.col+=de}else"\r"==O[0]||"\n"==O[0]?(($=y.appendChild(Q("span","\r"==O[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",O[0]),e.col+=1):(($=e.cm.options.specialCharPlaceholder(O[0])).setAttribute("cm-text",O[0]),y.appendChild(F&&A<9?Q("span",[$]):$),e.col+=1);e.map.push(e.pos,e.pos+1,$),e.pos++}}else e.col+=t.length,y=document.createTextNode(f),e.map.push(e.pos,e.pos+t.length,y),F&&A<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==f.charCodeAt(t.length-1),r||n||i||p||o||s){var ve=r||"";n&&(ve+=n),i&&(ve+=i);var pe=Q("span",[y],ve,o);if(s)for(var De in s)s.hasOwnProperty(De)&&"style"!=De&&"class"!=De&&pe.setAttribute(De,s[De]);return e.content.appendChild(pe)}e.content.appendChild(y)}}function Sl(e,t){return function(r,n,i,o,s,f,h){i=i?i+" cm-force-border":"cm-force-border";for(var p=r.pos,y=p+n.length;;){for(var C=void 0,O=0;O<t.length&&!((C=t[O]).to>p&&C.from<=p);O++);if(C.to>=y)return e(r,n,i,o,s,f,h);e(r,n.slice(0,C.to-p),i,o,null,f,h),o=null,n=n.slice(C.to-p),p=C.to}}}function wo(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Al(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var C,O,G,$,ue,de,ve,f=i.length,h=0,p=1,y="",M=0;;){if(M==h){G=$=ue=O="",ve=null,de=null,M=1/0;for(var pe=[],De=void 0,Le=0;Le<n.length;++Le){var Me=n[Le],Ge=Me.marker;if("bookmark"==Ge.type&&Me.from==h&&Ge.widgetNode)pe.push(Ge);else if(Me.from<=h&&(null==Me.to||Me.to>h||Ge.collapsed&&Me.to==h&&Me.from==h)){if(null!=Me.to&&Me.to!=h&&M>Me.to&&(M=Me.to,$=""),Ge.className&&(G+=" "+Ge.className),Ge.css&&(O=(O?O+";":"")+Ge.css),Ge.startStyle&&Me.from==h&&(ue+=" "+Ge.startStyle),Ge.endStyle&&Me.to==M&&(De||(De=[])).push(Ge.endStyle,Me.to),Ge.title&&((ve||(ve={})).title=Ge.title),Ge.attributes)for(var Ve in Ge.attributes)(ve||(ve={}))[Ve]=Ge.attributes[Ve];Ge.collapsed&&(!de||gi(de.marker,Ge)<0)&&(de=Me)}else Me.from>h&&M>Me.from&&(M=Me.from)}if(De)for(var xt=0;xt<De.length;xt+=2)De[xt+1]==M&&($+=" "+De[xt]);if(!de||de.from==h)for(var tt=0;tt<pe.length;++tt)wo(t,0,pe[tt]);if(de&&(de.from||0)==h){if(wo(t,(null==de.to?f+1:de.to)-h,de.marker,null==de.from),null==de.to)return;de.to==h&&(de=!1)}}if(h>=f)break;for(var Nt=Math.min(f,M);;){if(y){var _t=h+y.length;if(!de){var ct=_t>Nt?y.slice(0,Nt-h):y;t.addToken(t,ct,C?C+G:G,ue,h+ct.length==M?$:"",O,ve)}if(_t>=Nt){y=y.slice(Nt-h),h=Nt;break}h=_t,ue=""}y=i.slice(o,o=r[p++]),C=Do(r[p++],t.cm.options)}}else for(var s=1;s<r.length;s+=2)t.addToken(t,i.slice(o,o=r[s]),Do(r[s+1],t.cm.options))}function So(e,t,r){this.line=t,this.rest=function ml(e){for(var t,r;t=Or(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?Qe(_e(this.rest))-r+1:1,this.node=this.text=null,this.hidden=un(e,t)}function zr(e,t,r){for(var i,n=[],o=t;o<r;o=i){var s=new So(e.doc,Ae(e.doc,o),o);i=o+s.size,n.push(s)}return n}var Bn=null;var nr=null;function gt(e,t){var r=E(e,t);if(r.length){var i,n=Array.prototype.slice.call(arguments,2);Bn?i=Bn.delayedCallbacks:nr?i=nr:(i=nr=[],setTimeout(Tl,0));for(var o=function(f){i.push(function(){return r[f].apply(null,n)})},s=0;s<r.length;++s)o(s)}}function Tl(){var e=nr;nr=null;for(var t=0;t<e.length;++t)e[t]()}function Ao(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?_l(e,t):"gutter"==o?Fo(e,t,r,n):"class"==o?bi(e,t):"widget"==o&&Bl(e,t,n)}t.changes=null}function rr(e){return e.node==e.text&&(e.node=Q("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),F&&A<8&&(e.node.style.zIndex=2)),e.node}function Eo(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Co(e,t)}function _l(e,t){var r=t.text.className,n=Eo(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,bi(e,t)):r&&(t.text.className=r)}function bi(e,t){(function Ll(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=rr(t);t.background=n.insertBefore(Q("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}})(e,t),t.line.wrapClass?rr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function Fo(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=rr(t);t.gutterBackground=Q("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=rr(t),f=t.gutter=Q("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(f.setAttribute("aria-hidden","true"),e.display.input.setUneditable(f),s.insertBefore(f,t.text),t.line.gutterClass&&(f.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])&&(t.lineNumber=f.appendChild(Q("div",ui(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var h=0;h<e.display.gutterSpecs.length;++h){var p=e.display.gutterSpecs[h].className,y=o.hasOwnProperty(p)&&o[p];y&&f.appendChild(Q("div",[y],"CodeMirror-gutter-elt","left: "+n.gutterLeft[p]+"px; width: "+n.gutterWidth[p]+"px"))}}}function Bl(e,t,r){t.alignable&&(t.alignable=null);for(var n=X("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);Mo(e,t,r)}function Ol(e,t,r,n){var i=Eo(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),bi(e,t),Fo(e,t,r,n),Mo(e,t,n),t.node}function Mo(e,t,r){if(To(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)To(e,t.rest[n],t,r,!1)}function To(e,t,r,n,i){if(t.widgets)for(var o=rr(r),s=0,f=t.widgets;s<f.length;++s){var h=f[s],p=Q("div",[h.node],"CodeMirror-linewidget"+(h.className?" "+h.className:""));h.handleMouseEvents||p.setAttribute("cm-ignore-events","true"),Pl(h,p,r,n),e.display.input.setUneditable(p),i&&h.above?o.insertBefore(p,r.gutter||r.text):o.appendChild(p),gt(h,"redraw")}}function Pl(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function ir(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!W(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),se(t.display.measure,Q("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function on(e,t){for(var r=Ie(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Nr(e){return e.lineSpace.offsetTop}function yi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Lo(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=se(e.measure,Q("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}function Qt(e){return 50-e.display.nativeBarWidth}function yn(e){return e.display.scroller.clientWidth-Qt(e)-e.display.barWidth}function ki(e){return e.display.scroller.clientHeight-Qt(e)-e.display.barHeight}function _o(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(Qe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Bo(e,t,r,n){return Jt(e,On(e,t),r,n)}function Di(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Cn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function On(e,t){var r=Qe(t),n=Di(e,r);n&&!n.text?n=null:n&&n.changes&&(Ao(e,n,r,Ei(e)),e.curOp.forceUpdate=!0),n||(n=function Nl(e,t){var r=Qe(t=Wt(t)),n=e.display.externalMeasured=new So(e.doc,t,r);n.lineN=r;var i=n.built=Co(e,n);return n.text=i.pre,se(e.display.lineMeasure,i.pre),n}(e,t));var i=_o(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Jt(e,t,r,n,i){t.before&&(r=-1);var s,o=r+(n||"");return t.cache.hasOwnProperty(o)?s=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function zl(e,t,r){var n=e.options.lineWrapping,i=n&&yn(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),f=0;f<s.length-1;f++){var h=s[f],p=s[f+1];Math.abs(h.bottom-p.bottom)>2&&o.push((h.bottom+p.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(s=function Rl(e,t,r,n){var p,i=Po(t.map,r,n),o=i.node,s=i.start,f=i.end,h=i.collapse;if(3==o.nodeType){for(var y=0;y<4;y++){for(;s&&a(t.line.text.charAt(i.coverStart+s));)--s;for(;i.coverStart+f<i.coverEnd&&a(t.line.text.charAt(i.coverStart+f));)++f;if((p=F&&A<9&&0==s&&f==i.coverEnd-i.coverStart?o.parentNode.getBoundingClientRect():Il(We(o,s,f).getClientRects(),n)).left||p.right||0==s)break;f=s,s-=1,h="right"}F&&A<11&&(p=function Hl(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Er(e){if(null!=Ln)return Ln;var t=se(e,Q("span","x")),r=t.getBoundingClientRect(),n=We(t,0,1).getBoundingClientRect();return Ln=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,p))}else{var C;s>0&&(h=n="right"),p=e.options.lineWrapping&&(C=o.getClientRects()).length>1?C["right"==n?C.length-1:0]:o.getBoundingClientRect()}if(F&&A<9&&!s&&(!p||!p.left&&!p.right)){var O=o.parentNode.getClientRects()[0];p=O?{left:O.left,right:O.left+zn(e.display),top:O.top,bottom:O.bottom}:Oo}for(var M=p.top-t.rect.top,G=p.bottom-t.rect.top,$=(M+G)/2,ue=t.view.measure.heights,de=0;de<ue.length-1&&!($<ue[de]);de++);var De={left:("right"==h?p.right:p.left)-t.rect.left,right:("left"==h?p.left:p.right)-t.rect.left,top:de?ue[de-1]:0,bottom:ue[de]};return!p.left&&!p.right&&(De.bogus=!0),e.options.singleCursorHeightPerLine||(De.rtop=M,De.rbottom=G),De}(e,t,r,n)).bogus||(t.cache[o]=s)),{left:s.left,right:s.right,top:i?s.rtop:s.top,bottom:i?s.rbottom:s.bottom}}var kn,Oo={left:0,right:0,top:0,bottom:0};function Po(e,t,r){for(var n,i,o,s,f,h,p=0;p<e.length;p+=3)if(h=e[p+1],t<(f=e[p])?(i=0,o=1,s="left"):t<h?o=1+(i=t-f):(p==e.length-3||t==h&&e[p+3]>t)&&(i=(o=h-f)-1,t>=h&&(s="right")),null!=i){if(n=e[p+2],f==h&&r==(n.insertLeft?"left":"right")&&(s=r),"left"==r&&0==i)for(;p&&e[p-2]==e[p-3]&&e[p-1].insertLeft;)n=e[2+(p-=3)],s="left";if("right"==r&&i==h-f)for(;p<e.length-3&&e[p+3]==e[p+4]&&!e[p+5].insertLeft;)n=e[(p+=3)+2],s="right";break}return{node:n,start:i,end:o,collapse:s,coverStart:f,coverEnd:h}}function Il(e,t){var r=Oo;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function zo(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function No(e){e.display.externalMeasure=null,Ne(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)zo(e.display.view[t])}function or(e){No(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Io(){return ne&&we?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ro(){return ne&&we?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ci(e){var r=Wt(e).widgets,n=0;if(r)for(var i=0;i<r.length;++i)r[i].above&&(n+=ir(r[i]));return n}function Ir(e,t,r,n,i){if(!i){var o=Ci(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var s=rn(t);if("local"==n?s+=Nr(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var f=e.display.lineSpace.getBoundingClientRect();s+=f.top+("window"==n?0:Ro());var h=f.left+("window"==n?0:Io());r.left+=h,r.right+=h}return r.top+=s,r.bottom+=s,r}function Ho(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Io(),i-=Ro();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:i-s.top}}function Rr(e,t,r,n,i){return n||(n=Ae(e.doc,t.line)),Ir(e,n,Bo(e,n,t.ch,i),r)}function Ut(e,t,r,n,i,o){function s(G,$){var ue=Jt(e,i,G,$?"right":"left",o);return $?ue.left=ue.right:ue.right=ue.left,Ir(e,n,ue,r)}n=n||Ae(e.doc,t.line),i||(i=On(e,n));var f=c(n,e.doc.direction),h=t.ch,p=t.sticky;if(h>=n.text.length?(h=n.text.length,p="before"):h<=0&&(h=0,p="after"),!f)return s("before"==p?h-1:h,"before"==p);function y(G,$,ue){return s(ue?G-1:G,1==f[$].level!=ue)}var C=k(f,h,p),O=b,M=y(h,C,"before"==p);return null!=O&&(M.other=y(h,O,"before"!=p)),M}function Wo(e,t){var r=0;t=ze(e.doc,t),e.options.lineWrapping||(r=zn(e.display)*t.ch);var n=Ae(e.doc,t.line),i=rn(n)+Nr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function wi(e,t,r,n,i){var o=re(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function Si(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return wi(n.first,0,null,-1,-1);var i=bn(n,r),o=n.first+n.size-1;if(i>o)return wi(n.first+n.size-1,Ae(n,o).text.length,null,1,1);t<0&&(t=0);for(var s=Ae(n,i);;){var f=Wl(e,s,i,t,r),h=gl(s,f.ch+(f.xRel>0||f.outside>0?1:0));if(!h)return f;var p=h.find(1);if(p.line==i)return p;s=Ae(n,i=p.line)}}function Uo(e,t,r,n){n-=Ci(t);var i=t.text.length,o=u(function(s){return Jt(e,r,s-1).bottom<=n},i,0);return{begin:o,end:i=u(function(s){return Jt(e,r,s).top>n},o,i)}}function qo(e,t,r,n){return r||(r=On(e,t)),Uo(e,t,r,Ir(e,t,Jt(e,r,n),"line").top)}function Ai(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Wl(e,t,r,n,i){i-=rn(t);var o=On(e,t),s=Ci(t),f=0,h=t.text.length,p=!0,y=c(t,e.doc.direction);if(y){var C=(e.options.lineWrapping?ql:Ul)(e,t,r,o,y,n,i);f=(p=1!=C.level)?C.from:C.to-1,h=p?C.to:C.from-1}var $,ue,O=null,M=null,G=u(function(Le){var Me=Jt(e,o,Le);return Me.top+=s,Me.bottom+=s,!!Ai(Me,n,i,!1)&&(Me.top<=i&&Me.left<=n&&(O=Le,M=Me),!0)},f,h),de=!1;if(M){var ve=n-M.left<M.right-n,pe=ve==p;G=O+(pe?0:1),ue=pe?"after":"before",$=ve?M.left:M.right}else{!p&&(G==h||G==f)&&G++,ue=0==G?"after":G==t.text.length?"before":Jt(e,o,G-(p?1:0)).bottom+s<=i==p?"after":"before";var De=Ut(e,re(r,G,ue),"line",t,o);$=De.left,de=i<De.top?-1:i>=De.bottom?1:0}return wi(r,G=l(t.text,G,1),ue,de,n-$)}function Ul(e,t,r,n,i,o,s){var f=u(function(C){var O=i[C],M=1!=O.level;return Ai(Ut(e,re(r,M?O.to:O.from,M?"before":"after"),"line",t,n),o,s,!0)},0,i.length-1),h=i[f];if(f>0){var p=1!=h.level,y=Ut(e,re(r,p?h.from:h.to,p?"after":"before"),"line",t,n);Ai(y,o,s,!0)&&y.top>s&&(h=i[f-1])}return h}function ql(e,t,r,n,i,o,s){var f=Uo(e,t,n,s),h=f.begin,p=f.end;/\s/.test(t.text.charAt(p-1))&&p--;for(var y=null,C=null,O=0;O<i.length;O++){var M=i[O];if(!(M.from>=p||M.to<=h)){var $=Jt(e,n,1!=M.level?Math.min(p,M.to)-1:Math.max(h,M.from)).right,ue=$<o?o-$+1e9:$-o;(!y||C>ue)&&(y=M,C=ue)}}return y||(y=i[i.length-1]),y.from<h&&(y={from:h,to:y.to,level:y.level}),y.to>p&&(y={from:y.from,to:p,level:y.level}),y}function Pn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==kn){kn=Q("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)kn.appendChild(document.createTextNode("x")),kn.appendChild(Q("br"));kn.appendChild(document.createTextNode("x"))}se(e.measure,kn);var r=kn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Ne(e.measure),r||1}function zn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Q("span","xxxxxxxxxx"),r=Q("pre",[t],"CodeMirror-line-like");se(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ei(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var f=e.display.gutterSpecs[s].className;r[f]=o.offsetLeft+o.clientLeft+i,n[f]=o.clientWidth}return{fixedPos:Fi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Fi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Go(e){var t=Pn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/zn(e.display)-3);return function(i){if(un(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Mi(e){var t=e.doc,r=Go(e);t.iter(function(n){var i=r(n);i!=n.height&&Xt(n,i)})}function Dn(e,t,r,n){var i=e.display;if(!r&&"true"==Ie(t).getAttribute("cm-not-content"))return null;var o,s,f=i.lineSpace.getBoundingClientRect();try{o=t.clientX-f.left,s=t.clientY-f.top}catch(C){return null}var p,h=Si(e,o,s);if(n&&h.xRel>0&&(p=Ae(e.doc,h.line).text).length==h.ch){var y=m(p,p.length,e.options.tabSize)-p.length;h=re(h.line,Math.max(0,Math.round((o-Lo(e.display).left)/zn(e.display))-y))}return h}function Cn(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Tt(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)nn&&vi(e.doc,t)<i.viewTo&&cn(e);else if(r<=i.viewFrom)nn&&ko(e.doc,r+n)>i.viewFrom?cn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)cn(e);else if(t<=i.viewFrom){var o=Hr(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):cn(e)}else if(r>=i.viewTo){var s=Hr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):cn(e)}else{var f=Hr(e,t,t,-1),h=Hr(e,r,r+n,1);f&&h?(i.view=i.view.slice(0,f.index).concat(zr(e,f.lineN,h.lineN)).concat(i.view.slice(h.index)),i.viewTo+=n):cn(e)}var p=i.externalMeasured;p&&(r<p.lineN?p.lineN+=n:t<p.lineN+p.size&&(i.externalMeasured=null))}function fn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Cn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==ge(s,r)&&s.push(r)}}}function cn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Hr(e,t,r,n){var o,i=Cn(e,t),s=e.display.view;if(!nn||r==e.doc.first+e.doc.size)return{index:i,lineN:r};for(var f=e.display.viewFrom,h=0;h<i;h++)f+=s[h].size;if(f!=t){if(n>0){if(i==s.length-1)return null;o=f+s[i].size-t,i++}else o=f-t;t+=o,r+=o}for(;vi(e.doc,r)!=r;){if(i==(n<0?0:s.length-1))return null;r+=n*s[i-(n<0?1:0)].size,i+=n}return{index:i,lineN:r}}function jo(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];!i.hidden&&(!i.node||i.changes)&&++r}return r}function ar(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Zo(e,t){void 0===t&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=e.options.$customCursor;s&&(t=!0);for(var f=0;f<r.sel.ranges.length;f++)if(t||f!=r.sel.primIndex){var h=r.sel.ranges[f];if(!(h.from().line>=e.display.viewTo||h.to().line<e.display.viewFrom)){var p=h.empty();if(s){var y=s(e,h);y&&Ti(e,y,i)}else(p||e.options.showCursorWhenSelecting)&&Ti(e,h.head,i);p||jl(e,h,o)}}return n}function Ti(e,t,r){var n=Ut(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Q("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=Rr(e,t,"div",null,null),s=o.right-o.left;i.style.width=(s>0?s:e.defaultCharWidth())+"px"}if(n.other){var f=r.appendChild(Q("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=n.other.left+"px",f.style.top=n.other.top+"px",f.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Wr(e,t){return e.top-t.top||e.left-t.left}function jl(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),s=Lo(e.display),f=s.left,h=Math.max(n.sizerWidth,yn(e)-n.sizer.offsetLeft)-s.right,p="ltr"==i.direction;function y(pe,De,Le,Me){De<0&&(De=0),De=Math.round(De),Me=Math.round(Me),o.appendChild(Q("div",null,"CodeMirror-selected","position: absolute; left: "+pe+"px;\n                             top: "+De+"px; width: "+(null==Le?h-pe:Le)+"px;\n                             height: "+(Me-De)+"px"))}function C(pe,De,Le){var Ve,xt,Me=Ae(i,pe),Ge=Me.text.length;function tt(ct,Bt){return Rr(e,re(pe,ct),"div",Me,Bt)}function Nt(ct,Bt,yt){var dt=qo(e,Me,null,ct),ht="ltr"==Bt==("after"==yt)?"left":"right";return tt("after"==yt?dt.begin:dt.end-(/\s/.test(Me.text.charAt(dt.end-1))?2:1),ht)[ht]}var _t=c(Me,i.direction);return function d(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<r&&s.to>t||t==r&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,r),1==s.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(_t,De||0,null==Le?Ge:Le,function(ct,Bt,yt,dt){var ht="ltr"==yt,it=tt(ct,ht?"left":"right"),Ot=tt(Bt-1,ht?"right":"left"),Xn=null==De&&0==ct,mn=null==Le&&Bt==Ge,Ct=0==dt,Vt=!_t||dt==_t.length-1;if(Ot.top-it.top<=3){var sn=(p?Xn:mn)&&Ct?f:(ht?it:Ot).left;y(sn,it.top,((p?mn:Xn)&&Vt?h:(ht?Ot:it).right)-sn,it.bottom)}else{var Mn,Et,Yn,ro;ht?(Mn=p&&Xn&&Ct?f:it.left,Et=p?h:Nt(ct,yt,"before"),Yn=p?f:Nt(Bt,yt,"after"),ro=p&&mn&&Vt?h:Ot.right):(Mn=p?Nt(ct,yt,"before"):f,Et=!p&&Xn&&Ct?h:it.right,Yn=!p&&mn&&Vt?f:Ot.left,ro=p?Nt(Bt,yt,"after"):h),y(Mn,it.top,Et-Mn,it.bottom),it.bottom<Ot.top&&y(f,it.bottom,null,Ot.top),y(Yn,Ot.top,ro-Yn,Ot.bottom)}(!Ve||Wr(it,Ve)<0)&&(Ve=it),Wr(Ot,Ve)<0&&(Ve=Ot),(!xt||Wr(it,xt)<0)&&(xt=it),Wr(Ot,xt)<0&&(xt=Ot)}),{start:Ve,end:xt}}var O=t.from(),M=t.to();if(O.line==M.line)C(O.line,O.ch,M.ch);else{var G=Ae(i,O.line),$=Ae(i,M.line),ue=Wt(G)==Wt($),de=C(O.line,O.ch,ue?G.text.length+1:null).end,ve=C(M.line,ue?0:null,M.ch).start;ue&&(de.top<ve.top-2?(y(de.right,de.top,null,de.bottom),y(f,ve.top,ve.left,ve.bottom)):y(de.right,de.top,ve.left-de.right,de.bottom)),de.bottom<ve.top&&y(f,de.bottom,null,ve.top)}r.appendChild(o)}function Li(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Nn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ko(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Bi(e))}function _i(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Nn(e))},100)}function Bi(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(w(e,"focus",e,t),e.state.focused=!0,te(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),N&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Li(e))}function Nn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(w(e,"blur",e,t),e.state.focused=!1,Ce(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ur(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,s=0;s<t.view.length;s++){var f=t.view[s],h=e.options.lineWrapping,p=void 0,y=0;if(!f.hidden){if(i+=f.line.height,F&&A<8){var C=f.node.offsetTop+f.node.offsetHeight;p=C-r,r=C}else{var O=f.node.getBoundingClientRect();p=O.bottom-O.top,!h&&f.text.firstChild&&(y=f.text.firstChild.getBoundingClientRect().right-O.left-1)}var M=f.line.height-p;if((M>.005||M<-.005)&&(i<n&&(o-=M),Xt(f.line,p),$o(f.line),f.rest))for(var G=0;G<f.rest.length;G++)$o(f.rest[G]);if(y>e.display.sizerWidth){var $=Math.ceil(y/zn(e.display));$>e.display.maxLineLength&&(e.display.maxLineLength=$,e.display.maxLine=f.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function $o(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function qr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Nr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=bn(t,n),s=bn(t,i);if(r&&r.ensure){var f=r.ensure.from.line,h=r.ensure.to.line;f<o?(o=f,s=bn(t,rn(Ae(t,f))+e.wrapper.clientHeight)):Math.min(h,t.lastLine())>=s&&(o=bn(t,rn(Ae(t,h))-e.wrapper.clientHeight),s=h)}return{from:o,to:Math.max(s,o+1)}}function Oi(e,t){var r=e.display,n=Pn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=ki(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var f=e.doc.height+yi(r),p=t.bottom>f-n;if(t.top<i)s.scrollTop=t.top<n?0:t.top;else if(t.bottom>i+o){var y=Math.min(t.top,(p?f:t.bottom)-o);y!=i&&(s.scrollTop=y)}var C=e.options.fixedGutter?0:r.gutters.offsetWidth,O=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-C,M=yn(e)-r.gutters.offsetWidth,G=t.right-t.left>M;return G&&(t.right=t.left+M),t.left<10?s.scrollLeft=0:t.left<O?s.scrollLeft=Math.max(0,t.left+C-(G?0:10)):t.right>M+O-3&&(s.scrollLeft=t.right+(G?0:10)-M),s}function Pi(e,t){null!=t&&(Gr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function In(e){Gr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lr(e,t,r){(null!=t||null!=r)&&Gr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Gr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Xo(e,Wo(e,t.from),Wo(e,t.to),t.margin))}function Xo(e,t,r,n){var i=Oi(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});lr(e,i.scrollLeft,i.scrollTop)}function sr(e,t){Math.abs(e.doc.scrollTop-t)<2||(U||Ni(e,{top:t}),Yo(e,t,!0),U&&Ni(e),cr(e,100))}function Yo(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function wn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(!(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||n)&&(e.doc.scrollLeft=t,ta(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ur(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+yi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Sn=function(e,t,r){this.cm=r;var n=this.vert=Q("div",[Q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Q("div",[Q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),x(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),x(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,F&&A<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Sn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;return r?(this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?n:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(r?n:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Sn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Sn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Sn.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=P&&!fe?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new g,this.disableVert=new g},Sn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},Sn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var fr=function(){};function Rn(e,t){t||(t=ur(e));var r=e.display.barWidth,n=e.display.barHeight;Qo(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Ur(e),Qo(e,ur(e)),r=e.display.barWidth,n=e.display.barHeight}function Qo(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}fr.prototype.update=function(){return{bottom:0,right:0}},fr.prototype.setScrollLeft=function(){},fr.prototype.setScrollTop=function(){},fr.prototype.clear=function(){};var Jo={native:Sn,null:fr};function Vo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ce(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Jo[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),x(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?wn(e,t):sr(e,t)},e),e.display.scrollbars.addClass&&te(e.display.wrapper,e.display.scrollbars.addClass)}var Yl=0;function An(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yl,markArrays:null},function El(e){Bn?Bn.ops.push(e):e.ownsGroup=Bn={ops:[e],delayedCallbacks:[]}}(e.curOp)}function En(e){var t=e.curOp;t&&function Ml(e,t){var r=e.ownsGroup;if(r)try{!function Fl(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{Bn=null,t(r)}}(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;!function Ql(e){for(var t=e.ops,r=0;r<t.length;r++)Jl(t[r]);for(var n=0;n<t.length;n++)Vl(t[n]);for(var i=0;i<t.length;i++)es(t[i]);for(var o=0;o<t.length;o++)ts(t[o]);for(var s=0;s<t.length;s++)ns(t[s])}(r)})}function Jl(e){var t=e.cm,r=t.display;(function is(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Qt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Qt(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&xi(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new jr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Vl(e){e.updatedDisplay=e.mustUpdate&&zi(e.cm,e.update)}function es(e){var t=e.cm,r=t.display;e.updatedDisplay&&Ur(t),e.barMeasure=ur(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Bo(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Qt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function ts(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&wn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==oe();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Rn(t,e.barMeasure),e.updatedDisplay&&Ri(t,e.barMeasure),e.selectionChanged&&Li(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Ko(e.cm)}function ns(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&ea(t,e.update),null!=r.wheelStartX&&(null!=e.scrollTop||null!=e.scrollLeft||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Yo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&wn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function Zl(e,t){if(!T(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!ae){var o=Q("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Nr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Qt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function Kl(e,t,r,n){var i;null==n&&(n=0),!e.options.lineWrapping&&t==r&&(r="before"==t.sticky?re(t.line,t.ch+1,"before"):t,t=t.ch?re(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var s=!1,f=Ut(e,t),h=r&&r!=t?Ut(e,r):f,p=Oi(e,i={left:Math.min(f.left,h.left),top:Math.min(f.top,h.top)-n,right:Math.max(f.left,h.left),bottom:Math.max(f.bottom,h.bottom)+n}),y=e.doc.scrollTop,C=e.doc.scrollLeft;if(null!=p.scrollTop&&(sr(e,p.scrollTop),Math.abs(e.doc.scrollTop-y)>1&&(s=!0)),null!=p.scrollLeft&&(wn(e,p.scrollLeft),Math.abs(e.doc.scrollLeft-C)>1&&(s=!0)),!s)break}return i}(t,ze(n,e.scrollToPos.from),ze(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var f=0;f<o.length;++f)o[f].lines.length||w(o[f],"hide");if(s)for(var h=0;h<s.length;++h)s[h].lines.length&&w(s[h],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&w(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function zt(e,t){if(e.curOp)return t();An(e);try{return t()}finally{En(e)}}function vt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);An(e);try{return t.apply(e,arguments)}finally{En(e)}}}function At(e){return function(){if(this.curOp)return e.apply(this,arguments);An(this);try{return e.apply(this,arguments)}finally{En(this)}}}function mt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);An(t);try{return e.apply(this,arguments)}finally{En(t)}}}function cr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,at(rs,e))}function rs(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=er(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var s=o.styles,f=o.text.length>e.options.maxHighlightLength?Mt(t.mode,n.state):null,h=ao(e,o,n,!0);f&&(n.state=f),o.styles=h.styles;var p=o.styleClasses,y=h.classes;y?o.styleClasses=y:p&&(o.styleClasses=null);for(var C=!s||s.length!=o.styles.length||p!=y&&(!p||!y||p.bgClass!=y.bgClass||p.textClass!=y.textClass),O=0;!C&&O<s.length;++O)C=s[O]!=o.styles[O];C&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&hi(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return cr(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&zt(e,function(){for(var o=0;o<i.length;o++)fn(e,i[o],"text")})}}var jr=function(e,t,r){var n=e.display;this.viewport=t,this.visible=qr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=yn(e),this.force=r,this.dims=Ei(e),this.events=[]};function zi(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return cn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==jo(e))return!1;na(e)&&(cn(e),t.dims=Ei(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(i,r.viewTo)),nn&&(o=vi(e.doc,o),s=ko(e.doc,s));var f=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;(function Gl(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=zr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=zr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Cn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(zr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Cn(e,r)))),n.viewTo=r})(e,o,s),r.viewOffset=rn(Ae(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var h=jo(e);if(!f&&0==h&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var p=function os(e){if(e.hasFocus())return null;var t=oe();if(!t||!W(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&W(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return h>4&&(r.lineDiv.style.display="none"),function ls(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,s=o.firstChild;function f(G){var $=G.nextSibling;return N&&P&&e.display.currentWheelTarget==G?G.style.display="none":G.parentNode.removeChild(G),$}for(var h=n.view,p=n.viewFrom,y=0;y<h.length;y++){var C=h[y];if(!C.hidden)if(C.node&&C.node.parentNode==o){for(;s!=C.node;)s=f(s);var M=i&&null!=t&&t<=p&&C.lineNumber;C.changes&&(ge(C.changes,"gutter")>-1&&(M=!1),Ao(e,C,p,r)),M&&(Ne(C.lineNumber),C.lineNumber.appendChild(document.createTextNode(ui(e.options,p)))),s=C.node.nextSibling}else{var O=Ol(e,C,p,r);o.insertBefore(O,s)}p+=C.size}for(;s;)s=f(s)}(e,r.updateLineNumbers,t.dims),h>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function as(e){if(e&&e.activeElt&&e.activeElt!=oe()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&W(document.body,e.anchorNode)&&W(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(p),Ne(r.cursorDiv),Ne(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,f&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,cr(e,400)),r.updateLineNumbers=null,!0}function ea(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=yn(e))n&&(t.visible=qr(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+yi(e.display)-ki(e),r.top)}),t.visible=qr(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!zi(e,t))break;Ur(e);var i=ur(e);ar(e),Rn(e,i),Ri(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ni(e,t){var r=new jr(e,t);if(zi(e,r)){Ur(e),ea(e,r);var n=ur(e);ar(e),Rn(e,n),Ri(e,n),r.finish()}}function Ii(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",gt(e,"gutterChanged",e)}function Ri(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Qt(e)+"px"}function ta(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Fi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",s=0;s<r.length;s++)if(!r[s].hidden){e.options.fixedGutter&&(r[s].gutter&&(r[s].gutter.style.left=o),r[s].gutterBackground&&(r[s].gutterBackground.style.left=o));var f=r[s].alignable;if(f)for(var h=0;h<f.length;h++)f[h].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function na(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=ui(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Q("div",[Q("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Ii(e.display),!0}return!1}function Hi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:s})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function ra(e){var t=e.gutters,r=e.gutterSpecs;Ne(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,s=i.style,f=t.appendChild(Q("div",null,"CodeMirror-gutter "+o));s&&(f.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=f,f.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Ii(e)}function hr(e){ra(e.display),Tt(e),ta(e)}function ss(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=Q("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Q("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Fe("div",null,"CodeMirror-code"),i.selectionDiv=Q("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Q("div",null,"CodeMirror-cursors"),i.measure=Q("div",null,"CodeMirror-measure"),i.lineMeasure=Q("div",null,"CodeMirror-measure"),i.lineSpace=Fe("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=Fe("div",[i.lineSpace],"CodeMirror-lines");i.mover=Q("div",[o],null,"position: relative"),i.sizer=Q("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Q("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=Q("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Q("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Q("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),F&&A<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!N&&!(U&&xe)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Hi(n.gutters,n.lineNumbers),ra(i),r.init(i)}jr.prototype.signal=function(e,t){I(e,t)&&this.events.push(arguments)},jr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)w.apply(null,this.events[e])};var Zr=0,an=null;function ia(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function us(e){var t=ia(e);return t.x*=an,t.y*=an,t}function oa(e,t){var r=ia(t),n=r.x,i=r.y,o=an;0===t.deltaMode&&(n=t.deltaX,i=t.deltaY,o=1);var s=e.display,f=s.scroller,p=f.scrollHeight>f.clientHeight;if(n&&f.scrollWidth>f.clientWidth||i&&p){if(i&&P&&N)e:for(var y=t.target,C=s.view;y!=f;y=y.parentNode)for(var O=0;O<C.length;O++)if(C[O].node==y){e.display.currentWheelTarget=y;break e}if(n&&!U&&!J&&null!=o)return i&&p&&sr(e,Math.max(0,f.scrollTop+i*o)),wn(e,Math.max(0,f.scrollLeft+n*o)),(!i||i&&p)&&ie(t),void(s.wheelStartX=null);if(i&&null!=o){var M=i*o,G=e.doc.scrollTop,$=G+s.wrapper.clientHeight;M<0?G=Math.max(0,G+M-50):$=Math.min(e.doc.height,$+M+50),Ni(e,{top:G,bottom:$})}Zr<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=f.scrollLeft,s.wheelStartY=f.scrollTop,s.wheelDX=n,s.wheelDY=i,setTimeout(function(){if(null!=s.wheelStartX){var ue=f.scrollLeft-s.wheelStartX,de=f.scrollTop-s.wheelStartY,ve=de&&s.wheelDY&&de/s.wheelDY||ue&&s.wheelDX&&ue/s.wheelDX;s.wheelStartX=s.wheelStartY=null,ve&&(an=(an*Zr+ve)/(Zr+1),++Zr)}},200)):(s.wheelDX+=n,s.wheelDY+=i))}}F?an=-.53:U?an=15:ne?an=-.7:Z&&(an=-1/3);var It=function(e,t){this.ranges=e,this.primIndex=t};It.prototype.primary=function(){return this.ranges[this.primIndex]},It.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!fi(r.anchor,n.anchor)||!fi(r.head,n.head))return!1}return!0},It.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Xe(ci(this.ranges[t].anchor),ci(this.ranges[t].head));return new It(e,this.primIndex)},It.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},It.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Pe(t,n.from())>=0&&Pe(e,n.to())<=0)return r}return-1};var Xe=function(e,t){this.anchor=e,this.head=t};function qt(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(O,M){return Pe(O.from(),M.from())}),r=ge(t,i);for(var o=1;o<t.length;o++){var s=t[o],f=t[o-1],h=Pe(f.to(),s.from());if(n&&!s.empty()?h>0:h>=0){var p=Mr(f.from(),s.from()),y=Fr(f.to(),s.to()),C=f.empty()?s.from()==s.head:f.from()==f.head;o<=r&&--r,t.splice(--o,2,new Xe(C?y:p,C?p:y))}}return new It(t,r)}function hn(e,t){return new It([new Xe(e,t||e)],0)}function dn(e){return e.text?re(e.from.line+e.text.length-1,_e(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function aa(e,t){if(Pe(e,t.from)<0)return e;if(Pe(e,t.to)<=0)return dn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=dn(t).ch-t.to.ch),re(r,n)}function Wi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Xe(aa(i.anchor,t),aa(i.head,t)))}return qt(e.cm,r,e.sel.primIndex)}function la(e,t,r){return e.line==t.line?re(r.line,e.ch-t.ch+r.ch):re(r.line+(e.line-t.line),e.ch)}function Ui(e){e.doc.mode=$t(e.options,e.doc.modeOption),dr(e)}function dr(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,cr(e,100),e.state.modeGen++,e.curOp&&Tt(e)}function sa(e,t){return 0==t.from.ch&&0==t.to.ch&&""==_e(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function qi(e,t,r,n){function i(ve){return r?r[ve]:null}function o(ve,pe,De){(function xl(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),vo(e),mo(e,r);var i=n?n(e):1;i!=e.height&&Xt(e,i)})(ve,pe,De,n),gt(ve,"change",ve,t)}function s(ve,pe){for(var De=[],Le=ve;Le<pe;++Le)De.push(new _n(p[Le],i(Le),n));return De}var f=t.from,h=t.to,p=t.text,y=Ae(e,f.line),C=Ae(e,h.line),O=_e(p),M=i(p.length-1),G=h.line-f.line;if(t.full)e.insert(0,s(0,p.length)),e.remove(p.length,e.size-p.length);else if(sa(e,t)){var $=s(0,p.length-1);o(C,C.text,M),G&&e.remove(f.line,G),$.length&&e.insert(f.line,$)}else if(y==C)if(1==p.length)o(y,y.text.slice(0,f.ch)+O+y.text.slice(h.ch),M);else{var ue=s(1,p.length-1);ue.push(new _n(O+y.text.slice(h.ch),M,n)),o(y,y.text.slice(0,f.ch)+p[0],i(0)),e.insert(f.line+1,ue)}else if(1==p.length)o(y,y.text.slice(0,f.ch)+p[0]+C.text.slice(h.ch),i(0)),e.remove(f.line+1,G);else{o(y,y.text.slice(0,f.ch)+p[0],i(0)),o(C,O+C.text.slice(h.ch),M);var de=s(1,p.length-1);G>1&&e.remove(f.line+1,G-1),e.insert(f.line+1,de)}gt(e,"change",e,t)}function pn(e,t,r){!function n(i,o,s){if(i.linked)for(var f=0;f<i.linked.length;++f){var h=i.linked[f];if(h.doc!=o){var p=s&&h.sharedHist;r&&!p||(t(h.doc,p),n(h.doc,i,p))}}}(e,null,!0)}function ua(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Mi(e),Ui(e),fa(e),e.options.direction=t.direction,e.options.lineWrapping||xi(e),e.options.mode=t.modeOption,Tt(e)}function fa(e){("rtl"==e.doc.direction?te:Ce)(e.display.lineDiv,"CodeMirror-rtl")}function Kr(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Gi(e,t){var r={from:ci(t.from),to:dn(t),text:xn(e,t.from,t.to)};return da(e,r,t.from.line,t.to.line+1),pn(e,function(n){return da(n,r,t.from.line,t.to.line+1)},!0),r}function ca(e){for(;e.length&&_e(e).ranges;)e.pop()}function ha(e,t,r,n){var i=e.history;i.undone.length=0;var s,f,o=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(s=function hs(e,t){return t?(ca(e.done),_e(e.done)):e.done.length&&!_e(e.done).ranges?_e(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),_e(e.done)):void 0}(i,i.lastOp==n)))f=_e(s.changes),0==Pe(t.from,t.to)&&0==Pe(t.from,f.to)?f.to=dn(t):s.changes.push(Gi(e,t));else{var h=_e(i.done);for((!h||!h.ranges)&&$r(e.sel,i.done),s={changes:[Gi(e,t)],generation:i.generation},i.done.push(s);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,f||w(e,"historyAdded")}function ps(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function ds(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,_e(i.done),t))?i.done[i.done.length-1]=t:$r(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ca(i.undone)}function $r(e,t){var r=_e(t);r&&r.ranges&&r.equals(e)||t.push(e)}function da(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(s){s.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=s.markedSpans),++o})}function gs(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function pa(e,t){var r=function vs(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(gs(r[i]));return n}(e,t),n=pi(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],s=n[i];if(o&&s)e:for(var f=0;f<s.length;++f){for(var h=s[f],p=0;p<o.length;++p)if(o[p].marker==h.marker)continue e;o.push(h)}else s&&(r[i]=s)}return r}function Hn(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?It.prototype.deepCopy.call(o):o);else{var s=o.changes,f=[];n.push({changes:f});for(var h=0;h<s.length;++h){var p=s[h],y=void 0;if(f.push({from:p.from,to:p.to,text:p.text}),t)for(var C in p)(y=C.match(/^spans_(\d+)$/))&&ge(t,Number(y[1]))>-1&&(_e(f)[C]=p[C],delete p[C])}}}return n}function ji(e,t,r,n){if(n){var i=e.anchor;if(r){var o=Pe(t,i)<0;o!=Pe(r,i)<0?(i=t,t=r):o!=Pe(t,r)<0&&(t=r)}return new Xe(i,t)}return new Xe(r||t,t)}function Xr(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Dt(e,new It([ji(e.sel.primary(),t,r,i)],0),n)}function ga(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=ji(e.sel.ranges[o],t[o],null,i);Dt(e,qt(e.cm,n,e.sel.primIndex),r)}function Zi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Dt(e,qt(e.cm,i,e.sel.primIndex),n)}function va(e,t,r,n){Dt(e,hn(t,r),n)}function ma(e,t,r){var n=e.history.done,i=_e(n);i&&i.ranges?(n[n.length-1]=t,Yr(e,t,r)):Dt(e,t,r)}function Dt(e,t,r){Yr(e,t,r),ps(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Yr(e,t,r){(I(e,"beforeSelectionChange")||e.cm&&I(e.cm,"beforeSelectionChange"))&&(t=function ms(e,t,r){var n={ranges:t.ranges,update:function(i){this.ranges=[];for(var o=0;o<i.length;o++)this.ranges[o]=new Xe(ze(e,i[o].anchor),ze(e,i[o].head))},origin:r&&r.origin};return w(e,"beforeSelectionChange",e,n),e.cm&&w(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?qt(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(Pe(t.primary().head,e.sel.primary().head)<0?-1:1);xa(e,ya(e,t,n,!0)),(!r||!1!==r.scroll)&&e.cm&&"nocursor"!=e.cm.getOption("readOnly")&&In(e.cm)}function xa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,L(e.cm)),gt(e,"cursorActivity",e))}function ba(e){xa(e,ya(e,e.sel,null,!1))}function ya(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],f=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],h=Qr(e,s.anchor,f&&f.anchor,r,n),p=Qr(e,s.head,f&&f.head,r,n);(i||h!=s.anchor||p!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Xe(h,p))}return i?qt(e.cm,i,t.primIndex):t}function Wn(e,t,r,n,i){var o=Ae(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var f=o.markedSpans[s],h=f.marker,p="selectLeft"in h?!h.selectLeft:h.inclusiveLeft,y="selectRight"in h?!h.selectRight:h.inclusiveRight;if((null==f.from||(p?f.from<=t.ch:f.from<t.ch))&&(null==f.to||(y?f.to>=t.ch:f.to>t.ch))){if(i&&(w(h,"beforeCursorEnter"),h.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!h.atomic)continue;if(r){var C=h.find(n<0?1:-1),O=void 0;if((n<0?y:p)&&(C=ka(e,C,-n,C&&C.line==t.line?o:null)),C&&C.line==t.line&&(O=Pe(C,r))&&(n<0?O<0:O>0))return Wn(e,C,t,n,i)}var M=h.find(n<0?-1:1);return(n<0?p:y)&&(M=ka(e,M,n,M.line==t.line?o:null)),M?Wn(e,M,t,n,i):null}}return t}function Qr(e,t,r,n,i){var o=n||1;return Wn(e,t,r,o,i)||!i&&Wn(e,t,r,o,!0)||Wn(e,t,r,-o,i)||!i&&Wn(e,t,r,-o,!0)||(e.cantEdit=!0,re(e.first,0))}function ka(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ze(e,re(t.line-1)):null:r>0&&t.ch==(n||Ae(e,t.line)).text.length?t.line<e.first+e.size-1?re(t.line+1,0):null:new re(t.line,t.ch+r)}function Da(e){e.setSelection(re(e.firstLine(),0),re(e.lastLine()),Ke)}function Ca(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,o,s,f){i&&(n.from=ze(e,i)),o&&(n.to=ze(e,o)),s&&(n.text=s),void 0!==f&&(n.origin=f)}),w(e,"beforeChange",e,n),e.cm&&w(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Un(e,t,r){if(e.cm){if(!e.cm.curOp)return vt(e.cm,Un)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(I(e,"beforeChange")||e.cm&&I(e.cm,"beforeChange"))||(t=Ca(e,t,!0))){var n=po&&!r&&function pl(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(M){if(M.markedSpans)for(var G=0;G<M.markedSpans.length;++G){var $=M.markedSpans[G].marker;$.readOnly&&(!n||-1==ge(n,$))&&(n||(n=[])).push($)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var s=n[o],f=s.find(0),h=0;h<i.length;++h){var p=i[h];if(!(Pe(p.to,f.from)<0||Pe(p.from,f.to)>0)){var y=[h,1],C=Pe(p.from,f.from),O=Pe(p.to,f.to);(C<0||!s.inclusiveLeft&&!C)&&y.push({from:p.from,to:f.from}),(O>0||!s.inclusiveRight&&!O)&&y.push({from:f.to,to:p.to}),i.splice.apply(i,y),h+=y.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)wa(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else wa(e,t)}}function wa(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Pe(t.from,t.to)){var r=Wi(e,t);ha(e,t,r,e.cm?e.cm.curOp.id:NaN),pr(e,t,r,pi(e,t));var n=[];pn(e,function(i,o){!o&&-1==ge(n,i.history)&&(Fa(i.history,t),n.push(i.history)),pr(i,t,null,pi(i,t))})}}function Jr(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var o,i=e.history,s=e.sel,f="undo"==t?i.done:i.undone,h="undo"==t?i.undone:i.done,p=0;p<f.length&&(o=f[p],!(r?o.ranges&&!o.equals(e.sel):!o.ranges));p++);if(p!=f.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=f.pop()).ranges){if(n)return void f.push(o);break}if($r(o,h),r&&!o.equals(e.sel))return void Dt(e,o,{clearRedo:!1});s=o}var y=[];$r(s,h),h.push({changes:y,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var C=I(e,"beforeChange")||e.cm&&I(e.cm,"beforeChange"),O=function($){var ue=o.changes[$];if(ue.origin=t,C&&!Ca(e,ue,!1))return f.length=0,{};y.push(Gi(e,ue));var de=$?Wi(e,ue):_e(f);pr(e,ue,de,pa(e,ue)),!$&&e.cm&&e.cm.scrollIntoView({from:ue.from,to:dn(ue)});var ve=[];pn(e,function(pe,De){!De&&-1==ge(ve,pe.history)&&(Fa(pe.history,ue),ve.push(pe.history)),pr(pe,ue,null,pa(pe,ue))})},M=o.changes.length-1;M>=0;--M){var G=O(M);if(G)return G.v}}}}function Sa(e,t){if(0!=t&&(e.first+=t,e.sel=new It(wt(e.sel.ranges,function(i){return new Xe(re(i.anchor.line+t,i.anchor.ch),re(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){Tt(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)fn(e.cm,n,"gutter")}}function pr(e,t,r,n){if(e.cm&&!e.cm.curOp)return vt(e.cm,pr)(e,t,r,n);if(t.to.line<e.first)Sa(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Sa(e,i),t={from:re(e.first,0),to:re(t.to.line+i,t.to.ch),text:[_e(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:re(o,Ae(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=xn(e,t.from,t.to),r||(r=Wi(e,t)),e.cm?function xs(e,t,r){var n=e.doc,i=e.display,o=t.from,s=t.to,f=!1,h=o.line;e.options.lineWrapping||(h=Qe(Wt(Ae(n,o.line))),n.iter(h,s.line+1,function(M){if(M==i.maxLine)return f=!0,!0})),n.sel.contains(t.from,t.to)>-1&&L(e),qi(n,t,r,Go(e)),e.options.lineWrapping||(n.iter(h,o.line+t.text.length,function(M){var G=Pr(M);G>i.maxLineLength&&(i.maxLine=M,i.maxLineLength=G,i.maxLineChanged=!0,f=!1)}),f&&(e.curOp.updateMaxLine=!0)),function ll(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Ae(e,n).stateAfter;if(i&&(!(i instanceof Tr)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,o.line),cr(e,400);var p=t.text.length-(s.line-o.line)-1;t.full?Tt(e):o.line!=s.line||1!=t.text.length||sa(e.doc,t)?Tt(e,o.line,s.line+1,p):fn(e,o.line,"text");var y=I(e,"changes"),C=I(e,"change");if(C||y){var O={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};C&&gt(e,"change",e,O),y&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(O)}e.display.selForContextMenu=null}(e.cm,t,n):qi(e,t,n),Yr(e,r,Ke),e.cantEdit&&Qr(e,re(e.firstLine(),0))&&(e.cantEdit=!1)}}function qn(e,t,r,n,i){var o;n||(n=r),Pe(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Un(e,{from:r,to:n,text:t,origin:i})}function Aa(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ea(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var f=0;f<o.ranges.length;f++)Aa(o.ranges[f].anchor,t,r,n),Aa(o.ranges[f].head,t,r,n)}else{for(var h=0;h<o.changes.length;++h){var p=o.changes[h];if(r<p.from.line)p.from=re(p.from.line+n,p.from.ch),p.to=re(p.to.line+n,p.to.ch);else if(t<=p.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function Fa(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ea(e.done,r,n,i),Ea(e.undone,r,n,i)}function gr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Ae(e,io(e,t)):i=Qe(t),null==i?null:(n(o,i)&&e.cm&&fn(e.cm,i,r),o)}function vr(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function mr(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}Xe.prototype.from=function(){return Mr(this.anchor,this.head)},Xe.prototype.to=function(){return Fr(this.anchor,this.head)},Xe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,bl(i),gt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},mr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof vr))){var f=[];this.collapse(f),this.children=[new vr(f)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,f=s;f<i.lines.length;){var h=new vr(i.lines.slice(f,f+=25));i.height-=h.height,this.children.splice(++n,0,h),h.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var r=new mr(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=r.size,e.height-=r.height;var i=ge(e.parent.children,e);e.parent.children.splice(i+1,0,r)}else{var n=new mr(e.children);n.parent=e,e.children=[n,r],e=n}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var xr=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function Ma(e,t,r){rn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Pi(e,r)}xr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Qe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=ir(this);Xt(r,Math.max(0,r.height-o)),e&&(zt(e,function(){Ma(e,r,-o),fn(e,n,"widget")}),gt(e,"lineWidgetCleared",e,this,n))}},xr.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=ir(this)-t;!i||(un(this.doc,n)||Xt(n,n.height+i),r&&zt(r,function(){r.curOp.forceUpdate=!0,Ma(r,n,i),gt(r,"lineWidgetChanged",r,e,Qe(n))}))},ee(xr);var Ta=0,gn=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ta};function Gn(e,t,r,n,i){if(n&&n.shared)return function ys(e,t,r,n,i){(n=ke(n)).shared=!1;var o=[Gn(e,t,r,n,i)],s=o[0],f=n.widgetNode;return pn(e,function(h){f&&(n.widgetNode=f.cloneNode(!0)),o.push(Gn(h,ze(h,t),ze(h,r),n,i));for(var p=0;p<h.linked.length;++p)if(h.linked[p].isParent)return;s=_e(o)}),new br(o,s)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return vt(e.cm,Gn)(e,t,r,n,i);var o=new gn(e,i),s=Pe(t,r);if(n&&ke(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Fe("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yo(e,t.line,t,r,o)||t.line!=r.line&&yo(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function ul(){nn=!0}()}o.addToHistory&&ha(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var p,f=t.line,h=e.cm;if(e.iter(f,r.line+1,function(C){h&&o.collapsed&&!h.options.lineWrapping&&Wt(C)==h.display.maxLine&&(p=!0),o.collapsed&&f!=t.line&&Xt(C,0),function cl(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}(C,new Lr(o,f==t.line?t.ch:null,f==r.line?r.ch:null),e.cm&&e.cm.curOp),++f}),o.collapsed&&e.iter(t.line,r.line+1,function(C){un(e,C)&&Xt(C,0)}),o.clearOnEnter&&x(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(function sl(){po=!0}(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Ta,o.atomic=!0),h){if(p&&(h.curOp.updateMaxLine=!0),o.collapsed)Tt(h,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var y=t.line;y<=r.line;y++)fn(h,y,"text");o.atomic&&ba(h.doc),gt(h,"markerAdded",h,o)}return o}gn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&An(e),I(this,"clear")){var r=this.find();r&&gt(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],f=tr(s.markedSpans,this);e&&!this.collapsed?fn(e,Qe(s),"text"):e&&(null!=f.to&&(i=Qe(s)),null!=f.from&&(n=Qe(s))),s.markedSpans=fl(s.markedSpans,f),null==f.from&&this.collapsed&&!un(this.doc,s)&&e&&Xt(s,Pn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var h=0;h<this.lines.length;++h){var p=Wt(this.lines[h]),y=Pr(p);y>e.display.maxLineLength&&(e.display.maxLine=p,e.display.maxLineLength=y,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Tt(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ba(e.doc)),e&&gt(e,"markerCleared",e,this,n,i),t&&En(e),this.parent&&this.parent.clear()}},gn.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],s=tr(o.markedSpans,this);if(null!=s.from&&(r=re(t?o:Qe(o),s.from),-1==e))return r;if(null!=s.to&&(n=re(t?o:Qe(o),s.to),1==e))return n}return r&&{from:r,to:n}},gn.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;!t||!n||zt(n,function(){var i=t.line,o=Qe(t.line),s=Di(n,o);if(s&&(zo(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!un(r.doc,i)&&null!=r.height){var f=r.height;r.height=null;var h=ir(r)-f;h&&Xt(i,i.height+h)}gt(n,"markerChanged",n,e)})},gn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||-1==ge(t.maybeHiddenMarkers,this))&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},gn.prototype.detachLine=function(e){if(this.lines.splice(ge(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ee(gn);var br=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function La(e){return e.findMarks(re(e.first,0),e.clipPos(re(e.lastLine())),function(t){return t.parent})}function Ds(e){for(var t=function(n){var i=e[n],o=[i.primary.doc];pn(i.primary.doc,function(h){return o.push(h)});for(var s=0;s<i.markers.length;s++){var f=i.markers[s];-1==ge(o,f.doc)&&(f.parent=null,i.markers.splice(s--,1))}},r=0;r<e.length;r++)t(r)}br.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();gt(this,"clear")}},br.prototype.find=function(e,t){return this.primary.find(e,t)},ee(br);var Cs=0,Lt=function(e,t,r,n,i){if(!(this instanceof Lt))return new Lt(e,t,r,n,i);null==r&&(r=0),mr.call(this,[new vr([new _n("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=re(r,0);this.sel=hn(o),this.history=new Kr(null),this.id=++Cs,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),qi(this,{from:o,to:o,text:e}),Dt(this,hn(o),Ke)};Lt.prototype=kt(mr.prototype,{constructor:Lt,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=si(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:mt(function(e){var t=re(this.first,0),r=this.first+this.size-1;Un(this,{from:t,to:re(r,Ae(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lr(this.cm,0,0),Dt(this,hn(t),Ke)}),replaceRange:function(e,t,r,n){qn(this,e,t=ze(this,t),r=r?ze(this,r):t,n)},getRange:function(e,t,r){var n=xn(this,ze(this,e),ze(this,t));return!1===r?n:n.join(""===r?"":r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Vn(this,e))return Ae(this,e)},getLineNumber:function(e){return Qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ae(this,e)),Wt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ze(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mt(function(e,t,r){va(this,ze(this,"number"==typeof e?re(e,t||0):e),null,r)}),setSelection:mt(function(e,t,r){va(this,ze(this,e),ze(this,t||e),r)}),extendSelection:mt(function(e,t,r){Xr(this,ze(this,e),t&&ze(this,t),r)}),extendSelections:mt(function(e,t){ga(this,oo(this,e),t)}),extendSelectionsBy:mt(function(e,t){ga(this,oo(this,wt(this.sel.ranges,e)),t)}),setSelections:mt(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Xe(ze(this,e[i].anchor),ze(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Dt(this,qt(this.cm,n,t),r)}}),addSelection:mt(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Xe(ze(this,e),ze(this,t||e))),Dt(this,qt(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var r,t=this.sel.ranges,n=0;n<t.length;n++){var i=xn(this,t[n].from(),t[n].to());r=r?r.concat(i):i}return!1===e?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=xn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:mt(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:r}}for(var f=t&&"end"!=t&&function fs(e,t,r){for(var n=[],i=re(e.first,0),o=i,s=0;s<t.length;s++){var f=t[s],h=la(f.from,i,o),p=la(dn(f),i,o);if(i=f.to,o=p,"around"==r){var y=e.sel.ranges[s],C=Pe(y.head,y.anchor)<0;n[s]=new Xe(C?p:h,C?h:p)}else n[s]=new Xe(h,h)}return new It(n,e.sel.primIndex)}(this,n,t),h=n.length-1;h>=0;h--)Un(this,n[h]);f?ma(this,f):this.cm&&In(this.cm)}),undo:mt(function(){Jr(this,"undo")}),redo:mt(function(){Jr(this,"redo")}),undoSelection:mt(function(){Jr(this,"undo",!0)}),redoSelection:mt(function(){Jr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Kr(this.history),pn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Hn(this.history.done),undone:Hn(this.history.undone)}},setHistory:function(e){var t=this.history=new Kr(this.history);t.done=Hn(e.done.slice(0),null,!0),t.undone=Hn(e.undone.slice(0),null,!0)},setGutterMarker:mt(function(e,t,r){return gr(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&_(i)&&(n.gutterMarkers=null),!0})}),clearGutter:mt(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&gr(t,r,"gutter",function(){return r.gutterMarkers[e]=null,_(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(Vn(this,e)&&(t=e,e=Ae(this,e))))return null}else if(null==(t=Qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:mt(function(e,t,r){return gr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[i]){if(X(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:mt(function(e,t,r){return gr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=n[i];if(!o)return!1;if(null==r)n[i]=null;else{var s=o.match(X(r));if(!s)return!1;var f=s.index+s[0].length;n[i]=o.slice(0,s.index)+(s.index&&f!=o.length?" ":"")+o.slice(f)||null}return!0})}),addLineWidget:mt(function(e,t,r){return function bs(e,t,r,n){var i=new xr(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),gr(e,t,"widget",function(s){var f=s.widgets||(s.widgets=[]);if(null==i.insertAt?f.push(i):f.splice(Math.min(f.length,Math.max(0,i.insertAt)),0,i),i.line=s,o&&!un(e,s)){var h=rn(s)<e.scrollTop;Xt(s,s.height+ir(i)),h&&Pi(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&gt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Qe(t)),i}(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Gn(this,ze(this,e),ze(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Gn(this,e=ze(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ae(this,(e=ze(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ze(this,e),t=ze(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var f=0;f<s.length;f++){var h=s[f];!(null!=h.to&&i==e.line&&e.ch>=h.to||null==h.from&&i!=e.line||null!=h.from&&i==t.line&&h.from>=t.ch)&&(!r||r(h.marker))&&n.push(h.marker.parent||h.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),ze(this,re(r,t))},indexFromPos:function(e){var t=(e=ze(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Lt(si(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Lt(si(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function ks(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(Pe(o,s)){var f=Gn(e,o,s,n.primary,n.primary.type);n.markers.push(f),f.parent=n}}}(n,La(this)),n},unlinkDoc:function(e){if(e instanceof et&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ds(La(this));break}if(e.history==this.history){var n=[e.id];pn(e,function(i){return n.push(i.id)},!0),e.history=new Kr(null),e.history.done=Hn(this.history.done,n),e.history.undone=Hn(this.history.undone,n)}},iterLinkedDocs:function(e){pn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):en(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mt(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&function cs(e){zt(e,function(){fa(e),Tt(e)})}(this.cm))})}),Lt.prototype.eachLine=Lt.prototype.iter;var _a=0;function ws(e){var t=this;if(Ba(t),!T(t,e)&&!on(t.display,e)){ie(e),F&&(_a=+new Date);var r=Dn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,f=function(){++s==i&&vt(t,function(){var M={from:r=ze(t.doc,r),to:r,text:t.doc.splitLines(o.filter(function(G){return null!=G}).join(t.doc.lineSeparator())),origin:"paste"};Un(t.doc,M),ma(t.doc,hn(ze(t.doc,r),ze(t.doc,dn(M))))})()},h=function(M,G){if(t.options.allowDropFileTypes&&-1==ge(t.options.allowDropFileTypes,M.type))f();else{var $=new FileReader;$.onerror=function(){return f()},$.onload=function(){var ue=$.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ue)||(o[G]=ue),f()},$.readAsText(M)}},p=0;p<n.length;p++)h(n[p],p);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var y=e.dataTransfer.getData("Text");if(y){var C;if(t.state.draggingText&&!t.state.draggingText.copy&&(C=t.listSelections()),Yr(t.doc,hn(r,r)),C)for(var O=0;O<C.length;++O)qn(t.doc,"",C[O].anchor,C[O].head,"drag");t.replaceSelection(y,"around","paste"),t.display.input.focus()}}catch(M){}}}}function Ba(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oa(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var o=0;o<r.length;o++)e(r[o])})}}var Pa=!1;function Es(){Pa||(function Fs(){var e;x(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Oa(Ms)},100))}),x(window,"blur",function(){return Oa(Nn)})}(),Pa=!0)}function Ms(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var vn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},yr=0;yr<10;yr++)vn[yr+48]=vn[yr+96]=String(yr);for(var Vr=65;Vr<=90;Vr++)vn[Vr]=String.fromCharCode(Vr);for(var kr=1;kr<=12;kr++)vn[kr+111]=vn[kr+63235]="F"+kr;var ln={};function Ts(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,s=0;s<t.length-1;s++){var f=t[s];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))n=!0;else{if(!/^s(hift)?$/i.test(f))throw new Error("Unrecognized modifier name: "+f);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ls(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=wt(r.split(" "),Ts),o=0;o<i.length;o++){var s=void 0,f=void 0;o==i.length-1?(f=i.join(" "),s=n):(f=i.slice(0,o+1).join(" "),s="...");var h=t[f];if(h){if(h!=s)throw new Error("Inconsistent bindings for "+f)}else t[f]=s}delete e[r]}for(var p in t)e[p]=t[p];return e}function jn(e,t,r,n){var i=(t=ei(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return jn(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var s=jn(e,t.fallthrough[o],r,n);if(s)return s}}}function za(e){var t="string"==typeof e?e:vn[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Na(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(ce?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(ce?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ia(e,t){if(J&&34==e.keyCode&&e.char)return!1;var r=vn[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Na(r,e,t))}function ei(e){return"string"==typeof e?ln[e]:e}function Zn(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Pe(o.from,_e(n).to)<=0;){var s=n.pop();if(Pe(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}zt(e,function(){for(var f=n.length-1;f>=0;f--)qn(e.doc,"",n[f].from,n[f].to,"+delete");In(e)})}function Ki(e,t,r){var n=l(e.text,t+r,r);return n<0||n>e.text.length?null:n}function $i(e,t,r){var n=Ki(e,t.ch,r);return null==n?null:new re(t.line,n,r<0?"after":"before")}function Xi(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=c(r,t.doc.direction);if(o){var p,s=i<0?_e(o):o[0],h=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var y=On(t,r),C=Jt(t,y,p=i<0?r.text.length-1:0).top;p=u(function(O){return Jt(t,y,O).top==C},i<0==(1==s.level)?s.from:s.to-1,p),"before"==h&&(p=Ki(r,p,1))}else p=i<0?s.to:s.from;return new re(n,p,h)}}return new re(n,i<0?r.text.length:0,i<0?"before":"after")}ln.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ln.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ln.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ln.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ln.default=P?ln.macDefault:ln.pcDefault;var Dr={selectAll:Da,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ke)},killLine:function(e){return Zn(e,function(t){if(t.empty()){var r=Ae(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:re(t.head.line+1,0)}:{from:t.head,to:re(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Zn(e,function(t){return{from:re(t.from().line,0),to:ze(e.doc,re(t.to().line+1,0))}})},delLineLeft:function(e){return Zn(e,function(t){return{from:re(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Zn(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Zn(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(re(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(re(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ra(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Ha(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function Bs(e,t){var r=Ae(e.doc,t),n=function vl(e){for(var t;t=Or(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=Qe(n)),Xi(!0,e,r,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},$e)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},$e)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Ha(e,t.head):n},$e)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),s=m(e.getLine(o.line),o.ch,n);t.push(Ze(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return zt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Ae(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new re(i.line,i.ch-1)),i.ch>0)i=new re(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),re(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Ae(e.doc,i.line-1).text;s&&(i=new re(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),re(i.line-1,s.length-1),i,"+transpose"))}r.push(new Xe(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return zt(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);In(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ra(e,t){var r=Ae(e.doc,t),n=Wt(r);return n!=r&&(t=Qe(n)),Xi(!0,e,n,t,1)}function Ha(e,t){var r=Ra(e,t.line),n=Ae(e.doc,r.line),i=c(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/));return re(r.line,t.line==r.line&&t.ch<=o&&t.ch?0:o,r.sticky)}return r}function ti(e,t,r){if("string"==typeof t&&!(t=Dr[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Te}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var Ps=new g;function Cr(e,t,r,n){var i=e.state.keySeq;if(i){if(za(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Ps.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Wa(e,i+" "+t,r,n))return!0}return Wa(e,t,r,n)}function Wa(e,t,r,n){var i=function Os(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=jn(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&jn(t,e.options.extraKeys,r,e)||jn(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&gt(e,"keyHandled",e,t,r),("handled"==i||"multi"==i)&&(ie(r),Li(e)),!!i}function Ua(e,t){var r=Ia(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Cr(e,"Shift-"+r,t,function(n){return ti(e,n,!0)})||Cr(e,r,t,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return ti(e,n)}):Cr(e,r,t,function(n){return ti(e,n)}))}var Yi=null;function qa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=oe(),T(t,e)))){F&&A<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Ua(t,e);J&&(Yi=n?r:null,!n&&88==r&&!Tn&&(P?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),U&&!P&&!n&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==r&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&function Ns(e){var t=e.display.lineDiv;function r(n){(18==n.keyCode||!n.altKey)&&(Ce(t,"CodeMirror-crosshair"),S(document,"keyup",r),S(document,"mouseover",r))}te(t,"CodeMirror-crosshair"),x(document,"keyup",r),x(document,"mouseover",r)}(t)}}function Ga(e){16==e.keyCode&&(this.doc.sel.shift=!1),T(this,e)}function ja(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||on(t.display,e)||T(t,e)||e.ctrlKey&&!e.altKey||P&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(J&&r==Yi)return Yi=null,void ie(e);if(!J||e.which&&!(e.which<10)||!Ua(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function zs(e,t,r){return Cr(e,"'"+r+"'",t,function(n){return ti(e,n,!0)})}(t,e,i)||t.display.input.onKeyPress(e))}}}var wr,Sr,Qi=function(e,t,r){this.time=e,this.pos=t,this.button=r};function Za(e){var t=this,r=t.display;if(!(T(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,on(r,e))return void(N||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!Ji(t,e)){var n=Dn(t,e),i=Re(e),o=n?function Rs(e,t){var r=+new Date;return Sr&&Sr.compare(r,e,t)?(wr=Sr=null,"triple"):wr&&wr.compare(r,e,t)?(Sr=new Qi(r,e,t),wr=null,"double"):(wr=new Qi(r,e,t),Sr=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),(!n||!function Hs(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),Cr(e,Na(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(s){if("string"==typeof s&&(s=Dr[s]),!s)return!1;var f=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),f=s(e,r)!=Te}finally{e.state.suppressEdits=!1}return f})}(t,i,n,o,e))&&(1==i?n?function Us(e,t,r,n){F?setTimeout(at(Ko,e),0):e.curOp.focus=oe();var s,i=function Ws(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};return null==i.unit&&(i.unit=(j?r.shiftKey&&r.metaKey:r.altKey)?"rectangle":"single"==t?"char":"double"==t?"word":"line"),(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=P?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(P?r.altKey:r.ctrlKey)),i}(e,r,n),o=e.doc.sel;e.options.dragDrop&&qe&&!e.isReadOnly()&&"single"==r&&(s=o.contains(t))>-1&&(Pe((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(Pe(s.to(),t)>0||t.xRel<0)?function qs(e,t,r,n){var i=e.display,o=!1,s=vt(e,function(p){N&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:_i(e)),S(i.wrapper.ownerDocument,"mouseup",s),S(i.wrapper.ownerDocument,"mousemove",f),S(i.scroller,"dragstart",h),S(i.scroller,"drop",s),o||(ie(p),n.addNew||Xr(e.doc,r,null,null,n.extend),N&&!Z||F&&9==A?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),f=function(p){o=o||Math.abs(t.clientX-p.clientX)+Math.abs(t.clientY-p.clientY)>=10},h=function(){return o=!0};N&&(i.scroller.draggable=!0),e.state.draggingText=s,s.copy=!n.moveOnDrag,x(i.wrapper.ownerDocument,"mouseup",s),x(i.wrapper.ownerDocument,"mousemove",f),x(i.scroller,"dragstart",h),x(i.scroller,"drop",s),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}(e,n,t,i):function Gs(e,t,r,n){F&&_i(e);var i=e.display,o=e.doc;ie(t);var s,f,h=o.sel,p=h.ranges;if(n.addNew&&!n.extend?(f=o.sel.contains(r),s=f>-1?p[f]:new Xe(r,r)):(s=o.sel.primary(),f=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new Xe(r,r)),r=Dn(e,t,!0,!0),f=-1;else{var y=Ka(e,r,n.unit);s=n.extend?ji(s,y.anchor,y.head,n.extend):y}n.addNew?-1==f?(f=p.length,Dt(o,qt(e,p.concat([s]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"char"==n.unit&&!n.extend?(Dt(o,qt(e,p.slice(0,f).concat(p.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=o.sel):Zi(o,f,s,st):(f=0,Dt(o,new It([s],0),st),h=o.sel);var C=r;function O(pe){if(0!=Pe(C,pe))if(C=pe,"rectangle"==n.unit){for(var De=[],Le=e.options.tabSize,Me=m(Ae(o,r.line).text,r.ch,Le),Ge=m(Ae(o,pe.line).text,pe.ch,Le),Ve=Math.min(Me,Ge),xt=Math.max(Me,Ge),tt=Math.min(r.line,pe.line),Nt=Math.min(e.lastLine(),Math.max(r.line,pe.line));tt<=Nt;tt++){var _t=Ae(o,tt).text,ct=be(_t,Ve,Le);Ve==xt?De.push(new Xe(re(tt,ct),re(tt,ct))):_t.length>ct&&De.push(new Xe(re(tt,ct),re(tt,be(_t,xt,Le))))}De.length||De.push(new Xe(r,r)),Dt(o,qt(e,h.ranges.slice(0,f).concat(De),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(pe)}else{var ht,Bt=s,yt=Ka(e,pe,n.unit),dt=Bt.anchor;Pe(yt.anchor,dt)>0?(ht=yt.head,dt=Mr(Bt.from(),yt.anchor)):(ht=yt.anchor,dt=Fr(Bt.to(),yt.head));var it=h.ranges.slice(0);it[f]=function js(e,t){var r=t.anchor,n=t.head,i=Ae(e.doc,r.line);if(0==Pe(r,n)&&r.sticky==n.sticky)return t;var o=c(i);if(!o)return t;var s=k(o,r.ch,r.sticky),f=o[s];if(f.from!=r.ch&&f.to!=r.ch)return t;var p,h=s+(f.from==r.ch==(1!=f.level)?0:1);if(0==h||h==o.length)return t;if(n.line!=r.line)p=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var y=k(o,n.ch,n.sticky),C=y-s||(n.ch-r.ch)*(1==f.level?-1:1);p=y==h-1||y==h?C<0:C>0}var O=o[h+(p?-1:0)],M=p==(1==O.level),G=M?O.from:O.to,$=M?"after":"before";return r.ch==G&&r.sticky==$?t:new Xe(new re(r.line,G,$),n)}(e,new Xe(ze(o,dt),ht)),Dt(o,qt(e,it,f),st)}}var M=i.wrapper.getBoundingClientRect(),G=0;function $(pe){var De=++G,Le=Dn(e,pe,!0,"rectangle"==n.unit);if(Le)if(0!=Pe(Le,C)){e.curOp.focus=oe(),O(Le);var Me=qr(i,o);(Le.line>=Me.to||Le.line<Me.from)&&setTimeout(vt(e,function(){G==De&&$(pe)}),150)}else{var Ge=pe.clientY<M.top?-20:pe.clientY>M.bottom?20:0;Ge&&setTimeout(vt(e,function(){G==De&&(i.scroller.scrollTop+=Ge,$(pe))}),50)}}function ue(pe){e.state.selectingText=!1,G=1/0,pe&&(ie(pe),i.input.focus()),S(i.wrapper.ownerDocument,"mousemove",de),S(i.wrapper.ownerDocument,"mouseup",ve),o.history.lastSelOrigin=null}var de=vt(e,function(pe){0!==pe.buttons&&Re(pe)?$(pe):ue(pe)}),ve=vt(e,ue);e.state.selectingText=ve,x(i.wrapper.ownerDocument,"mousemove",de),x(i.wrapper.ownerDocument,"mouseup",ve)}(e,n,t,i)}(t,n,o,e):Ie(e)==r.scroller&&ie(e):2==i?(n&&Xr(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(le?t.display.input.onContextMenu(e):_i(t)))}}}function Ka(e,t,r){if("char"==r)return new Xe(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Xe(re(t.line,0),ze(e.doc,re(t.line+1,0)));var n=r(e,t);return new Xe(n.from,n.to)}function $a(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(O){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ie(t);var s=e.display,f=s.lineDiv.getBoundingClientRect();if(o>f.bottom||!I(e,r))return Be(t);o-=f.top-s.viewOffset;for(var h=0;h<e.display.gutterSpecs.length;++h){var p=s.gutters.childNodes[h];if(p&&p.getBoundingClientRect().right>=i)return w(e,r,e,bn(e.doc,o),e.display.gutterSpecs[h].className,t),Be(t)}}function Ji(e,t){return $a(e,t,"gutterClick",!0)}function Xa(e,t){on(e.display,t)||function Zs(e,t){return!!I(e,"gutterContextMenu")&&$a(e,t,"gutterContextMenu",!1)}(e,t)||T(e,t,"contextmenu")||le||e.display.input.onContextMenu(t)}function Ya(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),or(e)}Qi.prototype.compare=function(e,t,r){return this.time+400>e&&0==Pe(t,this.pos)&&r==this.button};var Kn={toString:function(){return"CodeMirror.Init"}},Qa={},ni={};function $s(e,t,r){if(!t!=!(r&&r!=Kn)){var i=e.display.dragFunctions,o=t?x:S;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Xs(e){e.options.lineWrapping?(te(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ce(e.display.wrapper,"CodeMirror-wrap"),xi(e)),Mi(e),Tt(e),or(e),setTimeout(function(){return Rn(e)},100)}function et(e,t){var r=this;if(!(this instanceof et))return new et(e,t);this.options=t=t?ke(t):{},ke(Qa,t,!1);var n=t.value;"string"==typeof n?n=new Lt(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new et.inputStyles[t.inputStyle](this),o=this.display=new ss(e,n,i,t);for(var s in o.wrapper.CodeMirror=this,Ya(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new g,keySeq:null,specialChars:null},t.autofocus&&!xe&&o.input.focus(),F&&A<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function Ys(e){var t=e.display;x(t.scroller,"mousedown",vt(e,Za)),x(t.scroller,"dblclick",F&&A<11?vt(e,function(h){if(!T(e,h)){var p=Dn(e,h);if(p&&!Ji(e,h)&&!on(e.display,h)){ie(h);var y=e.findWordAt(p);Xr(e.doc,y.anchor,y.head)}}}):function(h){return T(e,h)||ie(h)}),x(t.scroller,"contextmenu",function(h){return Xa(e,h)}),x(t.input.getField(),"contextmenu",function(h){t.scroller.contains(h.target)||Xa(e,h)});var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(h){if(1!=h.touches.length)return!1;var p=h.touches[0];return p.radiusX<=1&&p.radiusY<=1}function s(h,p){if(null==p.left)return!0;var y=p.left-h.left,C=p.top-h.top;return y*y+C*C>400}x(t.scroller,"touchstart",function(h){if(!T(e,h)&&!o(h)&&!Ji(e,h)){t.input.ensurePolled(),clearTimeout(r);var p=+new Date;t.activeTouch={start:p,moved:!1,prev:p-n.end<=300?n:null},1==h.touches.length&&(t.activeTouch.left=h.touches[0].pageX,t.activeTouch.top=h.touches[0].pageY)}}),x(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),x(t.scroller,"touchend",function(h){var p=t.activeTouch;if(p&&!on(t,h)&&null!=p.left&&!p.moved&&new Date-p.start<300){var C,y=e.coordsChar(t.activeTouch,"page");C=!p.prev||s(p,p.prev)?new Xe(y,y):!p.prev.prev||s(p,p.prev.prev)?e.findWordAt(y):new Xe(re(y.line,0),ze(e.doc,re(y.line+1,0))),e.setSelection(C.anchor,C.head),e.focus(),ie(h)}i()}),x(t.scroller,"touchcancel",i),x(t.scroller,"scroll",function(){t.scroller.clientHeight&&(sr(e,t.scroller.scrollTop),wn(e,t.scroller.scrollLeft,!0),w(e,"scroll",e))}),x(t.scroller,"mousewheel",function(h){return oa(e,h)}),x(t.scroller,"DOMMouseScroll",function(h){return oa(e,h)}),x(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(h){T(e,h)||ye(h)},over:function(h){T(e,h)||(function As(e,t){var r=Dn(e,t);if(r){var n=document.createDocumentFragment();Ti(e,r,n),e.display.dragCursor||(e.display.dragCursor=Q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),se(e.display.dragCursor,n)}}(e,h),ye(h))},start:function(h){return function Ss(e,t){if(F&&(!e.state.draggingText||+new Date-_a<100))ye(t);else if(!T(e,t)&&!on(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Z)){var r=Q("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",J&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),J&&r.parentNode.removeChild(r)}}(e,h)},drop:vt(e,ws),leave:function(h){T(e,h)||Ba(e)}};var f=t.input.getField();x(f,"keyup",function(h){return Ga.call(e,h)}),x(f,"keydown",vt(e,qa)),x(f,"keypress",vt(e,ja)),x(f,"focus",function(h){return Bi(e,h)}),x(f,"blur",function(h){return Nn(e,h)})}(this),Es(),An(this),this.curOp.forceUpdate=!0,ua(this,n),t.autofocus&&!xe||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Bi(r)},20):Nn(this),ni)ni.hasOwnProperty(s)&&ni[s](this,t[s],Kn);na(this),t.finishInit&&t.finishInit(this);for(var f=0;f<Vi.length;++f)Vi[f](this);En(this),N&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}et.defaults=Qa,et.optionHandlers=ni;var Vi=[];function Ar(e,t,r,n){var o,i=e.doc;null==r&&(r="add"),"smart"==r&&(i.mode.indent?o=er(e,t).state:r="prev");var s=e.options.tabSize,f=Ae(i,t),h=m(f.text,null,s);f.stateAfter&&(f.stateAfter=null);var y,p=f.text.match(/^\s*/)[0];if(n||/\S/.test(f.text)){if("smart"==r&&((y=i.mode.indent(o,f.text.slice(p.length),f.text))==Te||y>150)){if(!n)return;r="prev"}}else y=0,r="not";"prev"==r?y=t>i.first?m(Ae(i,t-1).text,null,s):0:"add"==r?y=h+e.options.indentUnit:"subtract"==r?y=h-e.options.indentUnit:"number"==typeof r&&(y=h+r),y=Math.max(0,y);var C="",O=0;if(e.options.indentWithTabs)for(var M=Math.floor(y/s);M;--M)O+=s,C+="\t";if(O<y&&(C+=Ze(y-O)),C!=p)return qn(i,C,re(t,0),re(t,p.length),"+input"),f.stateAfter=null,!0;for(var G=0;G<i.sel.ranges.length;G++){var $=i.sel.ranges[G];if($.head.line==t&&$.head.ch<p.length){var ue=re(t,p.length);Zi(i,G,new Xe(ue,ue));break}}}et.defineInitHook=function(e){return Vi.push(e)};var Gt=null;function ri(e){Gt=e}function eo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s=+new Date-200,f="paste"==i||e.state.pasteIncoming>s,h=en(t),p=null;if(f&&n.ranges.length>1)if(Gt&&Gt.text.join("\n")==t){if(n.ranges.length%Gt.text.length==0){p=[];for(var y=0;y<Gt.text.length;y++)p.push(o.splitLines(Gt.text[y]))}}else h.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(p=wt(h,function(de){return[de]}));for(var C=e.curOp.updateInput,O=n.ranges.length-1;O>=0;O--){var M=n.ranges[O],G=M.from(),$=M.to();M.empty()&&(r&&r>0?G=re(G.line,G.ch-r):e.state.overwrite&&!f?$=re($.line,Math.min(Ae(o,$.line).text.length,$.ch+_e(h).length)):f&&Gt&&Gt.lineWise&&Gt.text.join("\n")==h.join("\n")&&(G=$=re(G.line,0)));var ue={from:G,to:$,text:p?p[O%p.length]:h,origin:i||(f?"paste":e.state.cutIncoming>s?"cut":"+input")};Un(e.doc,ue),gt(e,"inputRead",e,ue)}t&&!f&&Va(e,t),In(e),e.curOp.updateInput<2&&(e.curOp.updateInput=C),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ja(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&zt(t,function(){return eo(t,r,0,null,"paste")}),!0}function Va(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var f=0;f<o.electricChars.length;f++)if(t.indexOf(o.electricChars.charAt(f))>-1){s=Ar(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ae(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Ar(e,i.head.line,"smart"));s&&gt(e,"electricInput",e,i.head.line)}}}function el(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:re(i,0),head:re(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function tl(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function nl(){var e=Q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=Q("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return N?e.style.width="1000px":e.setAttribute("wrap","off"),he&&(e.style.border="1px solid black"),tl(e),t}function to(e,t,r,n,i){var o=t,s=r,f=Ae(e,t.line),h=i&&"rtl"==e.direction?-r:r;function y(ve){var pe;if("codepoint"==n){var De=f.text.charCodeAt(t.ch+(r>0?0:-1));pe=isNaN(De)?null:new re(t.line,Math.max(0,Math.min(f.text.length,t.ch+r*((r>0?De>=55296&&De<56320:De>=56320&&De<57343)?2:1))),-r)}else pe=i?function _s(e,t,r,n){var i=c(t,e.doc.direction);if(!i)return $i(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=k(i,r.ch,r.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(n>0?s.to>r.ch:s.from<r.ch))return $i(t,r,n);var h,f=function(de,ve){return Ki(t,de instanceof re?de.ch:de,ve)},p=function(de){return e.options.lineWrapping?(h=h||On(e,t),qo(e,t,h,de)):{begin:0,end:t.text.length}},y=p("before"==r.sticky?f(r,-1):r.ch);if("rtl"==e.doc.direction||1==s.level){var C=1==s.level==n<0,O=f(r,C?1:-1);if(null!=O&&(C?O<=s.to&&O<=y.end:O>=s.from&&O>=y.begin))return new re(r.line,O,C?"before":"after")}var G=function(de,ve,pe){for(;de>=0&&de<i.length;de+=ve){var Le=i[de],Me=ve>0==(1!=Le.level),Ge=Me?pe.begin:f(pe.end,-1);if(Le.from<=Ge&&Ge<Le.to||(Ge=Me?Le.from:f(Le.to,-1),pe.begin<=Ge&&Ge<pe.end))return Ve=Ge,Me?new re(r.line,f(Ve,1),"before"):new re(r.line,Ve,"after")}var Ve},$=G(o+n,n,y);if($)return $;var ue=n>0?y.end:f(y.begin,-1);return null==ue||n>0&&ue==t.text.length||!($=G(n>0?0:i.length-1,n,p(ue)))?null:$}(e.cm,f,t,r):$i(f,t,r);if(null==pe){if(ve||!function p(){var ve=t.line+h;return!(ve<e.first||ve>=e.first+e.size)&&(t=new re(ve,t.ch,t.sticky),f=Ae(e,ve))}())return!1;t=Xi(i,e.cm,f,t.line,h)}else t=pe;return!0}if("char"==n||"codepoint"==n)y();else if("column"==n)y(!0);else if("word"==n||"group"==n)for(var C=null,O="group"==n,M=e.cm&&e.cm.getHelper(t,"wordChars"),G=!0;!(r<0)||y(!G);G=!1){var $=f.text.charAt(t.ch)||"\n",ue=R($,M)?"w":O&&"\n"==$?"n":!O||/\s/.test($)?null:"p";if(O&&!G&&!ue&&(ue="s"),C&&C!=ue){r<0&&(r=1,y(),t.sticky="after");break}if(ue&&(C=ue),r>0&&!y(!G))break}var de=Qr(e,t,o,s,!0);return fi(o,de)&&(de.hitSide=!0),de}function rl(e,t,r,n){var s,p,i=e.doc,o=t.left;if("page"==n){var f=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),h=Math.max(f-.5*Pn(e.display),3);s=(r>0?t.bottom:t.top)+r*h}else"line"==n&&(s=r>0?t.bottom+3:t.top-3);for(;(p=Si(e,o,s)).outside;){if(r<0?s<=0:s>=i.height){p.hitSide=!0;break}s+=5*r}return p}var Je=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new g,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function il(e,t){var r=Di(e,t.line);if(!r||r.hidden)return null;var n=Ae(e.doc,t.line),i=_o(r,n,t.line),o=c(n,e.doc.direction),s="left";o&&(s=k(o,t.ch)%2?"right":"left");var h=Po(i.map,t.ch,s);return h.offset="right"==h.collapse?h.end:h.start,h}function $n(e,t){return t&&(e.bad=!0),e}function ii(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return $n(e.clipPos(re(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return eu(o,t,r)}}function eu(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!W(n,t))return $n(re(Qe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?_e(e.rest):e.line;return $n(re(Qe(o),o.text.length),i)}var s=3==t.nodeType?t:null,f=t;for(!s&&1==t.childNodes.length&&3==t.firstChild.nodeType&&(s=t.firstChild,r&&(r=s.nodeValue.length));f.parentNode!=n;)f=f.parentNode;var h=e.measure,p=h.maps;function y(ue,de,ve){for(var pe=-1;pe<(p?p.length:0);pe++)for(var De=pe<0?h.map:p[pe],Le=0;Le<De.length;Le+=3){var Me=De[Le+2];if(Me==ue||Me==de){var Ge=Qe(pe<0?e.line:e.rest[pe]),Ve=De[Le]+ve;return(ve<0||Me!=ue)&&(Ve=De[Le+(ve?1:0)]),re(Ge,Ve)}}}var C=y(s,f,r);if(C)return $n(C,i);for(var O=f.nextSibling,M=s?s.nodeValue.length-r:0;O;O=O.nextSibling){if(C=y(O,O.firstChild,0))return $n(re(C.line,C.ch-M),i);M+=O.textContent.length}for(var G=f.previousSibling,$=r;G;G=G.previousSibling){if(C=y(G,G.firstChild,-1))return $n(re(C.line,C.ch+$),i);$+=G.textContent.length}}Je.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(f){for(var h=f.target;h;h=h.parentNode){if(h==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(h.className))break}return!1}function s(f){if(o(f)&&!T(n,f)){if(n.somethingSelected())ri({lineWise:!1,text:n.getSelections()}),"cut"==f.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var h=el(n);ri({lineWise:!0,text:h.text}),"cut"==f.type&&n.operation(function(){n.setSelections(h.ranges,0,Ke),n.replaceSelection("",null,"cut")})}if(f.clipboardData){f.clipboardData.clearData();var p=Gt.text.join("\n");if(f.clipboardData.setData("Text",p),f.clipboardData.getData("Text")==p)return void f.preventDefault()}var y=nl(),C=y.firstChild;n.display.lineSpace.insertBefore(y,n.display.lineSpace.firstChild),C.value=Gt.text.join("\n");var O=oe();Ye(C),setTimeout(function(){n.display.lineSpace.removeChild(y),O.focus(),O==i&&r.showPrimarySelection()},50)}}i.contentEditable=!0,tl(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),x(i,"paste",function(f){!o(f)||T(n,f)||Ja(f,n)||A<=11&&setTimeout(vt(n,function(){return t.updateFromDOM()}),20)}),x(i,"compositionstart",function(f){t.composing={data:f.data,done:!1}}),x(i,"compositionupdate",function(f){t.composing||(t.composing={data:f.data,done:!1})}),x(i,"compositionend",function(f){t.composing&&(f.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),x(i,"touchstart",function(){return r.forceCompositionEnd()}),x(i,"input",function(){t.composing||t.readFromDOMSoon()}),x(i,"copy",s),x(i,"cut",s)},Je.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Je.prototype.prepareSelection=function(){var e=Zo(this.cm,!1);return e.focus=oe()==this.div,e},Je.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Je.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Je.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=ii(t,e.anchorNode,e.anchorOffset),s=ii(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=Pe(Mr(o,s),n)||0!=Pe(Fr(o,s),i)){var f=t.display.view,h=n.line>=t.display.viewFrom&&il(t,n)||{node:f[0].measure.map[2],offset:0},p=i.line<t.display.viewTo&&il(t,i);if(!p){var y=f[f.length-1].measure,C=y.maps?y.maps[y.maps.length-1]:y.map;p={node:C[C.length-1],offset:C[C.length-2]-C[C.length-3]}}if(!h||!p)return void e.removeAllRanges();var M,O=e.rangeCount&&e.getRangeAt(0);try{M=We(h.node,h.offset,p.offset,p.node)}catch(G){}M&&(!U&&t.state.focused?(e.collapse(h.node,h.offset),M.collapsed||(e.removeAllRanges(),e.addRange(M))):(e.removeAllRanges(),e.addRange(M)),O&&null==e.anchorNode?e.addRange(O):U&&this.startGracePeriod()),this.rememberSelection()}}},Je.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Je.prototype.showMultipleSelections=function(e){se(this.cm.display.cursorDiv,e.cursors),se(this.cm.display.selectionDiv,e.selection)},Je.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Je.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return W(this.div,t)},Je.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||oe()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Je.prototype.blur=function(){this.div.blur()},Je.prototype.getField=function(){return this.div},Je.prototype.supportsTouch=function(){return!0},Je.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):zt(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))})},Je.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Je.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(we&&ne&&this.cm.display.gutterSpecs.length&&function Js(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=ii(t,e.anchorNode,e.anchorOffset),n=ii(t,e.focusNode,e.focusOffset);r&&n&&zt(t,function(){Dt(t.doc,hn(r,n),Ke),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Je.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o,s,f,e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=re(n.line-1,Ae(e.doc,n.line-1).length)),i.ch==Ae(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=re(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;n.line==t.viewFrom||0==(o=Cn(e,n.line))?(s=Qe(t.view[0].line),f=t.view[0].node):(s=Qe(t.view[o].line),f=t.view[o-1].node.nextSibling);var p,y,h=Cn(e,i.line);if(h==t.view.length-1?(p=t.viewTo-1,y=t.lineDiv.lastChild):(p=Qe(t.view[h+1].line)-1,y=t.view[h+1].node.previousSibling),!f)return!1;for(var C=e.doc.splitLines(function Vs(e,t,r,n,i){var o="",s=!1,f=e.doc.lineSeparator(),h=!1;function y(){s&&(o+=f,h&&(o+=f),s=h=!1)}function C(M){M&&(y(),o+=M)}function O(M){if(1==M.nodeType){var G=M.getAttribute("cm-text");if(G)return void C(G);var ue,$=M.getAttribute("cm-marker");if($){var de=e.findMarks(re(n,0),re(i+1,0),function p(M){return function(G){return G.id==M}}(+$));return void(de.length&&(ue=de[0].find(0))&&C(xn(e.doc,ue.from,ue.to).join(f)))}if("false"==M.getAttribute("contenteditable"))return;var ve=/^(pre|div|p|li|table|br)$/i.test(M.nodeName);if(!/^br$/i.test(M.nodeName)&&0==M.textContent.length)return;ve&&y();for(var pe=0;pe<M.childNodes.length;pe++)O(M.childNodes[pe]);/^(pre|p)$/i.test(M.nodeName)&&(h=!0),ve&&(s=!0)}else 3==M.nodeType&&C(M.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;O(t),t!=r;)t=t.nextSibling,h=!1;return o}(e,f,y,s,p)),O=xn(e.doc,re(s,0),re(p,Ae(e.doc,p).text.length));C.length>1&&O.length>1;)if(_e(C)==_e(O))C.pop(),O.pop(),p--;else{if(C[0]!=O[0])break;C.shift(),O.shift(),s++}for(var M=0,G=0,$=C[0],ue=O[0],de=Math.min($.length,ue.length);M<de&&$.charCodeAt(M)==ue.charCodeAt(M);)++M;for(var ve=_e(C),pe=_e(O),De=Math.min(ve.length-(1==C.length?M:0),pe.length-(1==O.length?M:0));G<De&&ve.charCodeAt(ve.length-G-1)==pe.charCodeAt(pe.length-G-1);)++G;if(1==C.length&&1==O.length&&s==n.line)for(;M&&M>n.ch&&ve.charCodeAt(ve.length-G-1)==pe.charCodeAt(pe.length-G-1);)M--,G++;C[C.length-1]=ve.slice(0,ve.length-G).replace(/^\u200b+/,""),C[0]=C[0].slice(M).replace(/\u200b+$/,"");var Le=re(s,M),Me=re(p,O.length?_e(O).length-G:0);return C.length>1||C[0]||Pe(Le,Me)?(qn(e.doc,C,Le,Me,"+input"),!0):void 0},Je.prototype.ensurePolled=function(){this.forceCompositionEnd()},Je.prototype.reset=function(){this.forceCompositionEnd()},Je.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Je.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Je.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&zt(this.cm,function(){return Tt(e.cm)})},Je.prototype.setUneditable=function(e){e.contentEditable="false"},Je.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||vt(this.cm,eo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Je.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Je.prototype.onContextMenu=function(){},Je.prototype.resetPosition=function(){},Je.prototype.needsContentAttribute=!0;var lt=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new g,this.hasSelection=!1,this.composing=null};lt.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(s){if(!T(n,s)){if(n.somethingSelected())ri({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var f=el(n);ri({lineWise:!0,text:f.text}),"cut"==s.type?n.setSelections(f.ranges,null,Ke):(r.prevInput="",i.value=f.text.join("\n"),Ye(i))}"cut"==s.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),he&&(i.style.width="0px"),x(i,"input",function(){F&&A>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),x(i,"paste",function(s){T(n,s)||Ja(s,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),x(i,"cut",o),x(i,"copy",o),x(e.scroller,"paste",function(s){if(!on(e,s)&&!T(n,s)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var f=new Event("paste");f.clipboardData=s.clipboardData,i.dispatchEvent(f)}}),x(e.lineSpace,"selectstart",function(s){on(e,s)||ie(s)}),x(i,"compositionstart",function(){var s=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:s,range:n.markText(s,n.getCursor("to"),{className:"CodeMirror-composing"})}}),x(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},lt.prototype.createField=function(e){this.wrapper=nl(),this.textarea=this.wrapper.firstChild},lt.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},lt.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Zo(e);if(e.options.moveInputWithCursor){var i=Ut(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return n},lt.prototype.showSelection=function(e){var r=this.cm.display;se(r.cursorDiv,e.cursors),se(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},lt.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&Ye(this.textarea),F&&A>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",F&&A>=9&&(this.hasSelection=null))}},lt.prototype.getField=function(){return this.textarea},lt.prototype.supportsTouch=function(){return!1},lt.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!xe||oe()!=this.textarea))try{this.textarea.focus()}catch(e){}},lt.prototype.blur=function(){this.textarea.blur()},lt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},lt.prototype.receivedFocus=function(){this.slowPoll()},lt.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},lt.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},lt.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Zt(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(F&&A>=9&&this.hasSelection===i||P&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203==o&&!n&&(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,f=Math.min(n.length,i.length);s<f&&n.charCodeAt(s)==i.charCodeAt(s);)++s;return zt(t,function(){eo(t,i.slice(s),n.length-s,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},lt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},lt.prototype.onKeyPress=function(){F&&A>=9&&(this.hasSelection=null),this.fastPoll()},lt.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Dn(r,e),s=n.scroller.scrollTop;if(o&&!J){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&vt(r,Dt)(r.doc,hn(o),Ke);var C,h=i.style.cssText,p=t.wrapper.style.cssText,y=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-y.top-5)+"px; left: "+(e.clientX-y.left-5)+"px;\n      z-index: 1000; background: "+(F?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",N&&(C=window.scrollY),n.input.focus(),N&&window.scrollTo(null,C),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=M,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),F&&A>=9&&O(),le){ye(e);var G=function(){S(window,"mouseup",G),setTimeout(M,20)};x(window,"mouseup",G)}else setTimeout(M,50)}function O(){if(null!=i.selectionStart){var $=r.somethingSelected(),ue="\u200b"+($?i.value:"");i.value="\u21da",i.value=ue,t.prevInput=$?"":"\u200b",i.selectionStart=1,i.selectionEnd=ue.length,n.selForContextMenu=r.doc.sel}}function M(){if(t.contextMenuPending==M&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,F&&A<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=s),null!=i.selectionStart)){(!F||F&&A<9)&&O();var $=0,ue=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?vt(r,Da)(r):$++<10?n.detectingSelectAll=setTimeout(ue,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(ue,200)}}},lt.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},lt.prototype.setUneditable=function(){},lt.prototype.needsContentAttribute=!1,function Ks(e){var t=e.optionHandlers;function r(n,i,o,s){e.defaults[n]=i,o&&(t[n]=s?function(f,h,p){p!=Kn&&o(f,h,p)}:o)}e.defineOption=r,e.Init=Kn,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,Ui(n)},!0),r("indentUnit",2,Ui,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){dr(n),or(n),Tt(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,i){var o=[],s=n.doc.first;n.doc.iter(function(h){for(var p=0;;){var y=h.text.indexOf(i,p);if(-1==y)break;p=y+i.length,o.push(re(s,y))}s++});for(var f=o.length-1;f>=0;f--)qn(n.doc,i,o[f],re(o[f].line,o[f].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,o){n.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),o!=Kn&&n.refresh()}),r("specialCharPlaceholder",Dl,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",xe?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!V),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Ya(n),hr(n)},!0),r("keyMap","default",function(n,i,o){var s=ei(i),f=o!=Kn&&ei(o);f&&f.detach&&f.detach(n,s),s.attach&&s.attach(n,f||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Xs,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=Hi(i,n.options.lineNumbers),hr(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?Fi(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Rn(n)},!0),r("scrollbarStyle","native",function(n){Vo(n),Rn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=Hi(n.options.gutters,i),hr(n)},!0),r("firstLineNumber",1,hr,!0),r("lineNumberFormatter",function(n){return n},hr,!0),r("showCursorWhenSelecting",!1,ar,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){"nocursor"==i&&(Nn(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){n.display.input.screenReaderLabelChanged(i=""===i?null:i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,$s),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ar,!0),r("singleCursorHeightPerLine",!0,ar,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,dr,!0),r("addModeClass",!1,dr,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,dr,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}(et),function Qs(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var o=this.options,s=o[n];o[n]==i&&"mode"!=n||(o[n]=i,t.hasOwnProperty(n)&&vt(this,t[n])(this,i,s),w(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](ei(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,o=0;o<i.length;++o)if(i[o]==n||i[o].name==n)return i.splice(o,1),!0},addOverlay:At(function(n,i){var o=n.token?n:e.getMode(this.options,n);if(o.startState)throw new Error("Overlays may not be stateful.");(function jt(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)})(this.state.overlays,{mode:o,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(s){return s.priority}),this.state.modeGen++,Tt(this)}),removeOverlay:At(function(n){for(var i=this.state.overlays,o=0;o<i.length;++o){var s=i[o].modeSpec;if(s==n||"string"==typeof n&&s.name==n)return i.splice(o,1),this.state.modeGen++,void Tt(this)}}),indentLine:At(function(n,i,o){"string"!=typeof i&&"number"!=typeof i&&(i=null==i?this.options.smartIndent?"smart":"prev":i?"add":"subtract"),Vn(this.doc,n)&&Ar(this,n,i,o)}),indentSelection:At(function(n){for(var i=this.doc.sel.ranges,o=-1,s=0;s<i.length;s++){var f=i[s];if(f.empty())f.head.line>o&&(Ar(this,f.head.line,n,!0),o=f.head.line,s==this.doc.sel.primIndex&&In(this));else{var h=f.from(),p=f.to(),y=Math.max(o,h.line);o=Math.min(this.lastLine(),p.line-(p.ch?0:1))+1;for(var C=y;C<o;++C)Ar(this,C,n);var O=this.doc.sel.ranges;0==h.ch&&i.length==O.length&&O[s].from().ch>0&&Zi(this.doc,s,new Xe(h,O[s].to()),Ke)}}}),getTokenAt:function(n,i){return fo(this,n,i)},getLineTokens:function(n,i){return fo(this,re(n),i,!0)},getTokenTypeAt:function(n){n=ze(this.doc,n);var h,i=lo(this,Ae(this.doc,n.line)),o=0,s=(i.length-1)/2,f=n.ch;if(0==f)h=i[2];else for(;;){var p=o+s>>1;if((p?i[2*p-1]:0)>=f)s=p;else{if(!(i[2*p+1]<f)){h=i[2*p+2];break}o=p+1}}var y=h?h.indexOf("overlay "):-1;return y<0?h:0==y?null:h.slice(0,y-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var o=[];if(!r.hasOwnProperty(i))return o;var s=r[i],f=this.getModeAt(n);if("string"==typeof f[i])s[f[i]]&&o.push(s[f[i]]);else if(f[i])for(var h=0;h<f[i].length;h++){var p=s[f[i][h]];p&&o.push(p)}else f.helperType&&s[f.helperType]?o.push(s[f.helperType]):s[f.name]&&o.push(s[f.name]);for(var y=0;y<s._global.length;y++){var C=s._global[y];C.pred(f,this)&&-1==ge(o,C.val)&&o.push(C.val)}return o},getStateAfter:function(n,i){var o=this.doc;return er(this,(n=io(o,null==n?o.first+o.size-1:n))+1,i).state},cursorCoords:function(n,i){var s=this.doc.sel.primary();return Ut(this,null==n?s.head:"object"==typeof n?ze(this.doc,n):n?s.from():s.to(),i||"page")},charCoords:function(n,i){return Rr(this,ze(this.doc,n),i||"page")},coordsChar:function(n,i){return Si(this,(n=Ho(this,n,i||"page")).left,n.top)},lineAtHeight:function(n,i){return n=Ho(this,{top:n,left:0},i||"page").top,bn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,o){var f,s=!1;if("number"==typeof n){var h=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>h&&(n=h,s=!0),f=Ae(this.doc,n)}else f=n;return Ir(this,f,{top:0,left:0},i||"page",o||s).top+(s?this.doc.height-rn(f):0)},defaultTextHeight:function(){return Pn(this.display)},defaultCharWidth:function(){return zn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,o,s,f){var h=this.display,p=(n=Ut(this,ze(this.doc,n))).bottom,y=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),h.sizer.appendChild(i),"over"==s)p=n.top;else if("above"==s||"near"==s){var C=Math.max(h.wrapper.clientHeight,this.doc.height),O=Math.max(h.sizer.clientWidth,h.lineSpace.clientWidth);("above"==s||n.bottom+i.offsetHeight>C)&&n.top>i.offsetHeight?p=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=C&&(p=n.bottom),y+i.offsetWidth>O&&(y=O-i.offsetWidth)}i.style.top=p+"px",i.style.left=i.style.right="","right"==f?(y=h.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):("left"==f?y=0:"middle"==f&&(y=(h.sizer.clientWidth-i.offsetWidth)/2),i.style.left=y+"px"),o&&function $l(e,t){var r=Oi(e,t);null!=r.scrollTop&&sr(e,r.scrollTop),null!=r.scrollLeft&&wn(e,r.scrollLeft)}(this,{left:y,top:p,right:y+i.offsetWidth,bottom:p+i.offsetHeight})},triggerOnKeyDown:At(qa),triggerOnKeyPress:At(ja),triggerOnKeyUp:Ga,triggerOnMouseDown:At(Za),execCommand:function(n){if(Dr.hasOwnProperty(n))return Dr[n].call(null,this)},triggerElectric:At(function(n){Va(this,n)}),findPosH:function(n,i,o,s){var f=1;i<0&&(f=-1,i=-i);for(var h=ze(this.doc,n),p=0;p<i&&!(h=to(this.doc,h,f,o,s)).hitSide;++p);return h},moveH:At(function(n,i){var o=this;this.extendSelectionsBy(function(s){return o.display.shift||o.doc.extend||s.empty()?to(o.doc,s.head,n,i,o.options.rtlMoveVisually):n<0?s.from():s.to()},$e)}),deleteH:At(function(n,i){var s=this.doc;this.doc.sel.somethingSelected()?s.replaceSelection("",null,"+delete"):Zn(this,function(f){var h=to(s,f.head,n,i,!1);return n<0?{from:h,to:f.head}:{from:f.head,to:h}})}),findPosV:function(n,i,o,s){var f=1,h=s;i<0&&(f=-1,i=-i);for(var p=ze(this.doc,n),y=0;y<i;++y){var C=Ut(this,p,"div");if(null==h?h=C.left:C.left=h,(p=rl(this,C,f,o)).hitSide)break}return p},moveV:At(function(n,i){var o=this,s=this.doc,f=[],h=!this.display.shift&&!s.extend&&s.sel.somethingSelected();if(s.extendSelectionsBy(function(y){if(h)return n<0?y.from():y.to();var C=Ut(o,y.head,"div");null!=y.goalColumn&&(C.left=y.goalColumn),f.push(C.left);var O=rl(o,C,n,i);return"page"==i&&y==s.sel.primary()&&Pi(o,Rr(o,O,"div").top-C.top),O},$e),f.length)for(var p=0;p<s.sel.ranges.length;p++)s.sel.ranges[p].goalColumn=f[p]}),findWordAt:function(n){var o=Ae(this.doc,n.line).text,s=n.ch,f=n.ch;if(o){var h=this.getHelper(n,"wordChars");"before"!=n.sticky&&f!=o.length||!s?++f:--s;for(var p=o.charAt(s),y=R(p,h)?function(C){return R(C,h)}:/\s/.test(p)?function(C){return/\s/.test(C)}:function(C){return!/\s/.test(C)&&!R(C)};s>0&&y(o.charAt(s-1));)--s;for(;f<o.length&&y(o.charAt(f));)++f}return new Xe(re(n.line,s),re(n.line,f))},toggleOverwrite:function(n){null!=n&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?te(this.display.cursorDiv,"CodeMirror-overwrite"):Ce(this.display.cursorDiv,"CodeMirror-overwrite"),w(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==oe()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:At(function(n,i){lr(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Qt(this)-this.display.barHeight,width:n.scrollWidth-Qt(this)-this.display.barWidth,clientHeight:ki(this),clientWidth:yn(this)}},scrollIntoView:At(function(n,i){null==n?(n={from:this.doc.sel.primary().head,to:null},null==i&&(i=this.options.cursorScrollMargin)):"number"==typeof n?n={from:re(n,0),to:null}:null==n.from&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,null!=n.from.line?function Xl(e,t){Gr(e),e.curOp.scrollToPos=t}(this,n):Xo(this,n.from,n.to,n.margin)}),setSize:At(function(n,i){var o=this,s=function(h){return"number"==typeof h||/^\d+$/.test(String(h))?h+"px":h};null!=n&&(this.display.wrapper.style.width=s(n)),null!=i&&(this.display.wrapper.style.height=s(i)),this.options.lineWrapping&&No(this);var f=this.display.viewFrom;this.doc.iter(f,this.display.viewTo,function(h){if(h.widgets)for(var p=0;p<h.widgets.length;p++)if(h.widgets[p].noHScroll){fn(o,f,"widget");break}++f}),this.curOp.forceUpdate=!0,w(this,"refresh",this)}),operation:function(n){return zt(this,n)},startOperation:function(){return An(this)},endOperation:function(){return En(this)},refresh:At(function(){var n=this.display.cachedTextHeight;Tt(this),this.curOp.forceUpdate=!0,or(this),lr(this,this.doc.scrollLeft,this.doc.scrollTop),Ii(this.display),(null==n||Math.abs(n-Pn(this.display))>.5||this.options.lineWrapping)&&Mi(this),w(this,"refresh",this)}),swapDoc:At(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),ua(this,n),or(this),this.display.input.reset(),lr(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,gt(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ee(e),e.registerHelper=function(n,i,o){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=o},e.registerGlobalHelper=function(n,i,o,s){e.registerHelper(n,i,s),r[n]._global.push({pred:o,val:s})}}(et);var ru="iter insert remove copy getEditor constructor".split(" ");for(var oi in Lt.prototype)Lt.prototype.hasOwnProperty(oi)&&ge(ru,oi)<0&&(et.prototype[oi]=function(e){return function(){return e.apply(this.doc,arguments)}}(Lt.prototype[oi]));return ee(Lt),et.inputStyles={textarea:lt,contenteditable:Je},et.defineMode=function(e){!et.defaults.mode&&"null"!=e&&(et.defaults.mode=e),ai.apply(this,arguments)},et.defineMIME=function li(e,t){Kt[e]=t},et.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),et.defineMIME("text/plain","null"),et.defineExtension=function(e,t){et.prototype[e]=t},et.defineDocExtension=function(e,t){Lt.prototype[e]=t},et.fromTextArea=function tu(e,t){if((t=t?ke(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=oe();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=f.getValue()}var i;if(e.form&&(x(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(h){}}t.finishInit=function(h){h.save=n,h.getTextArea=function(){return e},h.toTextArea=function(){h.toTextArea=isNaN,n(),e.parentNode.removeChild(h.getWrapperElement()),e.style.display="",e.form&&(S(e.form,"submit",n),!t.leaveSubmitMethodAlone&&"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var f=et(function(h){return e.parentNode.insertBefore(h,e.nextSibling)},t);return f},function nu(e){e.off=S,e.on=x,e.wheelEventPixels=us,e.Doc=Lt,e.splitLines=en,e.countColumn=m,e.findColumn=be,e.isWordChar=ut,e.Pass=Te,e.signal=w,e.Line=_n,e.changeEnd=dn,e.scrollbarModel=Jo,e.Pos=re,e.cmpPos=Pe,e.modes=Qn,e.mimeModes=Kt,e.resolveMode=ft,e.getMode=$t,e.modeExtensions=St,e.extendMode=Ht,e.copyState=Mt,e.startState=Jn,e.innerMode=tn,e.commands=Dr,e.keyMap=ln,e.keyName=Ia,e.isModifierKey=za,e.lookupKey=jn,e.normalizeKeyMap=Ls,e.StringStream=rt,e.SharedTextMarker=br,e.TextMarker=gn,e.LineWidget=xr,e.e_preventDefault=ie,e.e_stopPropagation=Oe,e.e_stop=ye,e.addClass=te,e.contains=W,e.rmClass=Ce,e.keyNames=vn}(et),et.version="5.65.1",et}()},41317:(ot,He,me)=>{!function(U){"use strict";var z=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;U.defineMode("gfm",function(B,H){var F=0;var N={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(J){return{code:J.code,codeBlock:J.codeBlock,ateSpace:J.ateSpace}},token:function(J,Z){if(Z.combineTokens=null,Z.codeBlock)return J.match(/^```+/)?(Z.codeBlock=!1,null):(J.skipToEnd(),null);if(J.sol()&&(Z.code=!1),J.sol()&&J.match(/^```+/))return J.skipToEnd(),Z.codeBlock=!0,null;if("`"===J.peek()){J.next();var fe=J.pos;J.eatWhile("`");var ae=1+J.pos-fe;return Z.code?ae===F&&(Z.code=!1):(F=ae,Z.code=!0),null}if(Z.code)return J.next(),null;if(J.eatSpace())return Z.ateSpace=!0,null;if((J.sol()||Z.ateSpace)&&(Z.ateSpace=!1,!1!==H.gitHubSpice)){if(J.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return Z.combineTokens=!0,"link";if(J.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return Z.combineTokens=!0,"link"}return J.match(z)&&"]("!=J.string.slice(J.start-2,J.start)&&(0==J.start||/\W/.test(J.string.charAt(J.start-1)))?(Z.combineTokens=!0,"link"):(J.next(),null)},blankLine:function A(J){return J.code=!1,null}},K={taskLists:!0,strikethrough:!0,emoji:!0};for(var ne in H)K[ne]=H[ne];return K.name="markdown",U.overlayMode(U.getMode(B,K),N)},"markdown"),U.defineMIME("text/x-gfm","gfm")}(me(68266),me(50521),me(76128))},50521:(ot,He,me)=>{!function(U){"use strict";U.defineMode("markdown",function(z,B){var H=U.getMode(z,"text/html"),F="null"==H.name;void 0===B.highlightFormatting&&(B.highlightFormatting=!1),void 0===B.maxBlockquoteDepth&&(B.maxBlockquoteDepth=0),void 0===B.taskLists&&(B.taskLists=!1),void 0===B.strikethrough&&(B.strikethrough=!1),void 0===B.emoji&&(B.emoji=!1),void 0===B.fencedCodeBlockHighlighting&&(B.fencedCodeBlockHighlighting=!0),void 0===B.fencedCodeBlockDefaultMode&&(B.fencedCodeBlockDefaultMode="text/plain"),void 0===B.xml&&(B.xml=!0),void 0===B.tokenTypeOverrides&&(B.tokenTypeOverrides={});var N={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var K in N)N.hasOwnProperty(K)&&B.tokenTypeOverrides[K]&&(N[K]=B.tokenTypeOverrides[K]);var ne=/^([*\-_])(?:\s*\1){2,}\s*$/,J=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,Z=/^\[(x| )\](?=\s)/i,fe=B.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,ae=/^ {0,3}(?:\={1,}|-{2,})\s*$/,he=/^[^#!\[\]*_\\<>` "'(~:]+/,we=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,xe=/^\s*\[[^\]]+?\]:.*$/,P=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function V(m,g,ge){return g.f=g.inline=ge,ge(m,g)}function Y(m,g,ge){return g.f=g.block=ge,ge(m,g)}function le(m){if(m.linkTitle=!1,m.linkHref=!1,m.linkText=!1,m.em=!1,m.strong=!1,m.strikethrough=!1,m.quote=0,m.indentedCode=!1,m.f==Ce){var g=F;if(!g){var ge=U.innerMode(H,m.htmlState);g="xml"==ge.mode.name&&null===ge.state.tagStart&&!ge.state.context&&ge.state.tokenize.isInText}g&&(m.f=Fe,m.block=X,m.htmlState=null)}return m.trailingSpace=0,m.trailingSpaceNewLine=!1,m.prevLine=m.thisLine,m.thisLine={stream:null},null}function X(m,g){var ge=m.column()===g.indentation,Ue=function ce(m){return!m||!/\S/.test(m.string)}(g.prevLine.stream),Te=g.indentedCode,Ke=g.prevLine.hr,st=!1!==g.list,$e=(g.listStack[g.listStack.length-1]||0)+3;g.indentedCode=!1;var be=g.indentation;if(null===g.indentationDiff&&(g.indentationDiff=g.indentation,st)){for(g.list=null;be<g.listStack[g.listStack.length-1];)g.listStack.pop(),g.listStack.length?g.indentation=g.listStack[g.listStack.length-1]:g.list=!1;!1!==g.list&&(g.indentationDiff=be-g.listStack[g.listStack.length-1])}var Se=!(Ue||Ke||g.prevLine.header||st&&Te||g.prevLine.fencedCodeEnd),Ze=(!1===g.list||Ke||Ue)&&g.indentation<=$e&&m.match(ne),_e=null;if(g.indentationDiff>=4&&(Te||g.prevLine.fencedCodeEnd||g.prevLine.header||Ue))return m.skipToEnd(),g.indentedCode=!0,N.code;if(m.eatSpace())return null;if(ge&&g.indentation<=$e&&(_e=m.match(fe))&&_e[1].length<=6)return g.quote=0,g.header=_e[1].length,g.thisLine.header=!0,B.highlightFormatting&&(g.formatting="header"),g.f=g.inline,se(g);if(g.indentation<=$e&&m.eat(">"))return g.quote=ge?1:g.quote+1,B.highlightFormatting&&(g.formatting="quote"),m.eatSpace(),se(g);if(!Ze&&!g.setext&&ge&&g.indentation<=$e&&(_e=m.match(J))){var wt=_e[1]?"ol":"ul";return g.indentation=be+m.current().length,g.list=!0,g.quote=0,g.listStack.push(g.indentation),g.em=!1,g.strong=!1,g.code=!1,g.strikethrough=!1,B.taskLists&&m.match(Z,!1)&&(g.taskList=!0),g.f=g.inline,B.highlightFormatting&&(g.formatting=["list","list-"+wt]),se(g)}return ge&&g.indentation<=$e&&(_e=m.match(we,!0))?(g.quote=0,g.fencedEndRE=new RegExp(_e[1]+"+ *$"),g.localMode=B.fencedCodeBlockHighlighting&&function A(m){if(U.findModeByName){var g=U.findModeByName(m);g&&(m=g.mime||g.mimes[0])}var ge=U.getMode(z,m);return"null"==ge.name?null:ge}(_e[2]||B.fencedCodeBlockDefaultMode),g.localMode&&(g.localState=U.startState(g.localMode)),g.f=g.block=Ne,B.highlightFormatting&&(g.formatting="code-block"),g.code=-1,se(g)):g.setext||!(Se&&st||g.quote||!1!==g.list||g.code||Ze||xe.test(m.string))&&(_e=m.lookAhead(1))&&(_e=_e.match(ae))?(g.setext?(g.header=g.setext,g.setext=0,m.skipToEnd(),B.highlightFormatting&&(g.formatting="header")):(g.header="="==_e[0].charAt(0)?1:2,g.setext=g.header),g.thisLine.header=!0,g.f=g.inline,se(g)):Ze?(m.skipToEnd(),g.hr=!0,g.thisLine.hr=!0,N.hr):"["===m.peek()?V(m,g,Ee):V(m,g,g.inline)}function Ce(m,g){var ge=H.token(m,g.htmlState);if(!F){var Ue=U.innerMode(H,g.htmlState);("xml"==Ue.mode.name&&null===Ue.state.tagStart&&!Ue.state.context&&Ue.state.tokenize.isInText||g.md_inside&&m.current().indexOf(">")>-1)&&(g.f=Fe,g.block=X,g.htmlState=null)}return ge}function Ne(m,g){var Ke,ge=g.listStack[g.listStack.length-1]||0,Ue=g.indentation<ge;return g.fencedEndRE&&g.indentation<=ge+3&&(Ue||m.match(g.fencedEndRE))?(B.highlightFormatting&&(g.formatting="code-block"),Ue||(Ke=se(g)),g.localMode=g.localState=null,g.block=X,g.f=Fe,g.fencedEndRE=null,g.code=0,g.thisLine.fencedCodeEnd=!0,Ue?Y(m,g,g.block):Ke):g.localMode?g.localMode.token(m,g.localState):(m.skipToEnd(),N.code)}function se(m){var g=[];if(m.formatting){g.push(N.formatting),"string"==typeof m.formatting&&(m.formatting=[m.formatting]);for(var ge=0;ge<m.formatting.length;ge++)g.push(N.formatting+"-"+m.formatting[ge]),"header"===m.formatting[ge]&&g.push(N.formatting+"-"+m.formatting[ge]+"-"+m.header),"quote"===m.formatting[ge]&&g.push(!B.maxBlockquoteDepth||B.maxBlockquoteDepth>=m.quote?N.formatting+"-"+m.formatting[ge]+"-"+m.quote:"error")}if(m.taskOpen)return g.push("meta"),g.length?g.join(" "):null;if(m.taskClosed)return g.push("property"),g.length?g.join(" "):null;if(m.linkHref?g.push(N.linkHref,"url"):(m.strong&&g.push(N.strong),m.em&&g.push(N.em),m.strikethrough&&g.push(N.strikethrough),m.emoji&&g.push(N.emoji),m.linkText&&g.push(N.linkText),m.code&&g.push(N.code),m.image&&g.push(N.image),m.imageAltText&&g.push(N.imageAltText,"link"),m.imageMarker&&g.push(N.imageMarker)),m.header&&g.push(N.header,N.header+"-"+m.header),m.quote&&(g.push(N.quote),g.push(!B.maxBlockquoteDepth||B.maxBlockquoteDepth>=m.quote?N.quote+"-"+m.quote:N.quote+"-"+B.maxBlockquoteDepth)),!1!==m.list){var Ue=(m.listStack.length-1)%3;g.push(Ue?1===Ue?N.list2:N.list3:N.list1)}return m.trailingSpaceNewLine?g.push("trailing-space-new-line"):m.trailingSpace&&g.push("trailing-space-"+(m.trailingSpace%2?"a":"b")),g.length?g.join(" "):null}function Q(m,g){if(m.match(he,!0))return se(g)}function Fe(m,g){var ge=g.text(m,g);if(void 0!==ge)return ge;if(g.list)return g.list=null,se(g);if(g.taskList)return" "===m.match(Z,!0)[1]?g.taskOpen=!0:g.taskClosed=!0,B.highlightFormatting&&(g.formatting="task"),g.taskList=!1,se(g);if(g.taskOpen=!1,g.taskClosed=!1,g.header&&m.match(/^#+$/,!0))return B.highlightFormatting&&(g.formatting="header"),se(g);var Te=m.next();if(g.linkTitle){g.linkTitle=!1;var Ke=Te;if("("===Te&&(Ke=")"),Ke=(Ke+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"),m.match(new RegExp("^\\s*(?:[^"+Ke+"\\\\]+|\\\\\\\\|\\\\.)"+Ke),!0))return N.linkHref}if("`"===Te){var $e=g.formatting;B.highlightFormatting&&(g.formatting="code"),m.eatWhile("`");var be=m.current().length;if(0==g.code&&(!g.quote||1==be))return g.code=be,se(g);if(be==g.code){var Se=se(g);return g.code=0,Se}return g.formatting=$e,se(g)}if(g.code)return se(g);if("\\"===Te&&(m.next(),B.highlightFormatting)){var Ze=se(g),_e=N.formatting+"-escape";return Ze?Ze+" "+_e:_e}if("!"===Te&&m.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return g.imageMarker=!0,g.image=!0,B.highlightFormatting&&(g.formatting="image"),se(g);if("["===Te&&g.imageMarker&&m.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return g.imageMarker=!1,g.imageAltText=!0,B.highlightFormatting&&(g.formatting="image"),se(g);if("]"===Te&&g.imageAltText){B.highlightFormatting&&(g.formatting="image");Ze=se(g);return g.imageAltText=!1,g.image=!1,g.inline=g.f=W,Ze}if("["===Te&&!g.image)return g.linkText&&m.match(/^.*?\]/)||(g.linkText=!0,B.highlightFormatting&&(g.formatting="link")),se(g);if("]"===Te&&g.linkText){B.highlightFormatting&&(g.formatting="link");Ze=se(g);return g.linkText=!1,g.inline=g.f=m.match(/\(.*?\)| ?\[.*?\]/,!1)?W:Fe,Ze}if("<"===Te&&m.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return g.f=g.inline=We,B.highlightFormatting&&(g.formatting="link"),(Ze=se(g))?Ze+=" ":Ze="",Ze+N.linkInline;if("<"===Te&&m.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return g.f=g.inline=We,B.highlightFormatting&&(g.formatting="link"),(Ze=se(g))?Ze+=" ":Ze="",Ze+N.linkEmail;if(B.xml&&"<"===Te&&m.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=m.string.indexOf(">",m.pos);if(-1!=wt){var jt=m.string.substring(m.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(jt)&&(g.md_inside=!0)}return m.backUp(1),g.htmlState=U.startState(H),Y(m,g,Ce)}if(B.xml&&"<"===Te&&m.match(/^\/\w*?>/))return g.md_inside=!1,"tag";if("*"===Te||"_"===Te){for(var Rt=1,kt=1==m.pos?" ":m.string.charAt(m.pos-2);Rt<3&&m.eat(Te);)Rt++;var Pt=m.peek()||" ",ut=!/\s/.test(Pt)&&(!P.test(Pt)||/\s/.test(kt)||P.test(kt)),R=!/\s/.test(kt)&&(!P.test(kt)||/\s/.test(Pt)||P.test(Pt)),_=null,D=null;if(Rt%2&&(g.em||!ut||"*"!==Te&&R&&!P.test(kt)?g.em==Te&&R&&("*"===Te||!ut||P.test(Pt))&&(_=!1):_=!0),Rt>1&&(g.strong||!ut||"*"!==Te&&R&&!P.test(kt)?g.strong==Te&&R&&("*"===Te||!ut||P.test(Pt))&&(D=!1):D=!0),null!=D||null!=_)return B.highlightFormatting&&(g.formatting=null==_?"strong":null==D?"em":"strong em"),!0===_&&(g.em=Te),!0===D&&(g.strong=Te),Se=se(g),!1===_&&(g.em=!1),!1===D&&(g.strong=!1),Se}else if(" "===Te&&(m.eat("*")||m.eat("_"))){if(" "===m.peek())return se(g);m.backUp(1)}if(B.strikethrough)if("~"===Te&&m.eatWhile(Te)){if(g.strikethrough)return B.highlightFormatting&&(g.formatting="strikethrough"),Se=se(g),g.strikethrough=!1,Se;if(m.match(/^[^\s]/,!1))return g.strikethrough=!0,B.highlightFormatting&&(g.formatting="strikethrough"),se(g)}else if(" "===Te&&m.match("~~",!0)){if(" "===m.peek())return se(g);m.backUp(2)}if(B.emoji&&":"===Te&&m.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){g.emoji=!0,B.highlightFormatting&&(g.formatting="emoji");var a=se(g);return g.emoji=!1,a}return" "===Te&&(m.match(/^ +$/,!1)?g.trailingSpace++:g.trailingSpace&&(g.trailingSpaceNewLine=!0)),se(g)}function We(m,g){if(">"===m.next()){g.f=g.inline=Fe,B.highlightFormatting&&(g.formatting="link");var Ue=se(g);return Ue?Ue+=" ":Ue="",Ue+N.linkInline}return m.match(/^[^>]+/,!0),N.linkInline}function W(m,g){if(m.eatSpace())return null;var ge=m.next();return"("===ge||"["===ge?(g.f=g.inline=function te(m){return function(g,ge){if(g.next()===m){ge.f=ge.inline=Fe,B.highlightFormatting&&(ge.formatting="link-string");var Te=se(ge);return ge.linkHref=!1,Te}return g.match(oe[m]),ge.linkHref=!0,se(ge)}}("("===ge?")":"]"),B.highlightFormatting&&(g.formatting="link-string"),g.linkHref=!0,se(g)):"error"}var oe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Ee(m,g){return m.match(/^([^\]\\]|\\.)*\]:/,!1)?(g.f=Ye,m.next(),B.highlightFormatting&&(g.formatting="link"),g.linkText=!0,se(g)):V(m,g,Fe)}function Ye(m,g){if(m.match("]:",!0)){g.f=g.inline=at,B.highlightFormatting&&(g.formatting="link");var ge=se(g);return g.linkText=!1,ge}return m.match(/^([^\]\\]|\\.)+/,!0),N.linkText}function at(m,g){return m.eatSpace()?null:(m.match(/^[^\s]+/,!0),void 0===m.peek()?g.linkTitle=!0:m.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),g.f=g.inline=Fe,N.linkHref+" url")}var ke={startState:function(){return{f:X,prevLine:{stream:null},thisLine:{stream:null},block:X,htmlState:null,indentation:0,inline:Fe,text:Q,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(m){return{f:m.f,prevLine:m.prevLine,thisLine:m.thisLine,block:m.block,htmlState:m.htmlState&&U.copyState(H,m.htmlState),indentation:m.indentation,localMode:m.localMode,localState:m.localMode?U.copyState(m.localMode,m.localState):null,inline:m.inline,text:m.text,formatting:!1,linkText:m.linkText,linkTitle:m.linkTitle,linkHref:m.linkHref,code:m.code,em:m.em,strong:m.strong,strikethrough:m.strikethrough,emoji:m.emoji,header:m.header,setext:m.setext,hr:m.hr,taskList:m.taskList,list:m.list,listStack:m.listStack.slice(0),quote:m.quote,indentedCode:m.indentedCode,trailingSpace:m.trailingSpace,trailingSpaceNewLine:m.trailingSpaceNewLine,md_inside:m.md_inside,fencedEndRE:m.fencedEndRE}},token:function(m,g){if(g.formatting=!1,m!=g.thisLine.stream){if(g.header=0,g.hr=!1,m.match(/^\s*$/,!0))return le(g),null;if(g.prevLine=g.thisLine,g.thisLine={stream:m},g.taskList=!1,g.trailingSpace=0,g.trailingSpaceNewLine=!1,!g.localState&&(g.f=g.block,g.f!=Ce)){var ge=m.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(g.indentation=ge,g.indentationDiff=null,ge>0)return null}}return g.f(m,g)},innerMode:function(m){return m.block==Ce?{state:m.htmlState,mode:H}:m.localState?{state:m.localState,mode:m.localMode}:{state:m,mode:ke}},indent:function(m,g,ge){return m.block==Ce&&H.indent?H.indent(m.htmlState,g,ge):m.localState&&m.localMode.indent?m.localMode.indent(m.localState,g,ge):U.Pass},blankLine:le,getType:se,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ke},"xml"),U.defineMIME("text/markdown","markdown"),U.defineMIME("text/x-markdown","markdown")}(me(68266),me(97684),me(68834))},68834:(ot,He,me)=>{!function(U){"use strict";U.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var z=0;z<U.modeInfo.length;z++){var B=U.modeInfo[z];B.mimes&&(B.mime=B.mimes[0])}U.findModeByMIME=function(H){H=H.toLowerCase();for(var F=0;F<U.modeInfo.length;F++){var A=U.modeInfo[F];if(A.mime==H)return A;if(A.mimes)for(var N=0;N<A.mimes.length;N++)if(A.mimes[N]==H)return A}return/\+xml$/.test(H)?U.findModeByMIME("application/xml"):/\+json$/.test(H)?U.findModeByMIME("application/json"):void 0},U.findModeByExtension=function(H){H=H.toLowerCase();for(var F=0;F<U.modeInfo.length;F++){var A=U.modeInfo[F];if(A.ext)for(var N=0;N<A.ext.length;N++)if(A.ext[N]==H)return A}},U.findModeByFileName=function(H){for(var F=0;F<U.modeInfo.length;F++){var A=U.modeInfo[F];if(A.file&&A.file.test(H))return A}var N=H.lastIndexOf("."),K=N>-1&&H.substring(N+1,H.length);if(K)return U.findModeByExtension(K)},U.findModeByName=function(H){H=H.toLowerCase();for(var F=0;F<U.modeInfo.length;F++){var A=U.modeInfo[F];if(A.name.toLowerCase()==H)return A;if(A.alias)for(var N=0;N<A.alias.length;N++)if(A.alias[N].toLowerCase()==H)return A}}}(me(68266))},97684:(ot,He,me)=>{!function(U){"use strict";var z={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},B={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};U.defineMode("xml",function(H,F){var J,Z,A=H.indentUnit,N={},K=F.htmlMode?z:B;for(var ne in K)N[ne]=K[ne];for(var ne in F)N[ne]=F[ne];function fe(W,oe){function te(at){return oe.tokenize=at,at(W,oe)}var Ee=W.next();return"<"==Ee?W.eat("!")?W.eat("[")?W.match("CDATA[")?te(we("atom","]]>")):null:W.match("--")?te(we("comment","--\x3e")):W.match("DOCTYPE",!0,!0)?(W.eatWhile(/[\w\._\-]/),te(xe(1))):null:W.eat("?")?(W.eatWhile(/[\w\._\-]/),oe.tokenize=we("meta","?>"),"meta"):(J=W.eat("/")?"closeTag":"openTag",oe.tokenize=ae,"tag bracket"):"&"==Ee?(W.eat("#")?W.eat("x")?W.eatWhile(/[a-fA-F\d]/)&&W.eat(";"):W.eatWhile(/[\d]/)&&W.eat(";"):W.eatWhile(/[\w\.\-:]/)&&W.eat(";"))?"atom":"error":(W.eatWhile(/[^&<]/),null)}function ae(W,oe){var te=W.next();if(">"==te||"/"==te&&W.eat(">"))return oe.tokenize=fe,J=">"==te?"endTag":"selfcloseTag","tag bracket";if("="==te)return J="equals",null;if("<"==te){oe.tokenize=fe,oe.state=ce,oe.tagName=oe.tagStart=null;var Ee=oe.tokenize(W,oe);return Ee?Ee+" tag error":"tag error"}return/[\'\"]/.test(te)?(oe.tokenize=function he(W){var oe=function(te,Ee){for(;!te.eol();)if(te.next()==W){Ee.tokenize=ae;break}return"string"};return oe.isInAttribute=!0,oe}(te),oe.stringStartCol=W.column(),oe.tokenize(W,oe)):(W.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function we(W,oe){return function(te,Ee){for(;!te.eol();){if(te.match(oe)){Ee.tokenize=fe;break}te.next()}return W}}function xe(W){return function(oe,te){for(var Ee;null!=(Ee=oe.next());){if("<"==Ee)return te.tokenize=xe(W+1),te.tokenize(oe,te);if(">"==Ee){if(1==W){te.tokenize=fe;break}return te.tokenize=xe(W-1),te.tokenize(oe,te)}}return"meta"}}function P(W){return W&&W.toLowerCase()}function j(W,oe,te){this.prev=W.context,this.tagName=oe||"",this.indent=W.indented,this.startOfLine=te,(N.doNotIndent.hasOwnProperty(oe)||W.context&&W.context.noIndent)&&(this.noIndent=!0)}function V(W){W.context&&(W.context=W.context.prev)}function Y(W,oe){for(var te;;){if(!W.context||!N.contextGrabbers.hasOwnProperty(P(te=W.context.tagName))||!N.contextGrabbers[P(te)].hasOwnProperty(P(oe)))return;V(W)}}function ce(W,oe,te){return"openTag"==W?(te.tagStart=oe.column(),le):"closeTag"==W?X:ce}function le(W,oe,te){return"word"==W?(te.tagName=oe.current(),Z="tag",se):N.allowMissingTagName&&"endTag"==W?(Z="tag bracket",se(W,0,te)):(Z="error",le)}function X(W,oe,te){if("word"==W){var Ee=oe.current();return te.context&&te.context.tagName!=Ee&&N.implicitlyClosed.hasOwnProperty(P(te.context.tagName))&&V(te),te.context&&te.context.tagName==Ee||!1===N.matchClosing?(Z="tag",Ce):(Z="tag error",Ne)}return N.allowMissingTagName&&"endTag"==W?(Z="tag bracket",Ce(W,0,te)):(Z="error",Ne)}function Ce(W,oe,te){return"endTag"!=W?(Z="error",Ce):(V(te),ce)}function Ne(W,oe,te){return Z="error",Ce(W,0,te)}function se(W,oe,te){if("word"==W)return Z="attribute",Q;if("endTag"==W||"selfcloseTag"==W){var Ee=te.tagName,Ye=te.tagStart;return te.tagName=te.tagStart=null,"selfcloseTag"==W||N.autoSelfClosers.hasOwnProperty(P(Ee))?Y(te,Ee):(Y(te,Ee),te.context=new j(te,Ee,Ye==te.indented)),ce}return Z="error",se}function Q(W,oe,te){return"equals"==W?Fe:(N.allowMissing||(Z="error"),se(W,0,te))}function Fe(W,oe,te){return"string"==W?We:"word"==W&&N.allowUnquoted?(Z="string",se):(Z="error",se(W,0,te))}function We(W,oe,te){return"string"==W?We:se(W,0,te)}return fe.isInText=!0,{startState:function(W){var oe={tokenize:fe,state:ce,indented:W||0,tagName:null,tagStart:null,context:null};return null!=W&&(oe.baseIndent=W),oe},token:function(W,oe){if(!oe.tagName&&W.sol()&&(oe.indented=W.indentation()),W.eatSpace())return null;J=null;var te=oe.tokenize(W,oe);return(te||J)&&"comment"!=te&&(Z=null,oe.state=oe.state(J||te,W,oe),Z&&(te="error"==Z?te+" error":Z)),te},indent:function(W,oe,te){var Ee=W.context;if(W.tokenize.isInAttribute)return W.tagStart==W.indented?W.stringStartCol+1:W.indented+A;if(Ee&&Ee.noIndent)return U.Pass;if(W.tokenize!=ae&&W.tokenize!=fe)return te?te.match(/^(\s*)/)[0].length:0;if(W.tagName)return!1!==N.multilineTagIndentPastTag?W.tagStart+W.tagName.length+2:W.tagStart+A*(N.multilineTagIndentFactor||1);if(N.alignCDATA&&/<!\[CDATA\[/.test(oe))return 0;var Ye=oe&&/^<(\/)?([\w_:\.-]*)/.exec(oe);if(Ye&&Ye[1])for(;Ee;){if(Ee.tagName==Ye[2]){Ee=Ee.prev;break}if(!N.implicitlyClosed.hasOwnProperty(P(Ee.tagName)))break;Ee=Ee.prev}else if(Ye)for(;Ee;){var at=N.contextGrabbers[P(Ee.tagName)];if(!at||!at.hasOwnProperty(P(Ye[2])))break;Ee=Ee.prev}for(;Ee&&Ee.prev&&!Ee.startOfLine;)Ee=Ee.prev;return Ee?Ee.indent+A:W.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:N.htmlMode?"html":"xml",helperType:N.htmlMode?"html":"xml",skipAttribute:function(W){W.state==Fe&&(W.state=se)},xmlCurrentTag:function(W){return W.tagName?{name:W.tagName,close:"closeTag"==W.type}:null},xmlCurrentContext:function(W){for(var oe=[],te=W.context;te;te=te.prev)oe.push(te.tagName);return oe.reverse()}}}),U.defineMIME("text/xml","xml"),U.defineMIME("application/xml","xml"),U.mimeModes.hasOwnProperty("text/html")||U.defineMIME("text/html",{name:"xml",htmlMode:!0})}(me(68266))},46171:(ot,He,me)=>{var U=me(68266);U.commands.tabAndIndentMarkdownList=function(z){var B=z.listSelections();if(!1!==z.getStateAfter(B[0].head.line).list)z.execCommand("indentMore");else if(z.options.indentWithTabs)z.execCommand("insertTab");else{var N=Array(z.options.tabSize+1).join(" ");z.replaceSelection(N)}},U.commands.shiftTabAndUnindentMarkdownList=function(z){var B=z.listSelections();if(!1!==z.getStateAfter(B[0].head.line).list)z.execCommand("indentLess");else if(z.options.indentWithTabs)z.execCommand("insertTab");else{var N=Array(z.options.tabSize+1).join(" ");z.replaceSelection(N)}}},29756:(ot,He,me)=>{"use strict";var U=me(68266);me(91914),me(46171),me(31366),me(50521),me(76128),me(41831),me(79284),me(53347),me(36653),me(41317),me(97684);var z=me(26165),B=me(36704).TU,H=/Mac/.test(navigator.platform),F=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),A={toggleBold:Ce,toggleItalic:Ne,drawLink:m,toggleHeadingSmaller:We,toggleHeadingBigger:W,drawImage:g,toggleBlockquote:Fe,toggleOrderedList:at,toggleUnorderedList:Ye,toggleCodeBlock:Q,togglePreview:Se,toggleStrikethrough:se,toggleHeading1:oe,toggleHeading2:te,toggleHeading3:Ee,cleanBlock:ke,drawTable:Te,drawHorizontalRule:Ke,undo:st,redo:$e,toggleSideBySide:be,toggleFullScreen:X},N={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},ne=function(){var v,c=!1;return v=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(v)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(v.substr(0,4)))&&(c=!0),c};function fe(c){return H?c.replace("Ctrl","Cmd"):c.replace("Cmd","Ctrl")}var ae={};function he(c){return ae[c]||(ae[c]=new RegExp("\\s*"+c+"(\\s*)","g"))}function we(c,v){if(c&&v){var x=he(v);c.className.match(x)||(c.className+=" "+v)}}function xe(c,v){if(c&&v){var x=he(v);!c.className.match(x)||(c.className=c.className.replace(x,"$1"))}}function P(c,v,x,E){var S=j(c,!1,v,x,"button",E);S.className+=" easymde-dropdown",S.onclick=function(){S.focus()};var w=document.createElement("div");w.className="easymde-dropdown-content";for(var T=0;T<c.children.length;T++){var I,L=c.children[T];(I=j("string"==typeof L&&L in _?_[L]:L,!0,v,x,"button",E)).addEventListener("click",function(ee){ee.stopPropagation()},!1),w.appendChild(I)}return S.appendChild(w),S}function j(c,v,x,E,S,w){c=c||{};var T=document.createElement(S);if(c.attributes)for(var L in c.attributes)Object.prototype.hasOwnProperty.call(c.attributes,L)&&T.setAttribute(L,c.attributes[L]);T.className=c.name,T.setAttribute("type",S),x=null==x||x,c.name&&c.name in E&&(A[c.name]=c.action),c.title&&x&&(T.title=function Y(c,v,x){var E,S=c;return v&&(E=function(c){for(var v in A)if(A[v]===c)return v;return null}(v),x[E]&&(S+=" ("+fe(x[E])+")")),S}(c.title,c.action,E),H&&(T.title=T.title.replace("Ctrl","\u2318"),T.title=T.title.replace("Alt","\u2325"))),c.noDisable&&T.classList.add("no-disable"),c.noMobile&&T.classList.add("no-mobile");var I=[];void 0!==c.className&&(I=c.className.split(" "));for(var ee=[],ie=0;ie<I.length;ie++){var Oe=I[ie];Oe.match(/^fa([srlb]|(-[\w-]*)|$)/)?ee.push(Oe):T.classList.add(Oe)}T.tabIndex=-1;for(var Be=document.createElement("i"),ye=0;ye<ee.length;ye++)Be.classList.add(ee[ye]);return T.appendChild(Be),void 0!==c.icon&&(T.innerHTML=c.icon),c.action&&v&&("function"==typeof c.action?T.onclick=function(Re){Re.preventDefault(),c.action(w)}:"string"==typeof c.action&&(T.onclick=function(Re){Re.preventDefault(),window.open(c.action,"_blank")})),T}function V(){var c=document.createElement("i");return c.className="separator",c.innerHTML="|",c}function ce(c,v){v=v||c.getCursor("start");var x=c.getTokenAt(v);if(!x.type)return{};for(var w,T,E=x.type.split(" "),S={},L=0;L<E.length;L++)"strong"===(w=E[L])?S.bold=!0:"variable-2"===w?(T=c.getLine(v.line),/^\s*\d+\.\s/.test(T)?S["ordered-list"]=!0:S["unordered-list"]=!0):"atom"===w?S.quote=!0:"em"===w?S.italic=!0:"quote"===w?S.quote=!0:"strikethrough"===w?S.strikethrough=!0:"comment"===w?S.code=!0:"link"===w?S.link=!0:"tag"===w?S.image=!0:w.match(/^header(-[1-6])?$/)&&(S[w.replace("header","heading")]=!0);return S}var le="";function X(c){var v=c.codemirror;v.setOption("fullScreen",!v.getOption("fullScreen")),v.getOption("fullScreen")?(le=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=le;var x=v.getWrapperElement(),E=x.nextSibling;if(/editor-preview-active-side/.test(E.className))if(!1===c.options.sideBySideFullscreen){var S=x.parentNode;v.getOption("fullScreen")?xe(S,"sided--no-fullscreen"):we(S,"sided--no-fullscreen")}else be(c);if(c.options.onToggleFullScreen&&c.options.onToggleFullScreen(v.getOption("fullScreen")||!1),void 0!==c.options.maxHeight&&(v.getOption("fullScreen")?(v.getScrollerElement().style.removeProperty("height"),E.style.removeProperty("height")):(v.getScrollerElement().style.height=c.options.maxHeight,c.setPreviewMaxHeight())),/fullscreen/.test(c.toolbar_div.className)?c.toolbar_div.className=c.toolbar_div.className.replace(/\s*fullscreen\b/,""):c.toolbar_div.className+=" fullscreen",c.toolbarElements&&c.toolbarElements.fullscreen){var w=c.toolbarElements.fullscreen;/active/.test(w.className)?w.className=w.className.replace(/\s*active\s*/g,""):w.className+=" active"}}function Ce(c){jt(c,"bold",c.options.blockStyles.bold)}function Ne(c){jt(c,"italic",c.options.blockStyles.italic)}function se(c){jt(c,"strikethrough","~~")}function Q(c){var v=c.options.blockStyles.code;function x(ft){if("object"!=typeof ft)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ft+": "+ft;return ft.styles&&ft.styles[2]&&-1!==ft.styles[2].indexOf("formatting-code-block")}function E(ft){return ft.state.base.base||ft.state.base}function S(ft,$t,St,Ht,Mt){St=St||ft.getLineHandle($t),Ht=Ht||ft.getTokenAt({line:$t,ch:1}),Mt=Mt||!!St.text&&ft.getTokenAt({line:$t,ch:St.text.length-1});var tn=Ht.type?Ht.type.split(" "):[];return Mt&&E(Mt).indentedCode?"indented":-1!==tn.indexOf("comment")&&(E(Ht).fencedChars||E(Mt).fencedChars||x(St)?"fenced":"single")}var Be,ye,Ie,T=c.codemirror,L=T.getCursor("start"),I=T.getCursor("end"),ee=T.getTokenAt({line:L.line,ch:L.ch||1}),ie=T.getLineHandle(L.line),Oe=S(T,L.line,ie,ee);if("single"===Oe){var Re=ie.text.slice(0,L.ch).replace("`",""),qe=ie.text.slice(L.ch).replace("`","");T.replaceRange(Re+qe,{line:L.line,ch:0},{line:L.line,ch:99999999999999}),L.ch--,L!==I&&I.ch--,T.setSelection(L,I),T.focus()}else if("fenced"===Oe)if(L.line!==I.line||L.ch!==I.ch){for(Be=L.line;Be>=0&&!x(ie=T.getLineHandle(Be));Be--);var nt,Ft,en,Zt,pt=E(T.getTokenAt({line:Be,ch:1})).fencedChars;x(T.getLineHandle(L.line))?(nt="",Ft=L.line):x(T.getLineHandle(L.line-1))?(nt="",Ft=L.line-1):(nt=pt+"\n",Ft=L.line),x(T.getLineHandle(I.line))?(en="",Zt=I.line,0===I.ch&&(Zt+=1)):0!==I.ch&&x(T.getLineHandle(I.line+1))?(en="",Zt=I.line+1):(en=pt+"\n",Zt=I.line+1),0===I.ch&&(Zt-=1),T.operation(function(){T.replaceRange(en,{line:Zt,ch:0},{line:Zt+(en?0:1),ch:0}),T.replaceRange(nt,{line:Ft,ch:0},{line:Ft+(nt?0:1),ch:0})}),T.setSelection({line:Ft+(nt?1:0),ch:0},{line:Zt+(nt?1:-1),ch:0}),T.focus()}else{var Tn=L.line;if(x(T.getLineHandle(L.line))&&("fenced"===S(T,L.line+1)?(Be=L.line,Tn=L.line+1):(ye=L.line,Tn=L.line-1)),void 0===Be)for(Be=Tn;Be>=0&&!x(ie=T.getLineHandle(Be));Be--);if(void 0===ye)for(Ie=T.lineCount(),ye=Tn;ye<Ie&&!x(ie=T.getLineHandle(ye));ye++);T.operation(function(){T.replaceRange("",{line:Be,ch:0},{line:Be+1,ch:0}),T.replaceRange("",{line:ye-1,ch:0},{line:ye,ch:0})}),T.focus()}else if("indented"===Oe){if(L.line!==I.line||L.ch!==I.ch)Be=L.line,ye=I.line,0===I.ch&&ye--;else{for(Be=L.line;Be>=0;Be--)if(!(ie=T.getLineHandle(Be)).text.match(/^\s*$/)&&"indented"!==S(T,Be,ie)){Be+=1;break}for(Ie=T.lineCount(),ye=L.line;ye<Ie;ye++)if(!(ie=T.getLineHandle(ye)).text.match(/^\s*$/)&&"indented"!==S(T,ye,ie)){ye-=1;break}}var Ln=T.getLineHandle(ye+1),Er=Ln&&T.getTokenAt({line:ye+1,ch:Ln.text.length-1});Er&&E(Er).indentedCode&&T.replaceRange("\n",{line:ye+1,ch:0});for(var Kt=Be;Kt<=ye;Kt++)T.indentLine(Kt,"subtract");T.focus()}else L.line===I.line&&L.ch===I.ch&&0===L.ch||L.line!==I.line?function w(ft,$t,St,Ht){var Mt=$t.line+1,tn=St.line+1,Jn=$t.line!==St.line,Ae="\n"+Ht;Jn&&tn++,Jn&&0===St.ch&&(Ae=Ht+"\n",tn--),Ze(ft,!1,[Ht+"\n",Ae]),ft.setSelection({line:Mt,ch:0},{line:tn,ch:0})}(T,L,I,v):Ze(T,!1,["`","`"])}function Fe(c){wt(c.codemirror,"quote")}function We(c){_e(c.codemirror,"smaller")}function W(c){_e(c.codemirror,"bigger")}function oe(c){_e(c.codemirror,void 0,1)}function te(c){_e(c.codemirror,void 0,2)}function Ee(c){_e(c.codemirror,void 0,3)}function Ye(c){var v=c.codemirror,x="*";["-","+","*"].includes(c.options.unorderedListStyle)&&(x=c.options.unorderedListStyle),wt(v,"unordered-list",x)}function at(c){wt(c.codemirror,"ordered-list")}function ke(c){!function Rt(c){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className))for(var E,v=c.getCursor("start"),x=c.getCursor("end"),S=v.line;S<=x.line;S++)E=(E=c.getLine(S)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),c.replaceRange(E,{line:S,ch:0},{line:S,ch:99999999999999})}(c.codemirror)}function m(c){var v=c.codemirror,x=ce(v),E=c.options,S="https://";if(E.promptURLs&&!(S=prompt(E.promptTexts.link,"https://")))return!1;Ze(v,x.link,E.insertTexts.link,S)}function g(c){var v=c.codemirror,x=ce(v),E=c.options,S="https://";if(E.promptURLs&&!(S=prompt(E.promptTexts.image,"https://")))return!1;Ze(v,x.image,E.insertTexts.image,S)}function ge(c){c.openBrowseFileWindow()}function Ue(c,v){var x=c.codemirror,E=ce(x),S=c.options,w=v.substr(v.lastIndexOf("/")+1),T=w.substring(w.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg"].includes(T))Ze(x,E.image,S.insertTexts.uploadedImage,v);else{var L=S.insertTexts.link;L[0]="["+w,Ze(x,E.link,L,v)}c.updateStatusBar("upload-image",c.options.imageTexts.sbOnUploaded.replace("#image_name#",w)),setTimeout(function(){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit)},1e3)}function Te(c){var v=c.codemirror;Ze(v,ce(v).table,c.options.insertTexts.table)}function Ke(c){var v=c.codemirror;Ze(v,ce(v).image,c.options.insertTexts.horizontalRule)}function st(c){var v=c.codemirror;v.undo(),v.focus()}function $e(c){var v=c.codemirror;v.redo(),v.focus()}function be(c){var v=c.codemirror,x=v.getWrapperElement(),E=x.nextSibling,S=c.toolbarElements&&c.toolbarElements["side-by-side"],w=!1,T=x.parentNode;/editor-preview-active-side/.test(E.className)?(!1===c.options.sideBySideFullscreen&&xe(T,"sided--no-fullscreen"),E.className=E.className.replace(/\s*editor-preview-active-side\s*/g,""),S&&(S.className=S.className.replace(/\s*active\s*/g,"")),x.className=x.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){v.getOption("fullScreen")||(!1===c.options.sideBySideFullscreen?we(T,"sided--no-fullscreen"):X(c)),E.className+=" editor-preview-active-side"},1),S&&(S.className+=" active"),x.className+=" CodeMirror-sided",w=!0);var L=x.lastChild;if(/editor-preview-active/.test(L.className)){L.className=L.className.replace(/\s*editor-preview-active\s*/g,"");var I=c.toolbarElements.preview,ee=c.toolbar_div;I.className=I.className.replace(/\s*active\s*/g,""),ee.className=ee.className.replace(/\s*disabled-for-preview*/g,"")}if(v.sideBySideRenderingFunction||(v.sideBySideRenderingFunction=function(){var Be=c.options.previewRender(c.value(),E);null!=Be&&(E.innerHTML=Be)}),w){var Oe=c.options.previewRender(c.value(),E);null!=Oe&&(E.innerHTML=Oe),v.on("update",v.sideBySideRenderingFunction)}else v.off("update",v.sideBySideRenderingFunction);v.refresh()}function Se(c){var v=c.codemirror,x=v.getWrapperElement(),E=c.toolbar_div,S=!!c.options.toolbar&&c.toolbarElements.preview,w=x.lastChild,T=v.getWrapperElement().nextSibling;if(/editor-preview-active-side/.test(T.className)&&be(c),!w||!/editor-preview-full/.test(w.className)){if((w=document.createElement("div")).className="editor-preview-full",c.options.previewClass)if(Array.isArray(c.options.previewClass))for(var L=0;L<c.options.previewClass.length;L++)w.className+=" "+c.options.previewClass[L];else"string"==typeof c.options.previewClass&&(w.className+=" "+c.options.previewClass);x.appendChild(w)}/editor-preview-active/.test(w.className)?(w.className=w.className.replace(/\s*editor-preview-active\s*/g,""),S&&(S.className=S.className.replace(/\s*active\s*/g,""),E.className=E.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){w.className+=" editor-preview-active"},1),S&&(S.className+=" active",E.className+=" disabled-for-preview")),w.innerHTML=c.options.previewRender(c.value(),w)}function Ze(c,v,x,E){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){var S,w=x[0],T=x[1],L={},I={};Object.assign(L,c.getCursor("start")),Object.assign(I,c.getCursor("end")),E&&(w=w.replace("#url#",E),T=T.replace("#url#",E)),v?(w=(S=c.getLine(L.line)).slice(0,L.ch),T=S.slice(L.ch),c.replaceRange(w+T,{line:L.line,ch:0})):(S=c.getSelection(),c.replaceSelection(w+S+T),L.ch+=w.length,L!==I&&(I.ch+=w.length)),c.setSelection(L,I),c.focus()}}function _e(c,v,x){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var E=c.getCursor("start"),S=c.getCursor("end"),w=E.line;w<=S.line;w++)L=void 0,void 0,I=(L=c.getLine(T=w)).search(/[^#]/),L=void 0!==v?I<=0?"bigger"==v?"###### "+L:"# "+L:6==I&&"smaller"==v?L.substr(7):1==I&&"bigger"==v?L.substr(2):"bigger"==v?L.substr(1):"#"+L:1==x?I<=0?"# "+L:I==x?L.substr(I+1):"# "+L.substr(I+1):2==x?I<=0?"## "+L:I==x?L.substr(I+1):"## "+L.substr(I+1):I<=0?"### "+L:I==x?L.substr(I+1):"### "+L.substr(I+1),c.replaceRange(L,{line:T,ch:0},{line:T,ch:99999999999999});c.focus()}var T,L,I}function wt(c,v,x){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var E=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,S=/^\s*/,w=ce(c),T=c.getCursor("start"),L=c.getCursor("end"),I={quote:/^(\s*)>\s+/,"unordered-list":E,"ordered-list":E},Oe=function(Ie,Re,qe){var je=E.exec(Re),pt=function(Ie,Re){return{quote:">","unordered-list":x,"ordered-list":"%%i."}[Ie].replace("%%i",Re)}(Ie,Be);return null!==je?(function(Ie,Re){var je=new RegExp({quote:">","unordered-list":"\\"+x,"ordered-list":"\\d+."}[Ie]);return Re&&je.test(Re)}(Ie,je[2])&&(pt=""),Re=je[1]+pt+je[3]+Re.replace(S,"").replace(I[Ie],"$1")):0==qe&&(Re=pt+" "+Re),Re},Be=1,ye=T.line;ye<=L.line;ye++)Re=void 0,Re=c.getLine(Ie=ye),w[v]?Re=Re.replace(I[v],"$1"):("unordered-list"==v&&(Re=Oe("ordered-list",Re,!0)),Re=Oe(v,Re,!1),Be+=1),c.replaceRange(Re,{line:Ie,ch:0},{line:Ie,ch:99999999999999});c.focus()}var Ie,Re}function jt(c,v,x,E){if(!/editor-preview-active/.test(c.codemirror.getWrapperElement().lastChild.className)){E=void 0===E?x:E;var T,S=c.codemirror,w=ce(S),L=x,I=E,ee=S.getCursor("start"),ie=S.getCursor("end");w[v]?(L=(T=S.getLine(ee.line)).slice(0,ee.ch),I=T.slice(ee.ch),"bold"==v?(L=L.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),I=I.replace(/(\*\*|__)/,"")):"italic"==v?(L=L.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),I=I.replace(/(\*|_)/,"")):"strikethrough"==v&&(L=L.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),I=I.replace(/(\*\*|~~)/,"")),S.replaceRange(L+I,{line:ee.line,ch:0},{line:ee.line,ch:99999999999999}),"bold"==v||"strikethrough"==v?(ee.ch-=2,ee!==ie&&(ie.ch-=2)):"italic"==v&&(ee.ch-=1,ee!==ie&&(ie.ch-=1))):(T=S.getSelection(),"bold"==v?T=(T=T.split("**").join("")).split("__").join(""):"italic"==v?T=(T=T.split("*").join("")).split("_").join(""):"strikethrough"==v&&(T=T.split("~~").join("")),S.replaceSelection(L+T+I),ee.ch+=x.length,ie.ch=ee.ch+T.length),S.setSelection(ee,ie),S.focus()}}function kt(c,v){if(Math.abs(c)<1024)return""+c+v[0];var x=0;do{c/=1024,++x}while(Math.abs(c)>=1024&&x<v.length);return""+c.toFixed(1)+v[x]}function Pt(c,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(c[x]=v[x]instanceof Array?v[x].concat(c[x]instanceof Array?c[x]:[]):null!==v[x]&&"object"==typeof v[x]&&v[x].constructor===Object?Pt(c[x]||{},v[x]):v[x]);return c}function ut(c){for(var v=1;v<arguments.length;v++)c=Pt(c,arguments[v]);return c}function R(c){var x=c.match(/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),E=0;if(null===x)return E;for(var S=0;S<x.length;S++)x[S].charCodeAt(0)>=19968?E+=x[S].length:E+=1;return E}var _={bold:{name:"bold",action:Ce,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:Ne,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:se,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:We,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:We,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:W,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:oe,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:te,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ee,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:Q,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:Fe,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Ye,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:at,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:ke,className:"fa fa-eraser",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:m,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:g,className:"fa fa-image",title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ge,className:"fa fa-image",title:"Import an image"},table:{name:"table",action:Te,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ke,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Se,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:be,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:X,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:st,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:$e,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},D={link:["[","](#url#)"],image:["![](","#url#)"],uploadedImage:["![](#url#)",""],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},a={link:"URL for the link:",image:"URL of the image:"},l={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},u={bold:"**",code:"```",italic:"*"},d={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},b={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:"Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.",importError:"Something went wrong when uploading the image #image_name#."};function k(c){(c=c||{}).parent=this;var v=!0;if(!1===c.autoDownloadFontAwesome&&(v=!1),!0!==c.autoDownloadFontAwesome)for(var x=document.styleSheets,E=0;E<x.length;E++)!x[E].href||x[E].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(v=!1);if(v){var S=document.createElement("link");S.rel="stylesheet",S.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(S)}if(c.element)this.element=c.element;else if(null===c.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===c.toolbar)for(var w in c.toolbar=[],_)Object.prototype.hasOwnProperty.call(_,w)&&(-1!=w.indexOf("separator-")&&c.toolbar.push("|"),(!0===_[w].default||c.showIcons&&c.showIcons.constructor===Array&&-1!=c.showIcons.indexOf(w))&&c.toolbar.push(w));if(Object.prototype.hasOwnProperty.call(c,"previewClass")||(c.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(c,"status")||(c.status=["autosave","lines","words","cursor"],c.uploadImage&&c.status.unshift("upload-image")),c.previewRender||(c.previewRender=function(L){return this.parent.markdown(L)}),c.parsingConfig=ut({highlightFormatting:!0},c.parsingConfig||{}),c.insertTexts=ut({},D,c.insertTexts||{}),c.promptTexts=ut({},a,c.promptTexts||{}),c.blockStyles=ut({},u,c.blockStyles||{}),null!=c.autosave&&(c.autosave.timeFormat=ut({},l,c.autosave.timeFormat||{})),c.shortcuts=ut({},N,c.shortcuts||{}),c.maxHeight=c.maxHeight||void 0,c.direction=c.direction||"ltr",c.minHeight=void 0!==c.maxHeight?c.maxHeight:c.minHeight||"300px",c.errorCallback=c.errorCallback||function(L){alert(L)},c.uploadImage=c.uploadImage||!1,c.imageMaxSize=c.imageMaxSize||2097152,c.imageAccept=c.imageAccept||"image/png, image/jpeg",c.imageTexts=ut({},d,c.imageTexts||{}),c.errorMessages=ut({},b,c.errorMessages||{}),null!=c.autosave&&null!=c.autosave.unique_id&&""!=c.autosave.unique_id&&(c.autosave.uniqueId=c.autosave.unique_id),c.overlayMode&&void 0===c.overlayMode.combine&&(c.overlayMode.combine=!0),this.options=c,this.render(),c.initialValue&&(!this.options.autosave||!0!==this.options.autosave.foundSavedValue)&&this.value(c.initialValue),c.uploadImage){var T=this;this.codemirror.on("dragenter",function(L,I){T.updateStatusBar("upload-image",T.options.imageTexts.sbOnDragEnter),I.stopPropagation(),I.preventDefault()}),this.codemirror.on("dragend",function(L,I){T.updateStatusBar("upload-image",T.options.imageTexts.sbInit),I.stopPropagation(),I.preventDefault()}),this.codemirror.on("dragleave",function(L,I){T.updateStatusBar("upload-image",T.options.imageTexts.sbInit),I.stopPropagation(),I.preventDefault()}),this.codemirror.on("dragover",function(L,I){T.updateStatusBar("upload-image",T.options.imageTexts.sbOnDragEnter),I.stopPropagation(),I.preventDefault()}),this.codemirror.on("drop",function(L,I){I.stopPropagation(),I.preventDefault(),c.imageUploadFunction?T.uploadImagesUsingCustomFunction(c.imageUploadFunction,I.dataTransfer.files):T.uploadImages(I.dataTransfer.files)}),this.codemirror.on("paste",function(L,I){c.imageUploadFunction?T.uploadImagesUsingCustomFunction(c.imageUploadFunction,I.clipboardData.files):T.uploadImages(I.clipboardData.files)})}}function q(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(c){return!1}return!0}k.prototype.uploadImages=function(c,v,x){if(0!==c.length){for(var E=[],S=0;S<c.length;S++)E.push(c[S].name),this.uploadImage(c[S],v,x);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",E.join(", ")))}},k.prototype.uploadImagesUsingCustomFunction=function(c,v){if(0!==v.length){for(var x=[],E=0;E<v.length;E++)x.push(v[E].name),this.uploadImageUsingCustomFunction(c,v[E]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",x.join(", ")))}},k.prototype.updateStatusBar=function(c,v){if(this.gui.statusbar){var x=this.gui.statusbar.getElementsByClassName(c);1===x.length?this.gui.statusbar.getElementsByClassName(c)[0].textContent=v:0===x.length?console.log("EasyMDE: status bar item "+c+" was not found."):console.log("EasyMDE: Several status bar items named "+c+" was found.")}},k.prototype.markdown=function(c){if(B){var v;if((v=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{}).breaks=!this.options||!this.options.renderingConfig||!1!==this.options.renderingConfig.singleLineBreaks,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var x=this.options.renderingConfig.hljs||window.hljs;x&&(v.highlight=function(S,w){return w&&x.getLanguage(w)?x.highlight(w,S).value:x.highlightAuto(S).value})}B.setOptions(v);var E=B.parse(c);return this.options.renderingConfig&&"function"==typeof this.options.renderingConfig.sanitizerFunction&&(E=this.options.renderingConfig.sanitizerFunction.call(this,E)),E=function J(c){for(var v;null!==(v=F.exec(c));){var x=v[0];if(-1===x.indexOf("target=")){var E=x.replace(/>$/,' target="_blank">');c=c.replace(x,E)}}return c}(E),E=function Z(c){for(var x=(new DOMParser).parseFromString(c,"text/html"),E=x.getElementsByTagName("li"),S=0;S<E.length;S++)for(var w=E[S],T=0;T<w.children.length;T++){var L=w.children[T];L instanceof HTMLInputElement&&"checkbox"===L.type&&(w.style.marginLeft="-1.5em",w.style.listStyleType="none")}return x.documentElement.innerHTML}(E),E}},k.prototype.render=function(c){if(c||(c=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==c){this.element=c;var w,T,v=this.options,x=this,E={};for(var S in v.shortcuts)null!==v.shortcuts[S]&&null!==A[S]&&function(qe){E[fe(v.shortcuts[qe])]=function(){var je=A[qe];"function"==typeof je?je(x):"string"==typeof je&&window.open(je,"_blank")}}(S);if(E.Enter="newlineAndIndentContinueMarkdownList",E.Tab="tabAndIndentMarkdownList",E["Shift-Tab"]="shiftTabAndUnindentMarkdownList",E.Esc=function(qe){qe.getOption("fullScreen")&&X(x)},this.documentOnKeyDown=function(qe){27==(qe=qe||window.event).keyCode&&x.codemirror.getOption("fullScreen")&&X(x)},document.addEventListener("keydown",this.documentOnKeyDown,!1),v.overlayMode?(U.defineMode("overlay-mode",function(qe){return U.overlayMode(U.getMode(qe,!1!==v.spellChecker?"spell-checker":"gfm"),v.overlayMode.mode,v.overlayMode.combine)}),w="overlay-mode",(T=v.parsingConfig).gitHubSpice=!1):((w=v.parsingConfig).name="gfm",w.gitHubSpice=!1),!1!==v.spellChecker&&(w="spell-checker",(T=v.parsingConfig).name="gfm",T.gitHubSpice=!1,"function"==typeof v.spellChecker?v.spellChecker({codeMirrorInstance:U}):z({codeMirrorInstance:U})),this.codemirror=U.fromTextArea(c,{mode:w,backdrop:T,theme:null!=v.theme?v.theme:"easymde",tabSize:null!=v.tabSize?v.tabSize:2,indentUnit:null!=v.tabSize?v.tabSize:2,indentWithTabs:!1!==v.indentWithTabs,lineNumbers:!0===v.lineNumbers,autofocus:!0===v.autofocus,extraKeys:E,direction:v.direction,lineWrapping:!1!==v.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:v.placeholder||c.getAttribute("placeholder")||"",styleSelectedText:null!=v.styleSelectedText?v.styleSelectedText:!ne(),scrollbarStyle:null!=v.scrollbarStyle?v.scrollbarStyle:"native",configureMouse:function L(qe,je,pt){return{addNew:!1}},inputStyle:null!=v.inputStyle?v.inputStyle:ne()?"contenteditable":"textarea",spellcheck:null==v.nativeSpellcheck||v.nativeSpellcheck,autoRefresh:null!=v.autoRefresh&&v.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=v.minHeight,void 0!==v.maxHeight&&(this.codemirror.getScrollerElement().style.height=v.maxHeight),!0===v.forceSync){var I=this.codemirror;I.on("change",function(){I.save()})}this.gui={};var ee=document.createElement("div");ee.classList.add("EasyMDEContainer");var ie=this.codemirror.getWrapperElement();ie.parentNode.insertBefore(ee,ie),ee.appendChild(ie),!1!==v.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==v.status&&(this.gui.statusbar=this.createStatusbar()),null!=v.autosave&&!0===v.autosave.enabled&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(x._autosave_timeout),x._autosave_timeout=setTimeout(function(){x.autosave()},x.options.autosave.submit_delay||x.options.autosave.delay||1e3)}));var Be=this;this.codemirror.on("update",function(){!function Ie(){!v.previewImagesInEditor||ee.querySelectorAll(".cm-image-marker").forEach(function(qe){var je=qe.parentElement;if(je.innerText.match(/^!\[.*?\]\(.*\)/g)&&!je.hasAttribute("data-img-src")){var pt=je.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),pt&&pt.length>=2){var nt=pt[1];if(window.EMDEimagesCache[nt])ye(je,window.EMDEimagesCache[nt]);else{var Ft=document.createElement("img");Ft.onload=function(){window.EMDEimagesCache[nt]={naturalWidth:Ft.naturalWidth,naturalHeight:Ft.naturalHeight,url:nt},ye(je,window.EMDEimagesCache[nt])},Ft.src=nt}}}})}()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var Re=this.codemirror;setTimeout(function(){Re.refresh()}.bind(Re),0)}function ye(qe,je){qe.setAttribute("data-img-src",je.url),qe.setAttribute("style","--bg-image:url("+je.url+");--width:"+je.naturalWidth+"px;--height:"+function Oe(qe,je){return qe<window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","")?je+"px":je/qe*100+"%"}(je.naturalWidth,je.naturalHeight)),Be.codemirror.setSize()}},k.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)},k.prototype.autosave=function(){if(q()){var c=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=c.element.form&&null!=c.element.form&&c.element.form.addEventListener("submit",function(){clearTimeout(c.autosaveTimeoutId),c.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+c.options.autosave.uniqueId)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var v=c.value();""!==v?localStorage.setItem("smde_"+this.options.autosave.uniqueId,v):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var x=document.getElementById("autosaved");if(null!=x&&null!=x&&""!=x){var E=new Date,S=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(E);x.innerHTML=(null==this.options.autosave.text?"Autosaved: ":this.options.autosave.text)+S}}else console.log("EasyMDE: localStorage not available, cannot autosave")},k.prototype.clearAutosavedValue=function(){if(q()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},k.prototype.openBrowseFileWindow=function(c,v){var x=this,E=this.gui.toolbar.getElementsByClassName("imageInput")[0];E.click(),E.addEventListener("change",function S(w){x.options.imageUploadFunction?x.uploadImagesUsingCustomFunction(x.options.imageUploadFunction,w.target.files):x.uploadImages(w.target.files,c,v),E.removeEventListener("change",S)})},k.prototype.uploadImage=function(c,v,x){var E=this;function S(I){E.updateStatusBar("upload-image",I),setTimeout(function(){E.updateStatusBar("upload-image",E.options.imageTexts.sbInit)},1e4),x&&"function"==typeof x&&x(I),E.options.errorCallback(I)}function w(I){var ee=E.options.imageTexts.sizeUnits.split(",");return I.replace("#image_name#",c.name).replace("#image_size#",kt(c.size,ee)).replace("#image_max_size#",kt(E.options.imageMaxSize,ee))}if(v=v||function(ee){Ue(E,ee)},c.size>this.options.imageMaxSize)S(w(this.options.errorMessages.fileTooLarge));else{var T=new FormData;T.append("image",c),E.options.imageCSRFToken&&T.append("csrfmiddlewaretoken",E.options.imageCSRFToken);var L=new XMLHttpRequest;L.upload.onprogress=function(I){if(I.lengthComputable){var ee=""+Math.round(100*I.loaded/I.total);E.updateStatusBar("upload-image",E.options.imageTexts.sbProgress.replace("#file_name#",c.name).replace("#progress#",ee))}},L.open("POST",this.options.imageUploadEndpoint),L.onload=function(){try{var I=JSON.parse(this.responseText)}catch(ee){return console.error("EasyMDE: The server did not return a valid json."),void S(w(E.options.errorMessages.importError))}200===this.status&&I&&!I.error&&I.data&&I.data.filePath?v((E.options.imagePathAbsolute?"":window.location.origin+"/")+I.data.filePath):I.error&&I.error in E.options.errorMessages?S(w(E.options.errorMessages[I.error])):I.error?S(w(I.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),S(w(E.options.errorMessages.importError)))},L.onerror=function(I){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+I.target.status+" ("+I.target.statusText+")"),S(E.options.errorMessages.importError)},L.send(T)}},k.prototype.uploadImageUsingCustomFunction=function(c,v){var x=this;c.apply(this,[v,function E(T){Ue(x,T)},function S(T){var L=function w(T){var L=x.options.imageTexts.sizeUnits.split(",");return T.replace("#image_name#",v.name).replace("#image_size#",kt(v.size,L)).replace("#image_max_size#",kt(x.options.imageMaxSize,L))}(T);x.updateStatusBar("upload-image",L),setTimeout(function(){x.updateStatusBar("upload-image",x.options.imageTexts.sbInit)},1e4),x.options.errorCallback(L)}])},k.prototype.setPreviewMaxHeight=function(){var v=this.codemirror.getWrapperElement(),x=v.nextSibling,E=parseInt(window.getComputedStyle(v).paddingTop),S=parseInt(window.getComputedStyle(v).borderTopWidth),L=(parseInt(this.options.maxHeight)+2*E+2*S).toString()+"px";x.style.height=L},k.prototype.createSideBySide=function(){var c=this.codemirror,v=c.getWrapperElement(),x=v.nextSibling;if(!x||!/editor-preview-side/.test(x.className)){if((x=document.createElement("div")).className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var E=0;E<this.options.previewClass.length;E++)x.className+=" "+this.options.previewClass[E];else"string"==typeof this.options.previewClass&&(x.className+=" "+this.options.previewClass);v.parentNode.insertBefore(x,v.nextSibling)}if(void 0!==this.options.maxHeight&&this.setPreviewMaxHeight(),!1===this.options.syncSideBySidePreviewScroll)return x;var S=!1,w=!1;return c.on("scroll",function(T){if(S)S=!1;else{w=!0;var L=T.getScrollInfo().height-T.getScrollInfo().clientHeight,I=parseFloat(T.getScrollInfo().top)/L;x.scrollTop=(x.scrollHeight-x.clientHeight)*I}}),x.onscroll=function(){if(w)w=!1;else{S=!0;var T=x.scrollHeight-x.clientHeight,L=parseFloat(x.scrollTop)/T,I=(c.getScrollInfo().height-c.getScrollInfo().clientHeight)*L;c.scrollTo(0,I)}},x},k.prototype.createToolbar=function(c){if((c=c||this.options.toolbar)&&0!==c.length){var v;for(v=0;v<c.length;v++)null!=_[c[v]]&&(c[v]=_[c[v]]);var x=document.createElement("div");x.className="editor-toolbar";var E=this,S={};for(E.toolbar=c,v=0;v<c.length;v++)if(!("guide"==c[v].name&&!1===E.options.toolbarGuideIcon||E.options.hideIcons&&-1!=E.options.hideIcons.indexOf(c[v].name)||("fullscreen"==c[v].name||"side-by-side"==c[v].name)&&ne())){if("|"===c[v]){for(var w=!1,T=v+1;T<c.length;T++)"|"!==c[T]&&(!E.options.hideIcons||-1==E.options.hideIcons.indexOf(c[T].name))&&(w=!0);if(!w)continue}!function(ee){var ie;if(ie="|"===ee?V():ee.children?P(ee,E.options.toolbarTips,E.options.shortcuts,E):j(ee,!0,E.options.toolbarTips,E.options.shortcuts,"button",E),S[ee.name||ee]=ie,x.appendChild(ie),"upload-image"===ee.name){var Oe=document.createElement("input");Oe.className="imageInput",Oe.type="file",Oe.multiple=!0,Oe.name="image",Oe.accept=E.options.imageAccept,Oe.style.display="none",Oe.style.opacity=0,x.appendChild(Oe)}}(c[v])}E.toolbar_div=x,E.toolbarElements=S;var L=this.codemirror;L.on("cursorActivity",function(){var Oe,Be,ee=ce(L);for(var ie in S)Be=void 0,Be=S[Oe=ie],ee[Oe]?Be.className+=" active":"fullscreen"!=Oe&&"side-by-side"!=Oe&&(Be.className=Be.className.replace(/\s*active\s*/g,""))});var I=L.getWrapperElement();return I.parentNode.insertBefore(x,I),x}},k.prototype.createStatusbar=function(c){var v=this.options,x=this.codemirror;if((c=c||this.options.status)&&0!==c.length){var S,w,T,L,E=[];for(S=0;S<c.length;S++)if(w=void 0,T=void 0,L=void 0,"object"==typeof c[S])E.push({className:c[S].className,defaultValue:c[S].defaultValue,onUpdate:c[S].onUpdate,onActivity:c[S].onActivity});else{var I=c[S];"words"===I?(L=function(ye){ye.innerHTML=R(x.getValue())},w=function(ye){ye.innerHTML=R(x.getValue())}):"lines"===I?(L=function(ye){ye.innerHTML=x.lineCount()},w=function(ye){ye.innerHTML=x.lineCount()}):"cursor"===I?(L=function(ye){ye.innerHTML="1:1"},T=function(ye){var Ie=x.getCursor();ye.innerHTML=Ie.line+1+":"+(Ie.ch+1)}):"autosave"===I?L=function(ye){null!=v.autosave&&!0===v.autosave.enabled&&ye.setAttribute("id","autosaved")}:"upload-image"===I&&(L=function(ye){ye.innerHTML=v.imageTexts.sbInit}),E.push({className:I,defaultValue:L,onUpdate:w,onActivity:T})}var ee=document.createElement("div");for(ee.className="editor-statusbar",S=0;S<E.length;S++){var ie=E[S],Oe=document.createElement("span");Oe.className=ie.className,"function"==typeof ie.defaultValue&&ie.defaultValue(Oe),"function"==typeof ie.onUpdate&&this.codemirror.on("update",function(ye,Ie){return function(){Ie.onUpdate(ye)}}(Oe,ie)),"function"==typeof ie.onActivity&&this.codemirror.on("cursorActivity",function(ye,Ie){return function(){Ie.onActivity(ye)}}(Oe,ie)),ee.appendChild(Oe)}var Be=this.codemirror.getWrapperElement();return Be.parentNode.insertBefore(ee,Be.nextSibling),ee}},k.prototype.value=function(c){var v=this.codemirror;if(void 0===c)return v.getValue();if(v.getDoc().setValue(c),this.isPreviewActive()){var E=v.getWrapperElement().lastChild;E.innerHTML=this.options.previewRender(c,E)}return this},k.toggleBold=Ce,k.toggleItalic=Ne,k.toggleStrikethrough=se,k.toggleBlockquote=Fe,k.toggleHeadingSmaller=We,k.toggleHeadingBigger=W,k.toggleHeading1=oe,k.toggleHeading2=te,k.toggleHeading3=Ee,k.toggleCodeBlock=Q,k.toggleUnorderedList=Ye,k.toggleOrderedList=at,k.cleanBlock=ke,k.drawLink=m,k.drawImage=g,k.drawUploadedImage=ge,k.drawTable=Te,k.drawHorizontalRule=Ke,k.undo=st,k.redo=$e,k.togglePreview=Se,k.toggleSideBySide=be,k.toggleFullScreen=X,k.prototype.toggleBold=function(){Ce(this)},k.prototype.toggleItalic=function(){Ne(this)},k.prototype.toggleStrikethrough=function(){se(this)},k.prototype.toggleBlockquote=function(){Fe(this)},k.prototype.toggleHeadingSmaller=function(){We(this)},k.prototype.toggleHeadingBigger=function(){W(this)},k.prototype.toggleHeading1=function(){oe(this)},k.prototype.toggleHeading2=function(){te(this)},k.prototype.toggleHeading3=function(){Ee(this)},k.prototype.toggleCodeBlock=function(){Q(this)},k.prototype.toggleUnorderedList=function(){Ye(this)},k.prototype.toggleOrderedList=function(){at(this)},k.prototype.cleanBlock=function(){ke(this)},k.prototype.drawLink=function(){m(this)},k.prototype.drawImage=function(){g(this)},k.prototype.drawUploadedImage=function(){ge(this)},k.prototype.drawTable=function(){Te(this)},k.prototype.drawHorizontalRule=function(){Ke(this)},k.prototype.undo=function(){st(this)},k.prototype.redo=function(){$e(this)},k.prototype.togglePreview=function(){Se(this)},k.prototype.toggleSideBySide=function(){be(this)},k.prototype.toggleFullScreen=function(){X(this)},k.prototype.isPreviewActive=function(){var v=this.codemirror.getWrapperElement();return/editor-preview-active/.test(v.lastChild.className)},k.prototype.isSideBySideActive=function(){var v=this.codemirror.getWrapperElement();return/editor-preview-active-side/.test(v.nextSibling.className)},k.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},k.prototype.getState=function(){return ce(this.codemirror)},k.prototype.toTextArea=function(){var c=this.codemirror,v=c.getWrapperElement(),x=v.parentNode;x&&(this.gui.toolbar&&x.removeChild(this.gui.toolbar),this.gui.statusbar&&x.removeChild(this.gui.statusbar),this.gui.sideBySide&&x.removeChild(this.gui.sideBySide)),x.parentNode.insertBefore(v,x),x.remove(),c.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},ot.exports=k},93293:(ot,He,me)=>{var U;(function(){"use strict";(U=function(z,B,H,F){F=F||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=F.flags||{},this.memoized={},this.loaded=!1;var N,K,ne,J,Z,A=this;function fe(xe,P){var j=A._readFile(xe,null,F.asyncLoad);F.asyncLoad?j.then(function(V){P(V)}):P(j)}function ae(xe){B=xe,H&&we()}function he(xe){H=xe,B&&we()}function we(){for(A.rules=A._parseAFF(B),A.compoundRuleCodes={},K=0,J=A.compoundRules.length;K<J;K++){var xe=A.compoundRules[K];for(ne=0,Z=xe.length;ne<Z;ne++)A.compoundRuleCodes[xe[ne]]=[]}for(K in"ONLYINCOMPOUND"in A.flags&&(A.compoundRuleCodes[A.flags.ONLYINCOMPOUND]=[]),A.dictionaryTable=A._parseDIC(H),A.compoundRuleCodes)0===A.compoundRuleCodes[K].length&&delete A.compoundRuleCodes[K];for(K=0,J=A.compoundRules.length;K<J;K++){var P=A.compoundRules[K],j="";for(ne=0,Z=P.length;ne<Z;ne++){var V=P[ne];j+=V in A.compoundRuleCodes?"("+A.compoundRuleCodes[V].join("|")+")":V}A.compoundRules[K]=new RegExp(j,"i")}A.loaded=!0,F.asyncLoad&&F.loadedCallback&&F.loadedCallback(A)}return z&&(A.dictionary=z,B&&H?we():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(N=F.dictionaryPath?F.dictionaryPath:"typo/dictionaries",B||fe(chrome.extension.getURL(N+"/"+z+"/"+z+".aff"),ae),H||fe(chrome.extension.getURL(N+"/"+z+"/"+z+".dic"),he)):(N=F.dictionaryPath?F.dictionaryPath:"undefined"!=typeof __dirname?__dirname+"/dictionaries":"./dictionaries",B||fe(N+"/"+z+"/"+z+".aff",ae),H||fe(N+"/"+z+"/"+z+".dic",he))),this}).prototype={load:function(z){for(var B in z)z.hasOwnProperty(B)&&(this[B]=z[B]);return this},_readFile:function(z,B,H){if(B=B||"utf8","undefined"!=typeof XMLHttpRequest){var F,A=new XMLHttpRequest;return A.open("GET",z,H),H&&(F=new Promise(function(K,ne){A.onload=function(){200===A.status?K(A.responseText):ne(A.statusText)},A.onerror=function(){ne(A.statusText)}})),A.overrideMimeType&&A.overrideMimeType("text/plain; charset="+B),A.send(null),H?F:A.responseText}var N=me(83082);try{if(N.existsSync(z))return N.readFileSync(z,B);console.log("Path "+z+" does not exist.")}catch(K){return console.log(K),""}},_parseAFF:function(z){var H,A,N,K,ne,J,Z,B={},fe=z.split(/\r?\n/);for(K=0,J=fe.length;K<J;K++)if(H=(H=this._removeAffixComments(fe[K])).trim()){var ae=H.split(/\s+/),he=ae[0];if("PFX"==he||"SFX"==he){var we=ae[1],xe=ae[2],P=[];for(ne=K+1,Z=K+1+(A=parseInt(ae[3],10));ne<Z;ne++){var j=(N=fe[ne].split(/\s+/))[2],V=N[3].split("/"),Y=V[0];"0"===Y&&(Y="");var ce=this.parseRuleCodes(V[1]),le=N[4],X={};X.add=Y,ce.length>0&&(X.continuationClasses=ce),"."!==le&&(X.match="SFX"===he?new RegExp(le+"$"):new RegExp("^"+le)),"0"!=j&&(X.remove="SFX"===he?new RegExp(j+"$"):j),P.push(X)}B[we]={type:he,combineable:"Y"==xe,entries:P},K+=A}else if("COMPOUNDRULE"===he){for(ne=K+1,Z=K+1+(A=parseInt(ae[1],10));ne<Z;ne++)N=(H=fe[ne]).split(/\s+/),this.compoundRules.push(N[1]);K+=A}else"REP"===he?3===(N=H.split(/\s+/)).length&&this.replacementTable.push([N[1],N[2]]):this.flags[he]=ae[1]}return B},_removeAffixComments:function(z){return z.match(/^\s*#/,"")?"":z},_parseDIC:function(z){var B=(z=this._removeDicComments(z)).split(/\r?\n/),H={};function F(Q,Fe){H.hasOwnProperty(Q)||(H[Q]=null),Fe.length>0&&(null===H[Q]&&(H[Q]=[]),H[Q].push(Fe))}for(var A=1,N=B.length;A<N;A++){var K=B[A];if(K){var ne=K.split("/",2),J=ne[0];if(ne.length>1){var Z=this.parseRuleCodes(ne[1]);(!("NEEDAFFIX"in this.flags)||-1==Z.indexOf(this.flags.NEEDAFFIX))&&F(J,Z);for(var fe=0,ae=Z.length;fe<ae;fe++){var he=Z[fe],we=this.rules[he];if(we)for(var xe=this._applyRule(J,we),P=0,j=xe.length;P<j;P++){var V=xe[P];if(F(V,[]),we.combineable)for(var Y=fe+1;Y<ae;Y++){var le=this.rules[Z[Y]];if(le&&le.combineable&&we.type!=le.type)for(var X=this._applyRule(V,le),Ce=0,Ne=X.length;Ce<Ne;Ce++)F(X[Ce],[])}}he in this.compoundRuleCodes&&this.compoundRuleCodes[he].push(J)}}else F(J.trim(),[])}}return H},_removeDicComments:function(z){return z.replace(/^\t.*$/gm,"")},parseRuleCodes:function(z){if(!z)return[];if(!("FLAG"in this.flags))return z.split("");if("long"===this.flags.FLAG){for(var B=[],H=0,F=z.length;H<F;H+=2)B.push(z.substr(H,2));return B}return"num"===this.flags.FLAG?z.split(","):void 0},_applyRule:function(z,B){for(var H=B.entries,F=[],A=0,N=H.length;A<N;A++){var K=H[A];if(!K.match||z.match(K.match)){var ne=z;if(K.remove&&(ne=ne.replace(K.remove,"")),"SFX"===B.type?ne+=K.add:ne=K.add+ne,F.push(ne),"continuationClasses"in K)for(var J=0,Z=K.continuationClasses.length;J<Z;J++){var fe=this.rules[K.continuationClasses[J]];fe&&(F=F.concat(this._applyRule(ne,fe)))}}}return F},check:function(z){if(!this.loaded)throw"Dictionary not loaded.";var B=z.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(B))return!0;if(B.toUpperCase()===B){var H=B[0]+B.substring(1).toLowerCase();if(this.hasFlag(H,"KEEPCASE"))return!1;if(this.checkExact(H)||this.checkExact(B.toLowerCase()))return!0}var F=B[0].toLowerCase()+B.substring(1);if(F!==B){if(this.hasFlag(F,"KEEPCASE"))return!1;if(this.checkExact(F))return!0}return!1},checkExact:function(z){if(!this.loaded)throw"Dictionary not loaded.";var H,F,B=this.dictionaryTable[z];if(void 0===B){if("COMPOUNDMIN"in this.flags&&z.length>=this.flags.COMPOUNDMIN)for(H=0,F=this.compoundRules.length;H<F;H++)if(z.match(this.compoundRules[H]))return!0}else{if(null===B)return!0;if("object"==typeof B)for(H=0,F=B.length;H<F;H++)if(!this.hasFlag(z,"ONLYINCOMPOUND",B[H]))return!0}return!1},hasFlag:function(z,B,H){if(!this.loaded)throw"Dictionary not loaded.";return!(!(B in this.flags)||(void 0===H&&(H=Array.prototype.concat.apply([],this.dictionaryTable[z])),!H||-1===H.indexOf(this.flags[B])))},alphabet:"",suggest:function(z,B){if(!this.loaded)throw"Dictionary not loaded.";if(B=B||5,this.memoized.hasOwnProperty(z)){var H=this.memoized[z].limit;if(B<=H||this.memoized[z].suggestions.length<H)return this.memoized[z].suggestions.slice(0,B)}if(this.check(z))return[];for(var F=0,A=this.replacementTable.length;F<A;F++){var N=this.replacementTable[F];if(-1!==z.indexOf(N[0])){var K=z.replace(N[0],N[1]);if(this.check(K))return[K]}}var ne=this;function J(fe,ae){var we,xe,j,Y,he={},ce=ne.alphabet.length;if("string"==typeof fe){var le=fe;(fe={})[le]=!0}for(var le in fe)for(we=0,j=le.length+1;we<j;we++){var X=[le.substring(0,we),le.substring(we)];if(X[1]&&(Y=X[0]+X[1].substring(1),(!ae||ne.check(Y))&&(Y in he?he[Y]+=1:he[Y]=1)),X[1].length>1&&X[1][1]!==X[1][0]&&(Y=X[0]+X[1][1]+X[1][0]+X[1].substring(2),(!ae||ne.check(Y))&&(Y in he?he[Y]+=1:he[Y]=1)),X[1]){var Ce=X[1].substring(0,1).toUpperCase()===X[1].substring(0,1)?"uppercase":"lowercase";for(xe=0;xe<ce;xe++){var Ne=ne.alphabet[xe];"uppercase"===Ce&&(Ne=Ne.toUpperCase()),Ne!=X[1].substring(0,1)&&(Y=X[0]+Ne+X[1].substring(1),(!ae||ne.check(Y))&&(Y in he?he[Y]+=1:he[Y]=1))}}if(X[1])for(xe=0;xe<ce;xe++)Ce=X[0].substring(-1).toUpperCase()===X[0].substring(-1)&&X[1].substring(0,1).toUpperCase()===X[1].substring(0,1)?"uppercase":"lowercase",Ne=ne.alphabet[xe],"uppercase"===Ce&&(Ne=Ne.toUpperCase()),Y=X[0]+Ne+X[1],(!ae||ne.check(Y))&&(Y in he?he[Y]+=1:he[Y]=1)}return he}return ne.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[z]={suggestions:function Z(fe){var ae=J(fe),we=J(ae,!0);for(var xe in ae)!ne.check(xe)||(xe in we?we[xe]+=ae[xe]:we[xe]=ae[xe]);var P,V=[];for(P in we)we.hasOwnProperty(P)&&V.push([P,we[P]]);V.sort(function Y(Ce,Ne){var se=Ce[1],Q=Ne[1];return se<Q?-1:se>Q?1:Ne[0].localeCompare(Ce[0])}).reverse();var ce=[],le="lowercase";fe.toUpperCase()===fe?le="uppercase":fe.substr(0,1).toUpperCase()+fe.substr(1).toLowerCase()===fe&&(le="capitalized");var X=B;for(P=0;P<Math.min(X,V.length);P++)"uppercase"===le?V[P][0]=V[P][0].toUpperCase():"capitalized"===le&&(V[P][0]=V[P][0].substr(0,1).toUpperCase()+V[P][0].substr(1)),ne.hasFlag(V[P][0],"NOSUGGEST")||-1!=ce.indexOf(V[P][0])?X++:ce.push(V[P][0]);return ce}(z),limit:B},this.memoized[z].suggestions}}})(),ot.exports=U},83082:()=>{},36704:(ot,He)=>{"use strict";function U(R,_){for(var D=0;D<_.length;D++){var a=_[D];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(R,a.key,a)}}function H(R,_){(null==_||_>R.length)&&(_=R.length);for(var D=0,a=new Array(_);D<_;D++)a[D]=R[D];return a}function F(R,_){var D="undefined"!=typeof Symbol&&R[Symbol.iterator]||R["@@iterator"];if(D)return(D=D.call(R)).next.bind(D);if(Array.isArray(R)||(D=function B(R,_){if(R){if("string"==typeof R)return H(R,_);var D=Object.prototype.toString.call(R).slice(8,-1);if("Object"===D&&R.constructor&&(D=R.constructor.name),"Map"===D||"Set"===D)return Array.from(R);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return H(R,_)}}(R))||_&&R&&"number"==typeof R.length){D&&(R=D);var a=0;return function(){return a>=R.length?{done:!0}:{done:!1,value:R[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}He.ce={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var K=/[&<>"']/,ne=/[&<>"']/g,J=/[<>"']|&(?!#?\w+;)/,Z=/[<>"']|&(?!#?\w+;)/g,fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ae=function(_){return fe[_]};function he(R,_){if(_){if(K.test(R))return R.replace(ne,ae)}else if(J.test(R))return R.replace(Z,ae);return R}var we=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function xe(R){return R.replace(we,function(_,D){return"colon"===(D=D.toLowerCase())?":":"#"===D.charAt(0)?"x"===D.charAt(1)?String.fromCharCode(parseInt(D.substring(2),16)):String.fromCharCode(+D.substring(1)):""})}var P=/(^|[^\[])\^/g;function j(R,_){R=R.source||R,_=_||"";var D={replace:function(l,u){return u=(u=u.source||u).replace(P,"$1"),R=R.replace(l,u),D},getRegex:function(){return new RegExp(R,_)}};return D}var V=/[^\w:]/g,Y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ce(R,_,D){if(R){var a;try{a=decodeURIComponent(xe(D)).replace(V,"").toLowerCase()}catch(l){return null}if(0===a.indexOf("javascript:")||0===a.indexOf("vbscript:")||0===a.indexOf("data:"))return null}_&&!Y.test(D)&&(D=function se(R,_){le[" "+R]||(le[" "+R]=X.test(R)?R+"/":W(R,"/",!0));var D=-1===(R=le[" "+R]).indexOf(":");return"//"===_.substring(0,2)?D?_:R.replace(Ce,"$1")+_:"/"===_.charAt(0)?D?_:R.replace(Ne,"$1")+_:R+_}(_,D));try{D=encodeURI(D).replace(/%25/g,"%")}catch(l){return null}return D}var le={},X=/^[^:]+:\/*[^/]*$/,Ce=/^([^:]+:)[\s\S]*$/,Ne=/^([^:]+:\/*[^/]*)[\s\S]*$/,Q={exec:function(){}};function Fe(R){for(var D,a,_=1;_<arguments.length;_++)for(a in D=arguments[_])Object.prototype.hasOwnProperty.call(D,a)&&(R[a]=D[a]);return R}function We(R,_){var a=R.replace(/\|/g,function(u,d,b){for(var k=!1,q=d;--q>=0&&"\\"===b[q];)k=!k;return k?"|":" |"}).split(/ \|/),l=0;if(a[0].trim()||a.shift(),a.length>0&&!a[a.length-1].trim()&&a.pop(),a.length>_)a.splice(_);else for(;a.length<_;)a.push("");for(;l<a.length;l++)a[l]=a[l].trim().replace(/\\\|/g,"|");return a}function W(R,_,D){var a=R.length;if(0===a)return"";for(var l=0;l<a;){var u=R.charAt(a-l-1);if(u!==_||D){if(u===_||!D)break;l++}else l++}return R.substr(0,a-l)}function te(R){R&&R.sanitize&&!R.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ee(R,_){if(_<1)return"";for(var D="";_>1;)1&_&&(D+=R),_>>=1,R+=R;return D+R}function Ye(R,_,D,a){var l=_.href,u=_.title?he(_.title):null,d=R[1].replace(/\\([\[\]])/g,"$1");if("!"!==R[0].charAt(0)){a.state.inLink=!0;var b={type:"link",raw:D,href:l,title:u,text:d,tokens:a.inlineTokens(d,[])};return a.state.inLink=!1,b}return{type:"image",raw:D,href:l,title:u,text:he(d)}}var ke=function(){function R(D){this.options=D||He.ce}var _=R.prototype;return _.space=function(a){var l=this.rules.block.newline.exec(a);if(l&&l[0].length>0)return{type:"space",raw:l[0]}},_.code=function(a){var l=this.rules.block.code.exec(a);if(l){var u=l[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:l[0],codeBlockStyle:"indented",text:this.options.pedantic?u:W(u,"\n")}}},_.fences=function(a){var l=this.rules.block.fences.exec(a);if(l){var u=l[0],d=function at(R,_){var D=R.match(/^(\s+)(?:```)/);if(null===D)return _;var a=D[1];return _.split("\n").map(function(l){var u=l.match(/^\s+/);return null===u?l:u[0].length>=a.length?l.slice(a.length):l}).join("\n")}(u,l[3]||"");return{type:"code",raw:u,lang:l[2]?l[2].trim():l[2],text:d}}},_.heading=function(a){var l=this.rules.block.heading.exec(a);if(l){var u=l[2].trim();if(/#$/.test(u)){var d=W(u,"#");(this.options.pedantic||!d||/ $/.test(d))&&(u=d.trim())}var b={type:"heading",raw:l[0],depth:l[1].length,text:u,tokens:[]};return this.lexer.inline(b.text,b.tokens),b}},_.hr=function(a){var l=this.rules.block.hr.exec(a);if(l)return{type:"hr",raw:l[0]}},_.blockquote=function(a){var l=this.rules.block.blockquote.exec(a);if(l){var u=l[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:l[0],tokens:this.lexer.blockTokens(u,[]),text:u}}},_.list=function(a){var l=this.rules.block.list.exec(a);if(l){var u,d,b,k,q,c,v,x,E,S,w,T,L=l[1].trim(),I=L.length>1,ee={type:"list",raw:"",ordered:I,start:I?+L.slice(0,-1):"",loose:!1,items:[]};L=I?"\\d{1,9}\\"+L.slice(-1):"\\"+L,this.options.pedantic&&(L=I?L:"[*+-]");for(var ie=new RegExp("^( {0,3}"+L+")((?: [^\\n]*)?(?:\\n|$))");a&&(T=!1,(l=ie.exec(a))&&!this.rules.block.hr.test(a));){if(a=a.substring((u=l[0]).length),x=l[2].split("\n",1)[0],E=a.split("\n",1)[0],this.options.pedantic?(k=2,w=x.trimLeft()):(k=l[2].search(/[^ ]/),w=x.slice(k=k>4?1:k),k+=l[1].length),c=!1,!x&&/^ *$/.test(E)&&(u+=E+"\n",a=a.substring(E.length+1),T=!0),!T)for(var Oe=new RegExp("^ {0,"+Math.min(3,k-1)+"}(?:[*+-]|\\d{1,9}[.)])");a&&(x=S=a.split("\n",1)[0],this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Oe.test(x));){if(x.search(/[^ ]/)>=k||!x.trim())w+="\n"+x.slice(k);else{if(c)break;w+="\n"+x}!c&&!x.trim()&&(c=!0),u+=S+"\n",a=a.substring(S.length+1)}ee.loose||(v?ee.loose=!0:/\n *\n *$/.test(u)&&(v=!0)),this.options.gfm&&(d=/^\[[ xX]\] /.exec(w))&&(b="[ ] "!==d[0],w=w.replace(/^\[[ xX]\] +/,"")),ee.items.push({type:"list_item",raw:u,task:!!d,checked:b,loose:!1,text:w}),ee.raw+=u}ee.items[ee.items.length-1].raw=u.trimRight(),ee.items[ee.items.length-1].text=w.trimRight(),ee.raw=ee.raw.trimRight();var Be=ee.items.length;for(q=0;q<Be;q++){this.lexer.state.top=!1,ee.items[q].tokens=this.lexer.blockTokens(ee.items[q].text,[]);var ye=ee.items[q].tokens.filter(function(Re){return"space"===Re.type}),Ie=ye.every(function(Re){for(var nt,je=0,pt=F(Re.raw.split(""));!(nt=pt()).done;)if("\n"===nt.value&&(je+=1),je>1)return!0;return!1});!ee.loose&&ye.length&&Ie&&(ee.loose=!0,ee.items[q].loose=!0)}return ee}},_.html=function(a){var l=this.rules.block.html.exec(a);if(l){var u={type:"html",raw:l[0],pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:l[0]};return this.options.sanitize&&(u.type="paragraph",u.text=this.options.sanitizer?this.options.sanitizer(l[0]):he(l[0]),u.tokens=[],this.lexer.inline(u.text,u.tokens)),u}},_.def=function(a){var l=this.rules.block.def.exec(a);if(l)return l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),{type:"def",tag:l[1].toLowerCase().replace(/\s+/g," "),raw:l[0],href:l[2],title:l[3]}},_.table=function(a){var l=this.rules.block.table.exec(a);if(l){var u={type:"table",header:We(l[1]).map(function(v){return{text:v}}),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:l[3]&&l[3].trim()?l[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(u.header.length===u.align.length){u.raw=l[0];var b,k,q,c,d=u.align.length;for(b=0;b<d;b++)u.align[b]=/^ *-+: *$/.test(u.align[b])?"right":/^ *:-+: *$/.test(u.align[b])?"center":/^ *:-+ *$/.test(u.align[b])?"left":null;for(d=u.rows.length,b=0;b<d;b++)u.rows[b]=We(u.rows[b],u.header.length).map(function(v){return{text:v}});for(d=u.header.length,k=0;k<d;k++)u.header[k].tokens=[],this.lexer.inlineTokens(u.header[k].text,u.header[k].tokens);for(d=u.rows.length,k=0;k<d;k++)for(c=u.rows[k],q=0;q<c.length;q++)c[q].tokens=[],this.lexer.inlineTokens(c[q].text,c[q].tokens);return u}}},_.lheading=function(a){var l=this.rules.block.lheading.exec(a);if(l){var u={type:"heading",raw:l[0],depth:"="===l[2].charAt(0)?1:2,text:l[1],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}},_.paragraph=function(a){var l=this.rules.block.paragraph.exec(a);if(l){var u={type:"paragraph",raw:l[0],text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}},_.text=function(a){var l=this.rules.block.text.exec(a);if(l){var u={type:"text",raw:l[0],text:l[0],tokens:[]};return this.lexer.inline(u.text,u.tokens),u}},_.escape=function(a){var l=this.rules.inline.escape.exec(a);if(l)return{type:"escape",raw:l[0],text:he(l[1])}},_.tag=function(a){var l=this.rules.inline.tag.exec(a);if(l)return!this.lexer.state.inLink&&/^<a /i.test(l[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(l[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:l[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):he(l[0]):l[0]}},_.link=function(a){var l=this.rules.inline.link.exec(a);if(l){var u=l[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;var d=W(u.slice(0,-1),"\\");if((u.length-d.length)%2==0)return}else{var b=function oe(R,_){if(-1===R.indexOf(_[1]))return-1;for(var D=R.length,a=0,l=0;l<D;l++)if("\\"===R[l])l++;else if(R[l]===_[0])a++;else if(R[l]===_[1]&&--a<0)return l;return-1}(l[2],"()");if(b>-1){var q=(0===l[0].indexOf("!")?5:4)+l[1].length+b;l[2]=l[2].substring(0,b),l[0]=l[0].substring(0,q).trim(),l[3]=""}}var c=l[2],v="";if(this.options.pedantic){var x=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(c);x&&(c=x[1],v=x[3])}else v=l[3]?l[3].slice(1,-1):"";return c=c.trim(),/^</.test(c)&&(c=this.options.pedantic&&!/>$/.test(u)?c.slice(1):c.slice(1,-1)),Ye(l,{href:c&&c.replace(this.rules.inline._escapes,"$1"),title:v&&v.replace(this.rules.inline._escapes,"$1")},l[0],this.lexer)}},_.reflink=function(a,l){var u;if((u=this.rules.inline.reflink.exec(a))||(u=this.rules.inline.nolink.exec(a))){var d=(u[2]||u[1]).replace(/\s+/g," ");if(!(d=l[d.toLowerCase()])||!d.href){var b=u[0].charAt(0);return{type:"text",raw:b,text:b}}return Ye(u,d,u[0],this.lexer)}},_.emStrong=function(a,l,u){void 0===u&&(u="");var d=this.rules.inline.emStrong.lDelim.exec(a);if(d&&(!d[3]||!u.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var b=d[1]||d[2]||"";if(!b||b&&(""===u||this.rules.inline.punctuation.exec(u))){var q,c,k=d[0].length-1,v=k,x=0,E="*"===d[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(E.lastIndex=0,l=l.slice(-1*a.length+k);null!=(d=E.exec(l));)if(q=d[1]||d[2]||d[3]||d[4]||d[5]||d[6]){if(c=q.length,d[3]||d[4]){v+=c;continue}if((d[5]||d[6])&&k%3&&!((k+c)%3)){x+=c;continue}if(!((v-=c)>0)){if(c=Math.min(c,c+v+x),Math.min(k,c)%2){var S=a.slice(1,k+d.index+c);return{type:"em",raw:a.slice(0,k+d.index+c+1),text:S,tokens:this.lexer.inlineTokens(S,[])}}var w=a.slice(2,k+d.index+c-1);return{type:"strong",raw:a.slice(0,k+d.index+c+1),text:w,tokens:this.lexer.inlineTokens(w,[])}}}}}},_.codespan=function(a){var l=this.rules.inline.code.exec(a);if(l){var u=l[2].replace(/\n/g," "),d=/[^ ]/.test(u),b=/^ /.test(u)&&/ $/.test(u);return d&&b&&(u=u.substring(1,u.length-1)),u=he(u,!0),{type:"codespan",raw:l[0],text:u}}},_.br=function(a){var l=this.rules.inline.br.exec(a);if(l)return{type:"br",raw:l[0]}},_.del=function(a){var l=this.rules.inline.del.exec(a);if(l)return{type:"del",raw:l[0],text:l[2],tokens:this.lexer.inlineTokens(l[2],[])}},_.autolink=function(a,l){var d,b,u=this.rules.inline.autolink.exec(a);if(u)return b="@"===u[2]?"mailto:"+(d=he(this.options.mangle?l(u[1]):u[1])):d=he(u[1]),{type:"link",raw:u[0],text:d,href:b,tokens:[{type:"text",raw:d,text:d}]}},_.url=function(a,l){var u;if(u=this.rules.inline.url.exec(a)){var d,b;if("@"===u[2])b="mailto:"+(d=he(this.options.mangle?l(u[0]):u[0]));else{var k;do{k=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0]}while(k!==u[0]);d=he(u[0]),b="www."===u[1]?"http://"+d:d}return{type:"link",raw:u[0],text:d,href:b,tokens:[{type:"text",raw:d,text:d}]}}},_.inlineText=function(a,l){var d,u=this.rules.inline.text.exec(a);if(u)return d=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):he(u[0]):u[0]:he(this.options.smartypants?l(u[0]):u[0]),{type:"text",raw:u[0],text:d}},R}(),m={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Q,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};m.def=j(m.def).replace("label",m._label).replace("title",m._title).getRegex(),m.bullet=/(?:[*+-]|\d{1,9}[.)])/,m.listItemStart=j(/^( *)(bull) */).replace("bull",m.bullet).getRegex(),m.list=j(m.list).replace(/bull/g,m.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+m.def.source+")").getRegex(),m._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",m._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,m.html=j(m.html,"i").replace("comment",m._comment).replace("tag",m._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m.paragraph=j(m._paragraph).replace("hr",m.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",m._tag).getRegex(),m.blockquote=j(m.blockquote).replace("paragraph",m.paragraph).getRegex(),m.normal=Fe({},m),m.gfm=Fe({},m.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),m.gfm.table=j(m.gfm.table).replace("hr",m.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",m._tag).getRegex(),m.gfm.paragraph=j(m._paragraph).replace("hr",m.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",m.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",m._tag).getRegex(),m.pedantic=Fe({},m.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",m._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Q,paragraph:j(m.normal._paragraph).replace("hr",m.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",m.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var g={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Q,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Q,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ge(R){return R.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ue(R){var D,a,_="",l=R.length;for(D=0;D<l;D++)a=R.charCodeAt(D),Math.random()>.5&&(a="x"+a.toString(16)),_+="&#"+a+";";return _}g._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",g.punctuation=j(g.punctuation).replace(/punctuation/g,g._punctuation).getRegex(),g.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,g.escapedEmSt=/\\\*|\\_/g,g._comment=j(m._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),g.emStrong.lDelim=j(g.emStrong.lDelim).replace(/punct/g,g._punctuation).getRegex(),g.emStrong.rDelimAst=j(g.emStrong.rDelimAst,"g").replace(/punct/g,g._punctuation).getRegex(),g.emStrong.rDelimUnd=j(g.emStrong.rDelimUnd,"g").replace(/punct/g,g._punctuation).getRegex(),g._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,g._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,g._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,g.autolink=j(g.autolink).replace("scheme",g._scheme).replace("email",g._email).getRegex(),g._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,g.tag=j(g.tag).replace("comment",g._comment).replace("attribute",g._attribute).getRegex(),g._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,g._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,g._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,g.link=j(g.link).replace("label",g._label).replace("href",g._href).replace("title",g._title).getRegex(),g.reflink=j(g.reflink).replace("label",g._label).replace("ref",m._label).getRegex(),g.nolink=j(g.nolink).replace("ref",m._label).getRegex(),g.reflinkSearch=j(g.reflinkSearch,"g").replace("reflink",g.reflink).replace("nolink",g.nolink).getRegex(),g.normal=Fe({},g),g.pedantic=Fe({},g.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",g._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",g._label).getRegex()}),g.gfm=Fe({},g.normal,{escape:j(g.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),g.gfm.url=j(g.gfm.url,"i").replace("email",g.gfm._extended_email).getRegex(),g.breaks=Fe({},g.gfm,{br:j(g.br).replace("{2,}","*").getRegex(),text:j(g.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Te=function(){function R(D){this.tokens=[],this.tokens.links=Object.create(null),this.options=D||He.ce,this.options.tokenizer=this.options.tokenizer||new ke,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var a={block:m.normal,inline:g.normal};this.options.pedantic?(a.block=m.pedantic,a.inline=g.pedantic):this.options.gfm&&(a.block=m.gfm,a.inline=this.options.breaks?g.breaks:g.gfm),this.tokenizer.rules=a}R.lex=function(a,l){return new R(l).lex(a)},R.lexInline=function(a,l){return new R(l).inlineTokens(a)};var _=R.prototype;return _.lex=function(a){a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(a,this.tokens);for(var l;l=this.inlineQueue.shift();)this.inlineTokens(l.src,l.tokens);return this.tokens},_.blockTokens=function(a,l){var d,b,k,q,u=this;for(void 0===l&&(l=[]),this.options.pedantic&&(a=a.replace(/^ +$/gm,""));a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(v){return!!(d=v.call({lexer:u},a,l))&&(a=a.substring(d.raw.length),l.push(d),!0)}))){if(d=this.tokenizer.space(a)){a=a.substring(d.raw.length),1===d.raw.length&&l.length>0?l[l.length-1].raw+="\n":l.push(d);continue}if(d=this.tokenizer.code(a)){a=a.substring(d.raw.length),!(b=l[l.length-1])||"paragraph"!==b.type&&"text"!==b.type?l.push(d):(b.raw+="\n"+d.raw,b.text+="\n"+d.text,this.inlineQueue[this.inlineQueue.length-1].src=b.text);continue}if(d=this.tokenizer.fences(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.heading(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.hr(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.blockquote(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.list(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.html(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.def(a)){a=a.substring(d.raw.length),!(b=l[l.length-1])||"paragraph"!==b.type&&"text"!==b.type?this.tokens.links[d.tag]||(this.tokens.links[d.tag]={href:d.href,title:d.title}):(b.raw+="\n"+d.raw,b.text+="\n"+d.raw,this.inlineQueue[this.inlineQueue.length-1].src=b.text);continue}if(d=this.tokenizer.table(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.lheading(a)){a=a.substring(d.raw.length),l.push(d);continue}if(k=a,this.options.extensions&&this.options.extensions.startBlock&&function(){var v=1/0,x=a.slice(1),E=void 0;u.options.extensions.startBlock.forEach(function(S){"number"==typeof(E=S.call({lexer:this},x))&&E>=0&&(v=Math.min(v,E))}),v<1/0&&v>=0&&(k=a.substring(0,v+1))}(),this.state.top&&(d=this.tokenizer.paragraph(k))){b=l[l.length-1],q&&"paragraph"===b.type?(b.raw+="\n"+d.raw,b.text+="\n"+d.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=b.text):l.push(d),q=k.length!==a.length,a=a.substring(d.raw.length);continue}if(d=this.tokenizer.text(a)){a=a.substring(d.raw.length),(b=l[l.length-1])&&"text"===b.type?(b.raw+="\n"+d.raw,b.text+="\n"+d.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=b.text):l.push(d);continue}if(a){var c="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return this.state.top=!0,l},_.inline=function(a,l){this.inlineQueue.push({src:a,tokens:l})},_.inlineTokens=function(a,l){var u=this;void 0===l&&(l=[]);var d,b,k,c,v,x,q=a;if(this.tokens.links){var E=Object.keys(this.tokens.links);if(E.length>0)for(;null!=(c=this.tokenizer.rules.inline.reflinkSearch.exec(q));)E.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(q=q.slice(0,c.index)+"["+Ee("a",c[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(c=this.tokenizer.rules.inline.blockSkip.exec(q));)q=q.slice(0,c.index)+"["+Ee("a",c[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(c=this.tokenizer.rules.inline.escapedEmSt.exec(q));)q=q.slice(0,c.index)+"++"+q.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(v||(x=""),v=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(w){return!!(d=w.call({lexer:u},a,l))&&(a=a.substring(d.raw.length),l.push(d),!0)}))){if(d=this.tokenizer.escape(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.tag(a)){a=a.substring(d.raw.length),(b=l[l.length-1])&&"text"===d.type&&"text"===b.type?(b.raw+=d.raw,b.text+=d.text):l.push(d);continue}if(d=this.tokenizer.link(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(d.raw.length),(b=l[l.length-1])&&"text"===d.type&&"text"===b.type?(b.raw+=d.raw,b.text+=d.text):l.push(d);continue}if(d=this.tokenizer.emStrong(a,q,x)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.codespan(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.br(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.del(a)){a=a.substring(d.raw.length),l.push(d);continue}if(d=this.tokenizer.autolink(a,Ue)){a=a.substring(d.raw.length),l.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(a,Ue))){a=a.substring(d.raw.length),l.push(d);continue}if(k=a,this.options.extensions&&this.options.extensions.startInline&&function(){var w=1/0,T=a.slice(1),L=void 0;u.options.extensions.startInline.forEach(function(I){"number"==typeof(L=I.call({lexer:this},T))&&L>=0&&(w=Math.min(w,L))}),w<1/0&&w>=0&&(k=a.substring(0,w+1))}(),d=this.tokenizer.inlineText(k,ge)){a=a.substring(d.raw.length),"_"!==d.raw.slice(-1)&&(x=d.raw.slice(-1)),v=!0,(b=l[l.length-1])&&"text"===b.type?(b.raw+=d.raw,b.text+=d.text):l.push(d);continue}if(a){var S="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(S);break}throw new Error(S)}}return l},function z(R,_,D){_&&U(R.prototype,_),D&&U(R,D),Object.defineProperty(R,"prototype",{writable:!1})}(R,null,[{key:"rules",get:function(){return{block:m,inline:g}}}]),R}(),Ke=function(){function R(D){this.options=D||He.ce}var _=R.prototype;return _.code=function(a,l,u){var d=(l||"").match(/\S*/)[0];if(this.options.highlight){var b=this.options.highlight(a,d);null!=b&&b!==a&&(u=!0,a=b)}return a=a.replace(/\n$/,"")+"\n",d?'<pre><code class="'+this.options.langPrefix+he(d,!0)+'">'+(u?a:he(a,!0))+"</code></pre>\n":"<pre><code>"+(u?a:he(a,!0))+"</code></pre>\n"},_.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"},_.html=function(a){return a},_.heading=function(a,l,u,d){return this.options.headerIds?"<h"+l+' id="'+this.options.headerPrefix+d.slug(u)+'">'+a+"</h"+l+">\n":"<h"+l+">"+a+"</h"+l+">\n"},_.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},_.list=function(a,l,u){var d=l?"ol":"ul";return"<"+d+(l&&1!==u?' start="'+u+'"':"")+">\n"+a+"</"+d+">\n"},_.listitem=function(a){return"<li>"+a+"</li>\n"},_.checkbox=function(a){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_.paragraph=function(a){return"<p>"+a+"</p>\n"},_.table=function(a,l){return l&&(l="<tbody>"+l+"</tbody>"),"<table>\n<thead>\n"+a+"</thead>\n"+l+"</table>\n"},_.tablerow=function(a){return"<tr>\n"+a+"</tr>\n"},_.tablecell=function(a,l){var u=l.header?"th":"td";return(l.align?"<"+u+' align="'+l.align+'">':"<"+u+">")+a+"</"+u+">\n"},_.strong=function(a){return"<strong>"+a+"</strong>"},_.em=function(a){return"<em>"+a+"</em>"},_.codespan=function(a){return"<code>"+a+"</code>"},_.br=function(){return this.options.xhtml?"<br/>":"<br>"},_.del=function(a){return"<del>"+a+"</del>"},_.link=function(a,l,u){if(null===(a=ce(this.options.sanitize,this.options.baseUrl,a)))return u;var d='<a href="'+he(a)+'"';return l&&(d+=' title="'+l+'"'),d+">"+u+"</a>"},_.image=function(a,l,u){if(null===(a=ce(this.options.sanitize,this.options.baseUrl,a)))return u;var d='<img src="'+a+'" alt="'+u+'"';return l&&(d+=' title="'+l+'"'),d+(this.options.xhtml?"/>":">")},_.text=function(a){return a},R}(),st=function(){function R(){}var _=R.prototype;return _.strong=function(a){return a},_.em=function(a){return a},_.codespan=function(a){return a},_.del=function(a){return a},_.html=function(a){return a},_.text=function(a){return a},_.link=function(a,l,u){return""+u},_.image=function(a,l,u){return""+u},_.br=function(){return""},R}(),$e=function(){function R(){this.seen={}}var _=R.prototype;return _.serialize=function(a){return a.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_.getNextSafeSlug=function(a,l){var u=a,d=0;if(this.seen.hasOwnProperty(u)){d=this.seen[a];do{u=a+"-"+ ++d}while(this.seen.hasOwnProperty(u))}return l||(this.seen[a]=d,this.seen[u]=0),u},_.slug=function(a,l){void 0===l&&(l={});var u=this.serialize(a);return this.getNextSafeSlug(u,l.dryrun)},R}(),be=function(){function R(D){this.options=D||He.ce,this.options.renderer=this.options.renderer||new Ke,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new st,this.slugger=new $e}R.parse=function(a,l){return new R(l).parse(a)},R.parseInline=function(a,l){return new R(l).parseInline(a)};var _=R.prototype;return _.parse=function(a,l){void 0===l&&(l=!0);var d,b,k,q,c,v,x,E,S,w,T,L,I,ee,ie,Oe,Be,ye,Ie,u="",Re=a.length;for(d=0;d<Re;d++)if(w=a[d],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[w.type]&&(!1!==(Ie=this.options.extensions.renderers[w.type].call({parser:this},w))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(w.type)))u+=Ie||"";else switch(w.type){case"space":continue;case"hr":u+=this.renderer.hr();continue;case"heading":u+=this.renderer.heading(this.parseInline(w.tokens),w.depth,xe(this.parseInline(w.tokens,this.textRenderer)),this.slugger);continue;case"code":u+=this.renderer.code(w.text,w.lang,w.escaped);continue;case"table":for(E="",x="",q=w.header.length,b=0;b<q;b++)x+=this.renderer.tablecell(this.parseInline(w.header[b].tokens),{header:!0,align:w.align[b]});for(E+=this.renderer.tablerow(x),S="",q=w.rows.length,b=0;b<q;b++){for(x="",c=(v=w.rows[b]).length,k=0;k<c;k++)x+=this.renderer.tablecell(this.parseInline(v[k].tokens),{header:!1,align:w.align[k]});S+=this.renderer.tablerow(x)}u+=this.renderer.table(E,S);continue;case"blockquote":S=this.parse(w.tokens),u+=this.renderer.blockquote(S);continue;case"list":for(T=w.ordered,L=w.start,I=w.loose,q=w.items.length,S="",b=0;b<q;b++)Oe=(ie=w.items[b]).checked,Be=ie.task,ee="",ie.task&&(ye=this.renderer.checkbox(Oe),I?ie.tokens.length>0&&"paragraph"===ie.tokens[0].type?(ie.tokens[0].text=ye+" "+ie.tokens[0].text,ie.tokens[0].tokens&&ie.tokens[0].tokens.length>0&&"text"===ie.tokens[0].tokens[0].type&&(ie.tokens[0].tokens[0].text=ye+" "+ie.tokens[0].tokens[0].text)):ie.tokens.unshift({type:"text",text:ye}):ee+=ye),ee+=this.parse(ie.tokens,I),S+=this.renderer.listitem(ee,Be,Oe);u+=this.renderer.list(S,T,L);continue;case"html":u+=this.renderer.html(w.text);continue;case"paragraph":u+=this.renderer.paragraph(this.parseInline(w.tokens));continue;case"text":for(S=w.tokens?this.parseInline(w.tokens):w.text;d+1<Re&&"text"===a[d+1].type;)S+="\n"+((w=a[++d]).tokens?this.parseInline(w.tokens):w.text);u+=l?this.renderer.paragraph(S):S;continue;default:var qe='Token with "'+w.type+'" type was not found.';if(this.options.silent)return void console.error(qe);throw new Error(qe)}return u},_.parseInline=function(a,l){l=l||this.renderer;var d,b,k,u="",q=a.length;for(d=0;d<q;d++)if(b=a[d],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(!1!==(k=this.options.extensions.renderers[b.type].call({parser:this},b))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(b.type)))u+=k||"";else switch(b.type){case"escape":case"text":u+=l.text(b.text);break;case"html":u+=l.html(b.text);break;case"link":u+=l.link(b.href,b.title,this.parseInline(b.tokens,l));break;case"image":u+=l.image(b.href,b.title,b.text);break;case"strong":u+=l.strong(this.parseInline(b.tokens,l));break;case"em":u+=l.em(this.parseInline(b.tokens,l));break;case"codespan":u+=l.codespan(b.text);break;case"br":u+=l.br();break;case"del":u+=l.del(this.parseInline(b.tokens,l));break;default:var c='Token with "'+b.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}return u},R}();function Se(R,_,D){if(null==R)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof R)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(R)+", string expected");if("function"==typeof _&&(D=_,_=null),te(_=Fe({},Se.defaults,_||{})),D){var l,a=_.highlight;try{l=Te.lex(R,_)}catch(k){return D(k)}var u=function(q){var c;if(!q)try{_.walkTokens&&Se.walkTokens(l,_.walkTokens),c=be.parse(l,_)}catch(v){q=v}return _.highlight=a,q?D(q):D(null,c)};if(!a||a.length<3||(delete _.highlight,!l.length))return u();var d=0;return Se.walkTokens(l,function(k){"code"===k.type&&(d++,setTimeout(function(){a(k.text,k.lang,function(q,c){if(q)return u(q);null!=c&&c!==k.text&&(k.text=c,k.escaped=!0),0==--d&&u()})},0))}),void(0===d&&u())}try{var b=Te.lex(R,_);return _.walkTokens&&Se.walkTokens(b,_.walkTokens),be.parse(b,_)}catch(k){if(k.message+="\nPlease report this to https://github.com/markedjs/marked.",_.silent)return"<p>An error occurred:</p><pre>"+he(k.message+"",!0)+"</pre>";throw k}}Se.options=Se.setOptions=function(R){return Fe(Se.defaults,R),function N(R){He.ce=R}(Se.defaults),Se},Se.getDefaults=function A(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Se.defaults=He.ce,Se.use=function(){for(var R=arguments.length,_=new Array(R),D=0;D<R;D++)_[D]=arguments[D];var u,a=Fe.apply(void 0,[{}].concat(_)),l=Se.defaults.extensions||{renderers:{},childTokens:{}};_.forEach(function(d){if(d.extensions&&(u=!0,d.extensions.forEach(function(k){if(!k.name)throw new Error("extension name required");if(k.renderer){var q=l.renderers?l.renderers[k.name]:null;l.renderers[k.name]=q?function(){for(var c=arguments.length,v=new Array(c),x=0;x<c;x++)v[x]=arguments[x];var E=k.renderer.apply(this,v);return!1===E&&(E=q.apply(this,v)),E}:k.renderer}if(k.tokenizer){if(!k.level||"block"!==k.level&&"inline"!==k.level)throw new Error("extension level must be 'block' or 'inline'");l[k.level]?l[k.level].unshift(k.tokenizer):l[k.level]=[k.tokenizer],k.start&&("block"===k.level?l.startBlock?l.startBlock.push(k.start):l.startBlock=[k.start]:"inline"===k.level&&(l.startInline?l.startInline.push(k.start):l.startInline=[k.start]))}k.childTokens&&(l.childTokens[k.name]=k.childTokens)})),d.renderer&&function(){var k=Se.defaults.renderer||new Ke,q=function(x){var E=k[x];k[x]=function(){for(var S=arguments.length,w=new Array(S),T=0;T<S;T++)w[T]=arguments[T];var L=d.renderer[x].apply(k,w);return!1===L&&(L=E.apply(k,w)),L}};for(var c in d.renderer)q(c);a.renderer=k}(),d.tokenizer&&function(){var k=Se.defaults.tokenizer||new ke,q=function(x){var E=k[x];k[x]=function(){for(var S=arguments.length,w=new Array(S),T=0;T<S;T++)w[T]=arguments[T];var L=d.tokenizer[x].apply(k,w);return!1===L&&(L=E.apply(k,w)),L}};for(var c in d.tokenizer)q(c);a.tokenizer=k}(),d.walkTokens){var b=Se.defaults.walkTokens;a.walkTokens=function(k){d.walkTokens.call(this,k),b&&b.call(this,k)}}u&&(a.extensions=l),Se.setOptions(a)})},Se.walkTokens=function(R,_){for(var l,D=function(){var d=l.value;switch(_.call(Se,d),d.type){case"table":for(var k,b=F(d.header);!(k=b()).done;)Se.walkTokens(k.value.tokens,_);for(var v,c=F(d.rows);!(v=c()).done;)for(var S,E=F(v.value);!(S=E()).done;)Se.walkTokens(S.value.tokens,_);break;case"list":Se.walkTokens(d.items,_);break;default:Se.defaults.extensions&&Se.defaults.extensions.childTokens&&Se.defaults.extensions.childTokens[d.type]?Se.defaults.extensions.childTokens[d.type].forEach(function(T){Se.walkTokens(d[T],_)}):d.tokens&&Se.walkTokens(d.tokens,_)}},a=F(R);!(l=a()).done;)D()},Se.parseInline=function(R,_){if(null==R)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof R)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(R)+", string expected");te(_=Fe({},Se.defaults,_||{}));try{var D=Te.lexInline(R,_);return _.walkTokens&&Se.walkTokens(D,_.walkTokens),be.parseInline(D,_)}catch(a){if(a.message+="\nPlease report this to https://github.com/markedjs/marked.",_.silent)return"<p>An error occurred:</p><pre>"+he(a.message+"",!0)+"</pre>";throw a}},Se.Parser=be,Se.parser=be.parse,Se.Renderer=Ke,Se.TextRenderer=st,Se.Lexer=Te,Se.lexer=Te.lex,Se.Tokenizer=ke,Se.Slugger=$e,Se.parse=Se;He.TU=Se}}]);